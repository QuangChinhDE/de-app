(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ka=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RC={exports:{}},_l={},IC={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qo=Symbol.for("react.element"),eP=Symbol.for("react.portal"),tP=Symbol.for("react.fragment"),rP=Symbol.for("react.strict_mode"),nP=Symbol.for("react.profiler"),iP=Symbol.for("react.provider"),sP=Symbol.for("react.context"),oP=Symbol.for("react.forward_ref"),aP=Symbol.for("react.suspense"),uP=Symbol.for("react.memo"),lP=Symbol.for("react.lazy"),sx=Symbol.iterator;function cP(e){return e===null||typeof e!="object"?null:(e=sx&&e[sx]||e["@@iterator"],typeof e=="function"?e:null)}var AC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PC=Object.assign,DC={};function _s(e,t,r){this.props=e,this.context=t,this.refs=DC,this.updater=r||AC}_s.prototype.isReactComponent={};_s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jC(){}jC.prototype=_s.prototype;function nv(e,t,r){this.props=e,this.context=t,this.refs=DC,this.updater=r||AC}var iv=nv.prototype=new jC;iv.constructor=nv;PC(iv,_s.prototype);iv.isPureReactComponent=!0;var ox=Array.isArray,MC=Object.prototype.hasOwnProperty,sv={current:null},LC={key:!0,ref:!0,__self:!0,__source:!0};function FC(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)MC.call(t,n)&&!LC.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Qo,type:e,key:s,ref:o,props:i,_owner:sv.current}}function dP(e,t){return{$$typeof:Qo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ov(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qo}function fP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ax=/\/+/g;function Pc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fP(""+e.key):t.toString(36)}function iu(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Qo:case eP:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Pc(o,0):n,ox(i)?(r="",e!=null&&(r=e.replace(ax,"$&/")+"/"),iu(i,t,r,"",function(l){return l})):i!=null&&(ov(i)&&(i=dP(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ax,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",ox(e))for(var a=0;a<e.length;a++){s=e[a];var u=n+Pc(s,a);o+=iu(s,t,r,u,i)}else if(u=cP(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=n+Pc(s,a++),o+=iu(s,t,r,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ca(e,t,r){if(e==null)return e;var n=[],i=0;return iu(e,n,"","",function(s){return t.call(r,s,i++)}),n}function hP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _t={current:null},su={transition:null},pP={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:su,ReactCurrentOwner:sv};function $C(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Ca,forEach:function(e,t,r){Ca(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ca(e,function(){t++}),t},toArray:function(e){return Ca(e,function(t){return t})||[]},only:function(e){if(!ov(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=_s;Te.Fragment=tP;Te.Profiler=nP;Te.PureComponent=nv;Te.StrictMode=rP;Te.Suspense=aP;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pP;Te.act=$C;Te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=PC({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=sv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)MC.call(t,u)&&!LC.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:Qo,type:e.type,key:i,ref:s,props:n,_owner:o}};Te.createContext=function(e){return e={$$typeof:sP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:iP,_context:e},e.Consumer=e};Te.createElement=FC;Te.createFactory=function(e){var t=FC.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:oP,render:e}};Te.isValidElement=ov;Te.lazy=function(e){return{$$typeof:lP,_payload:{_status:-1,_result:e},_init:hP}};Te.memo=function(e,t){return{$$typeof:uP,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=su.transition;su.transition={};try{e()}finally{su.transition=t}};Te.unstable_act=$C;Te.useCallback=function(e,t){return _t.current.useCallback(e,t)};Te.useContext=function(e){return _t.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return _t.current.useDeferredValue(e)};Te.useEffect=function(e,t){return _t.current.useEffect(e,t)};Te.useId=function(){return _t.current.useId()};Te.useImperativeHandle=function(e,t,r){return _t.current.useImperativeHandle(e,t,r)};Te.useInsertionEffect=function(e,t){return _t.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return _t.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return _t.current.useMemo(e,t)};Te.useReducer=function(e,t,r){return _t.current.useReducer(e,t,r)};Te.useRef=function(e){return _t.current.useRef(e)};Te.useState=function(e){return _t.current.useState(e)};Te.useSyncExternalStore=function(e,t,r){return _t.current.useSyncExternalStore(e,t,r)};Te.useTransition=function(){return _t.current.useTransition()};Te.version="18.3.1";IC.exports=Te;var D=IC.exports;const we=Xo(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP=D,mP=Symbol.for("react.element"),yP=Symbol.for("react.fragment"),vP=Object.prototype.hasOwnProperty,xP=gP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wP={key:!0,ref:!0,__self:!0,__source:!0};function qC(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)vP.call(t,n)&&!wP.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:mP,type:e,key:s,ref:o,props:i,_owner:xP.current}}_l.Fragment=yP;_l.jsx=qC;_l.jsxs=qC;RC.exports=_l;var v=RC.exports,Sm={},zC={exports:{}},Wt={},VC={exports:{}},BC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,T){var F=C.length;C.push(T);e:for(;0<F;){var B=F-1>>>1,H=C[B];if(0<i(H,T))C[B]=T,C[F]=H,F=B;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var T=C[0],F=C.pop();if(F!==T){C[0]=F;e:for(var B=0,H=C.length,Q=H>>>1;B<Q;){var Z=2*(B+1)-1,ne=C[Z],ae=Z+1,te=C[ae];if(0>i(ne,F))ae<H&&0>i(te,ne)?(C[B]=te,C[ae]=F,B=ae):(C[B]=ne,C[Z]=F,B=Z);else if(ae<H&&0>i(te,F))C[B]=te,C[ae]=F,B=ae;else break e}}return T}function i(C,T){var F=C.sortIndex-T.sortIndex;return F!==0?F:C.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,d=null,f=3,p=!1,h=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var T=r(l);T!==null;){if(T.callback===null)n(l);else if(T.startTime<=C)n(l),T.sortIndex=T.expirationTime,t(u,T);else break;T=r(l)}}function b(C){if(g=!1,y(C),!h)if(r(u)!==null)h=!0,A(_);else{var T=r(l);T!==null&&$(b,T.startTime-C)}}function _(C,T){h=!1,g&&(g=!1,m(N),N=-1),p=!0;var F=f;try{for(y(T),d=r(u);d!==null&&(!(d.expirationTime>T)||C&&!P());){var B=d.callback;if(typeof B=="function"){d.callback=null,f=d.priorityLevel;var H=B(d.expirationTime<=T);T=e.unstable_now(),typeof H=="function"?d.callback=H:d===r(u)&&n(u),y(T)}else n(u);d=r(u)}if(d!==null)var Q=!0;else{var Z=r(l);Z!==null&&$(b,Z.startTime-T),Q=!1}return Q}finally{d=null,f=F,p=!1}}var S=!1,E=null,N=-1,R=5,q=-1;function P(){return!(e.unstable_now()-q<R)}function I(){if(E!==null){var C=e.unstable_now();q=C;var T=!0;try{T=E(!0,C)}finally{T?L():(S=!1,E=null)}}else S=!1}var L;if(typeof x=="function")L=function(){x(I)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,j=k.port2;k.port1.onmessage=I,L=function(){j.postMessage(null)}}else L=function(){w(I,0)};function A(C){E=C,S||(S=!0,L())}function $(C,T){N=w(function(){C(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,A(_))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var F=f;f=T;try{return C()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,T){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=f;f=C;try{return T()}finally{f=F}},e.unstable_scheduleCallback=function(C,T,F){var B=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?B+F:B):F=B,C){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=F+H,C={id:c++,callback:T,priorityLevel:C,startTime:F,expirationTime:H,sortIndex:-1},F>B?(C.sortIndex=F,t(l,C),r(u)===null&&C===r(l)&&(g?(m(N),N=-1):g=!0,$(b,F-B))):(C.sortIndex=H,t(u,C),h||p||(h=!0,A(_))),C},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(C){var T=f;return function(){var F=f;f=T;try{return C.apply(this,arguments)}finally{f=F}}}})(BC);VC.exports=BC;var bP=VC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _P=D,Bt=bP;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HC=new Set,bo={};function yi(e,t){rs(e,t),rs(e+"Capture",t)}function rs(e,t){for(bo[e]=t,e=0;e<t.length;e++)HC.add(t[e])}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Em=Object.prototype.hasOwnProperty,SP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ux={},lx={};function EP(e){return Em.call(lx,e)?!0:Em.call(ux,e)?!1:SP.test(e)?lx[e]=!0:(ux[e]=!0,!1)}function kP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function CP(e,t,r,n){if(t===null||typeof t>"u"||kP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function St(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new St(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new St(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new St(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new St(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new St(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new St(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ht[e]=new St(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ht[e]=new St(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ht[e]=new St(e,5,!1,e.toLowerCase(),null,!1,!1)});var av=/[\-:]([a-z])/g;function uv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(av,uv);ht[t]=new St(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(av,uv);ht[t]=new St(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(av,uv);ht[t]=new St(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new St(e,1,!1,e.toLowerCase(),null,!1,!1)});ht.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ht[e]=new St(e,1,!1,e.toLowerCase(),null,!0,!0)});function lv(e,t,r,n){var i=ht.hasOwnProperty(t)?ht[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(CP(t,r,i,n)&&(r=null),n||i===null?EP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var on=_P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Na=Symbol.for("react.element"),Ai=Symbol.for("react.portal"),Pi=Symbol.for("react.fragment"),cv=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),UC=Symbol.for("react.provider"),WC=Symbol.for("react.context"),dv=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),Nm=Symbol.for("react.suspense_list"),fv=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),GC=Symbol.for("react.offscreen"),cx=Symbol.iterator;function Ps(e){return e===null||typeof e!="object"?null:(e=cx&&e[cx]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,Dc;function Us(e){if(Dc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Dc=t&&t[1]||""}return`
`+Dc+e}var jc=!1;function Mc(e,t){if(!e||jc)return"";jc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{jc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Us(e):""}function NP(e){switch(e.tag){case 5:return Us(e.type);case 16:return Us("Lazy");case 13:return Us("Suspense");case 19:return Us("SuspenseList");case 0:case 2:case 15:return e=Mc(e.type,!1),e;case 11:return e=Mc(e.type.render,!1),e;case 1:return e=Mc(e.type,!0),e;default:return""}}function Tm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pi:return"Fragment";case Ai:return"Portal";case km:return"Profiler";case cv:return"StrictMode";case Cm:return"Suspense";case Nm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case WC:return(e.displayName||"Context")+".Consumer";case UC:return(e._context.displayName||"Context")+".Provider";case dv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fv:return t=e.displayName||null,t!==null?t:Tm(e.type)||"Memo";case pn:t=e._payload,e=e._init;try{return Tm(e(t))}catch{}}return null}function TP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tm(t);case 8:return t===cv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function KC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function OP(e){var t=KC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ta(e){e._valueTracker||(e._valueTracker=OP(e))}function YC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=KC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Cu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Om(e,t){var r=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Dn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ZC(e,t){t=t.checked,t!=null&&lv(e,"checked",t,!1)}function Rm(e,t){ZC(e,t);var r=Dn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Im(e,t.type,r):t.hasOwnProperty("defaultValue")&&Im(e,t.type,Dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Im(e,t,r){(t!=="number"||Cu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ws=Array.isArray;function Wi(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Dn(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Am(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(Ws(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Dn(r)}}function XC(e,t){var r=Dn(t.value),n=Dn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function px(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function QC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?QC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oa,JC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oa=Oa||document.createElement("div"),Oa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _o(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RP=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(e){RP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),io[t]=io[e]})});function eN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||io.hasOwnProperty(e)&&io[e]?(""+t).trim():t+"px"}function tN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=eN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var IP=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dm(e,t){if(t){if(IP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function jm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mm=null;function hv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lm=null,Gi=null,Ki=null;function gx(e){if(e=ta(e)){if(typeof Lm!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Nl(t),Lm(e.stateNode,e.type,t))}}function rN(e){Gi?Ki?Ki.push(e):Ki=[e]:Gi=e}function nN(){if(Gi){var e=Gi,t=Ki;if(Ki=Gi=null,gx(e),t)for(e=0;e<t.length;e++)gx(t[e])}}function iN(e,t){return e(t)}function sN(){}var Lc=!1;function oN(e,t,r){if(Lc)return e(t,r);Lc=!0;try{return iN(e,t,r)}finally{Lc=!1,(Gi!==null||Ki!==null)&&(sN(),nN())}}function So(e,t){var r=e.stateNode;if(r===null)return null;var n=Nl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var Fm=!1;if(Qr)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){Fm=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{Fm=!1}function AP(e,t,r,n,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(c){this.onError(c)}}var so=!1,Nu=null,Tu=!1,$m=null,PP={onError:function(e){so=!0,Nu=e}};function DP(e,t,r,n,i,s,o,a,u){so=!1,Nu=null,AP.apply(PP,arguments)}function jP(e,t,r,n,i,s,o,a,u){if(DP.apply(this,arguments),so){if(so){var l=Nu;so=!1,Nu=null}else throw Error(W(198));Tu||(Tu=!0,$m=l)}}function vi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function aN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mx(e){if(vi(e)!==e)throw Error(W(188))}function MP(e){var t=e.alternate;if(!t){if(t=vi(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return mx(i),e;if(s===n)return mx(i),t;s=s.sibling}throw Error(W(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function uN(e){return e=MP(e),e!==null?lN(e):null}function lN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lN(e);if(t!==null)return t;e=e.sibling}return null}var cN=Bt.unstable_scheduleCallback,yx=Bt.unstable_cancelCallback,LP=Bt.unstable_shouldYield,FP=Bt.unstable_requestPaint,Ye=Bt.unstable_now,$P=Bt.unstable_getCurrentPriorityLevel,pv=Bt.unstable_ImmediatePriority,dN=Bt.unstable_UserBlockingPriority,Ou=Bt.unstable_NormalPriority,qP=Bt.unstable_LowPriority,fN=Bt.unstable_IdlePriority,Sl=null,Pr=null;function zP(e){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Sl,e,void 0,(e.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:HP,VP=Math.log,BP=Math.LN2;function HP(e){return e>>>=0,e===0?32:31-(VP(e)/BP|0)|0}var Ra=64,Ia=4194304;function Gs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ru(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Gs(a):(s&=o,s!==0&&(n=Gs(s)))}else o=r&~i,o!==0?n=Gs(o):s!==0&&(n=Gs(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-xr(t),i=1<<r,n|=e[r],t&=~i;return n}function UP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-xr(s),a=1<<o,u=i[o];u===-1?(!(a&r)||a&n)&&(i[o]=UP(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function qm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hN(){var e=Ra;return Ra<<=1,!(Ra&4194240)&&(Ra=64),e}function Fc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Jo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xr(t),e[t]=r}function GP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-xr(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function gv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Me=0;function pN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gN,mv,mN,yN,vN,zm=!1,Aa=[],En=null,kn=null,Cn=null,Eo=new Map,ko=new Map,yn=[],KP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vx(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Eo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(t.pointerId)}}function js(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ta(t),t!==null&&mv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function YP(e,t,r,n,i){switch(t){case"focusin":return En=js(En,e,t,r,n,i),!0;case"dragenter":return kn=js(kn,e,t,r,n,i),!0;case"mouseover":return Cn=js(Cn,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Eo.set(s,js(Eo.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ko.set(s,js(ko.get(s)||null,e,t,r,n,i)),!0}return!1}function xN(e){var t=Wn(e.target);if(t!==null){var r=vi(t);if(r!==null){if(t=r.tag,t===13){if(t=aN(r),t!==null){e.blockedOn=t,vN(e.priority,function(){mN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ou(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Vm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Mm=n,r.target.dispatchEvent(n),Mm=null}else return t=ta(r),t!==null&&mv(t),e.blockedOn=r,!1;t.shift()}return!0}function xx(e,t,r){ou(e)&&r.delete(t)}function ZP(){zm=!1,En!==null&&ou(En)&&(En=null),kn!==null&&ou(kn)&&(kn=null),Cn!==null&&ou(Cn)&&(Cn=null),Eo.forEach(xx),ko.forEach(xx)}function Ms(e,t){e.blockedOn===t&&(e.blockedOn=null,zm||(zm=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,ZP)))}function Co(e){function t(i){return Ms(i,e)}if(0<Aa.length){Ms(Aa[0],e);for(var r=1;r<Aa.length;r++){var n=Aa[r];n.blockedOn===e&&(n.blockedOn=null)}}for(En!==null&&Ms(En,e),kn!==null&&Ms(kn,e),Cn!==null&&Ms(Cn,e),Eo.forEach(t),ko.forEach(t),r=0;r<yn.length;r++)n=yn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yn.length&&(r=yn[0],r.blockedOn===null);)xN(r),r.blockedOn===null&&yn.shift()}var Yi=on.ReactCurrentBatchConfig,Iu=!0;function XP(e,t,r,n){var i=Me,s=Yi.transition;Yi.transition=null;try{Me=1,yv(e,t,r,n)}finally{Me=i,Yi.transition=s}}function QP(e,t,r,n){var i=Me,s=Yi.transition;Yi.transition=null;try{Me=4,yv(e,t,r,n)}finally{Me=i,Yi.transition=s}}function yv(e,t,r,n){if(Iu){var i=Vm(e,t,r,n);if(i===null)Kc(e,t,n,Au,r),vx(e,n);else if(YP(i,e,t,r,n))n.stopPropagation();else if(vx(e,n),t&4&&-1<KP.indexOf(e)){for(;i!==null;){var s=ta(i);if(s!==null&&gN(s),s=Vm(e,t,r,n),s===null&&Kc(e,t,n,Au,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Kc(e,t,n,null,r)}}var Au=null;function Vm(e,t,r,n){if(Au=null,e=hv(n),e=Wn(e),e!==null)if(t=vi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=aN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Au=e,null}function wN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($P()){case pv:return 1;case dN:return 4;case Ou:case qP:return 16;case fN:return 536870912;default:return 16}default:return 16}}var bn=null,vv=null,au=null;function bN(){if(au)return au;var e,t=vv,r=t.length,n,i="value"in bn?bn.value:bn.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return au=i.slice(e,1<n?1-n:void 0)}function uu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pa(){return!0}function wx(){return!1}function Gt(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pa:wx,this.isPropagationStopped=wx,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),t}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xv=Gt(Ss),ea=Ue({},Ss,{view:0,detail:0}),JP=Gt(ea),$c,qc,Ls,El=Ue({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ls&&(Ls&&e.type==="mousemove"?($c=e.screenX-Ls.screenX,qc=e.screenY-Ls.screenY):qc=$c=0,Ls=e),$c)},movementY:function(e){return"movementY"in e?e.movementY:qc}}),bx=Gt(El),eD=Ue({},El,{dataTransfer:0}),tD=Gt(eD),rD=Ue({},ea,{relatedTarget:0}),zc=Gt(rD),nD=Ue({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),iD=Gt(nD),sD=Ue({},Ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oD=Gt(sD),aD=Ue({},Ss,{data:0}),_x=Gt(aD),uD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cD[e])?!!t[e]:!1}function wv(){return dD}var fD=Ue({},ea,{key:function(e){if(e.key){var t=uD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=uu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wv,charCode:function(e){return e.type==="keypress"?uu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?uu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hD=Gt(fD),pD=Ue({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sx=Gt(pD),gD=Ue({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wv}),mD=Gt(gD),yD=Ue({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),vD=Gt(yD),xD=Ue({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wD=Gt(xD),bD=[9,13,27,32],bv=Qr&&"CompositionEvent"in window,oo=null;Qr&&"documentMode"in document&&(oo=document.documentMode);var _D=Qr&&"TextEvent"in window&&!oo,_N=Qr&&(!bv||oo&&8<oo&&11>=oo),Ex=" ",kx=!1;function SN(e,t){switch(e){case"keyup":return bD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function SD(e,t){switch(e){case"compositionend":return EN(t);case"keypress":return t.which!==32?null:(kx=!0,Ex);case"textInput":return e=t.data,e===Ex&&kx?null:e;default:return null}}function ED(e,t){if(Di)return e==="compositionend"||!bv&&SN(e,t)?(e=bN(),au=vv=bn=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _N&&t.locale!=="ko"?null:t.data;default:return null}}var kD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kD[e.type]:t==="textarea"}function kN(e,t,r,n){rN(n),t=Pu(t,"onChange"),0<t.length&&(r=new xv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ao=null,No=null;function CD(e){MN(e,0)}function kl(e){var t=Li(e);if(YC(t))return e}function ND(e,t){if(e==="change")return t}var CN=!1;if(Qr){var Vc;if(Qr){var Bc="oninput"in document;if(!Bc){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),Bc=typeof Nx.oninput=="function"}Vc=Bc}else Vc=!1;CN=Vc&&(!document.documentMode||9<document.documentMode)}function Tx(){ao&&(ao.detachEvent("onpropertychange",NN),No=ao=null)}function NN(e){if(e.propertyName==="value"&&kl(No)){var t=[];kN(t,No,e,hv(e)),oN(CD,t)}}function TD(e,t,r){e==="focusin"?(Tx(),ao=t,No=r,ao.attachEvent("onpropertychange",NN)):e==="focusout"&&Tx()}function OD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kl(No)}function RD(e,t){if(e==="click")return kl(t)}function ID(e,t){if(e==="input"||e==="change")return kl(t)}function AD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var br=typeof Object.is=="function"?Object.is:AD;function To(e,t){if(br(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Em.call(t,i)||!br(e[i],t[i]))return!1}return!0}function Ox(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rx(e,t){var r=Ox(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ox(r)}}function TN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?TN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ON(){for(var e=window,t=Cu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Cu(e.document)}return t}function _v(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PD(e){var t=ON(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&TN(r.ownerDocument.documentElement,r)){if(n!==null&&_v(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Rx(r,s);var o=Rx(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DD=Qr&&"documentMode"in document&&11>=document.documentMode,ji=null,Bm=null,uo=null,Hm=!1;function Ix(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hm||ji==null||ji!==Cu(n)||(n=ji,"selectionStart"in n&&_v(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),uo&&To(uo,n)||(uo=n,n=Pu(Bm,"onSelect"),0<n.length&&(t=new xv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ji)))}function Da(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mi={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionend:Da("Transition","TransitionEnd")},Hc={},RN={};Qr&&(RN=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function Cl(e){if(Hc[e])return Hc[e];if(!Mi[e])return e;var t=Mi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in RN)return Hc[e]=t[r];return e}var IN=Cl("animationend"),AN=Cl("animationiteration"),PN=Cl("animationstart"),DN=Cl("transitionend"),jN=new Map,Ax="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(e,t){jN.set(e,t),yi(t,[e])}for(var Uc=0;Uc<Ax.length;Uc++){var Wc=Ax[Uc],jD=Wc.toLowerCase(),MD=Wc[0].toUpperCase()+Wc.slice(1);$n(jD,"on"+MD)}$n(IN,"onAnimationEnd");$n(AN,"onAnimationIteration");$n(PN,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(DN,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function Px(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,jP(n,t,void 0,e),e.currentTarget=null}function MN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Px(i,a,l),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Px(i,a,l),s=u}}}if(Tu)throw e=$m,Tu=!1,$m=null,e}function Fe(e,t){var r=t[Ym];r===void 0&&(r=t[Ym]=new Set);var n=e+"__bubble";r.has(n)||(LN(t,e,2,!1),r.add(n))}function Gc(e,t,r){var n=0;t&&(n|=4),LN(r,e,n,t)}var ja="_reactListening"+Math.random().toString(36).slice(2);function Oo(e){if(!e[ja]){e[ja]=!0,HC.forEach(function(r){r!=="selectionchange"&&(LD.has(r)||Gc(r,!1,e),Gc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ja]||(t[ja]=!0,Gc("selectionchange",!1,t))}}function LN(e,t,r,n){switch(wN(t)){case 1:var i=XP;break;case 4:i=QP;break;default:i=yv}r=i.bind(null,t,r,e),i=void 0,!Fm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Kc(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Wn(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}oN(function(){var l=s,c=hv(r),d=[];e:{var f=jN.get(e);if(f!==void 0){var p=xv,h=e;switch(e){case"keypress":if(uu(r)===0)break e;case"keydown":case"keyup":p=hD;break;case"focusin":h="focus",p=zc;break;case"focusout":h="blur",p=zc;break;case"beforeblur":case"afterblur":p=zc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=tD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mD;break;case IN:case AN:case PN:p=iD;break;case DN:p=vD;break;case"scroll":p=JP;break;case"wheel":p=wD;break;case"copy":case"cut":case"paste":p=oD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Sx}var g=(t&4)!==0,w=!g&&e==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var x=l,y;x!==null;){y=x;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,m!==null&&(b=So(x,m),b!=null&&g.push(Ro(x,b,y)))),w)break;x=x.return}0<g.length&&(f=new p(f,h,null,r,c),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Mm&&(h=r.relatedTarget||r.fromElement)&&(Wn(h)||h[Jr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=r.relatedTarget||r.toElement,p=l,h=h?Wn(h):null,h!==null&&(w=vi(h),h!==w||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=l),p!==h)){if(g=bx,b="onMouseLeave",m="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=Sx,b="onPointerLeave",m="onPointerEnter",x="pointer"),w=p==null?f:Li(p),y=h==null?f:Li(h),f=new g(b,x+"leave",p,r,c),f.target=w,f.relatedTarget=y,b=null,Wn(c)===l&&(g=new g(m,x+"enter",h,r,c),g.target=y,g.relatedTarget=w,b=g),w=b,p&&h)t:{for(g=p,m=h,x=0,y=g;y;y=ki(y))x++;for(y=0,b=m;b;b=ki(b))y++;for(;0<x-y;)g=ki(g),x--;for(;0<y-x;)m=ki(m),y--;for(;x--;){if(g===m||m!==null&&g===m.alternate)break t;g=ki(g),m=ki(m)}g=null}else g=null;p!==null&&Dx(d,f,p,g,!1),h!==null&&w!==null&&Dx(d,w,h,g,!0)}}e:{if(f=l?Li(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=ND;else if(Cx(f))if(CN)_=ID;else{_=OD;var S=TD}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=RD);if(_&&(_=_(e,l))){kN(d,_,r,c);break e}S&&S(e,f,l),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Im(f,"number",f.value)}switch(S=l?Li(l):window,e){case"focusin":(Cx(S)||S.contentEditable==="true")&&(ji=S,Bm=l,uo=null);break;case"focusout":uo=Bm=ji=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,Ix(d,r,c);break;case"selectionchange":if(DD)break;case"keydown":case"keyup":Ix(d,r,c)}var E;if(bv)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Di?SN(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(_N&&r.locale!=="ko"&&(Di||N!=="onCompositionStart"?N==="onCompositionEnd"&&Di&&(E=bN()):(bn=c,vv="value"in bn?bn.value:bn.textContent,Di=!0)),S=Pu(l,N),0<S.length&&(N=new _x(N,e,null,r,c),d.push({event:N,listeners:S}),E?N.data=E:(E=EN(r),E!==null&&(N.data=E)))),(E=_D?SD(e,r):ED(e,r))&&(l=Pu(l,"onBeforeInput"),0<l.length&&(c=new _x("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:l}),c.data=E))}MN(d,t)})}function Ro(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Pu(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=So(e,r),s!=null&&n.unshift(Ro(e,s,i)),s=So(e,t),s!=null&&n.push(Ro(e,s,i))),e=e.return}return n}function ki(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dx(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,l=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&l!==null&&(a=l,i?(u=So(r,s),u!=null&&o.unshift(Ro(r,u,a))):i||(u=So(r,s),u!=null&&o.push(Ro(r,u,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var FD=/\r\n?/g,$D=/\u0000|\uFFFD/g;function jx(e){return(typeof e=="string"?e:""+e).replace(FD,`
`).replace($D,"")}function Ma(e,t,r){if(t=jx(t),jx(e)!==t&&r)throw Error(W(425))}function Du(){}var Um=null,Wm=null;function Gm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Km=typeof setTimeout=="function"?setTimeout:void 0,qD=typeof clearTimeout=="function"?clearTimeout:void 0,Mx=typeof Promise=="function"?Promise:void 0,zD=typeof queueMicrotask=="function"?queueMicrotask:typeof Mx<"u"?function(e){return Mx.resolve(null).then(e).catch(VD)}:Km;function VD(e){setTimeout(function(){throw e})}function Yc(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Co(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Co(t)}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Es=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Es,Io="__reactProps$"+Es,Jr="__reactContainer$"+Es,Ym="__reactEvents$"+Es,BD="__reactListeners$"+Es,HD="__reactHandles$"+Es;function Wn(e){var t=e[Ir];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Jr]||r[Ir]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Lx(e);e!==null;){if(r=e[Ir])return r;e=Lx(e)}return t}e=r,r=e.parentNode}return null}function ta(e){return e=e[Ir]||e[Jr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Li(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Nl(e){return e[Io]||null}var Zm=[],Fi=-1;function qn(e){return{current:e}}function $e(e){0>Fi||(e.current=Zm[Fi],Zm[Fi]=null,Fi--)}function Le(e,t){Fi++,Zm[Fi]=e.current,e.current=t}var jn={},vt=qn(jn),Ot=qn(!1),ii=jn;function ns(e,t){var r=e.type.contextTypes;if(!r)return jn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rt(e){return e=e.childContextTypes,e!=null}function ju(){$e(Ot),$e(vt)}function Fx(e,t,r){if(vt.current!==jn)throw Error(W(168));Le(vt,t),Le(Ot,r)}function FN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(W(108,TP(e)||"Unknown",i));return Ue({},r,n)}function Mu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,ii=vt.current,Le(vt,e),Le(Ot,Ot.current),!0}function $x(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=FN(e,t,ii),n.__reactInternalMemoizedMergedChildContext=e,$e(Ot),$e(vt),Le(vt,e)):$e(Ot),Le(Ot,r)}var Hr=null,Tl=!1,Zc=!1;function $N(e){Hr===null?Hr=[e]:Hr.push(e)}function UD(e){Tl=!0,$N(e)}function zn(){if(!Zc&&Hr!==null){Zc=!0;var e=0,t=Me;try{var r=Hr;for(Me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Hr=null,Tl=!1}catch(i){throw Hr!==null&&(Hr=Hr.slice(e+1)),cN(pv,zn),i}finally{Me=t,Zc=!1}}return null}var $i=[],qi=0,Lu=null,Fu=0,Zt=[],Xt=0,si=null,Ur=1,Wr="";function Bn(e,t){$i[qi++]=Fu,$i[qi++]=Lu,Lu=e,Fu=t}function qN(e,t,r){Zt[Xt++]=Ur,Zt[Xt++]=Wr,Zt[Xt++]=si,si=e;var n=Ur;e=Wr;var i=32-xr(n)-1;n&=~(1<<i),r+=1;var s=32-xr(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ur=1<<32-xr(t)+i|r<<i|n,Wr=s+e}else Ur=1<<s|r<<i|n,Wr=e}function Sv(e){e.return!==null&&(Bn(e,1),qN(e,1,0))}function Ev(e){for(;e===Lu;)Lu=$i[--qi],$i[qi]=null,Fu=$i[--qi],$i[qi]=null;for(;e===si;)si=Zt[--Xt],Zt[Xt]=null,Wr=Zt[--Xt],Zt[Xt]=null,Ur=Zt[--Xt],Zt[Xt]=null}var Vt=null,zt=null,qe=!1,dr=null;function zN(e,t){var r=Jt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vt=e,zt=Nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vt=e,zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=si!==null?{id:Ur,overflow:Wr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Jt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Vt=e,zt=null,!0):!1;default:return!1}}function Xm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qm(e){if(qe){var t=zt;if(t){var r=t;if(!qx(e,t)){if(Xm(e))throw Error(W(418));t=Nn(r.nextSibling);var n=Vt;t&&qx(e,t)?zN(n,r):(e.flags=e.flags&-4097|2,qe=!1,Vt=e)}}else{if(Xm(e))throw Error(W(418));e.flags=e.flags&-4097|2,qe=!1,Vt=e}}}function zx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vt=e}function La(e){if(e!==Vt)return!1;if(!qe)return zx(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gm(e.type,e.memoizedProps)),t&&(t=zt)){if(Xm(e))throw VN(),Error(W(418));for(;t;)zN(e,t),t=Nn(t.nextSibling)}if(zx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){zt=Nn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}zt=null}}else zt=Vt?Nn(e.stateNode.nextSibling):null;return!0}function VN(){for(var e=zt;e;)e=Nn(e.nextSibling)}function is(){zt=Vt=null,qe=!1}function kv(e){dr===null?dr=[e]:dr.push(e)}var WD=on.ReactCurrentBatchConfig;function Fs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function Fa(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vx(e){var t=e._init;return t(e._payload)}function BN(e){function t(m,x){if(e){var y=m.deletions;y===null?(m.deletions=[x],m.flags|=16):y.push(x)}}function r(m,x){if(!e)return null;for(;x!==null;)t(m,x),x=x.sibling;return null}function n(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function i(m,x){return m=In(m,x),m.index=0,m.sibling=null,m}function s(m,x,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<x?(m.flags|=2,x):y):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,x,y,b){return x===null||x.tag!==6?(x=nd(y,m.mode,b),x.return=m,x):(x=i(x,y),x.return=m,x)}function u(m,x,y,b){var _=y.type;return _===Pi?c(m,x,y.props.children,b,y.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===pn&&Vx(_)===x.type)?(b=i(x,y.props),b.ref=Fs(m,x,y),b.return=m,b):(b=gu(y.type,y.key,y.props,null,m.mode,b),b.ref=Fs(m,x,y),b.return=m,b)}function l(m,x,y,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=id(y,m.mode,b),x.return=m,x):(x=i(x,y.children||[]),x.return=m,x)}function c(m,x,y,b,_){return x===null||x.tag!==7?(x=ei(y,m.mode,b,_),x.return=m,x):(x=i(x,y),x.return=m,x)}function d(m,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=nd(""+x,m.mode,y),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Na:return y=gu(x.type,x.key,x.props,null,m.mode,y),y.ref=Fs(m,null,x),y.return=m,y;case Ai:return x=id(x,m.mode,y),x.return=m,x;case pn:var b=x._init;return d(m,b(x._payload),y)}if(Ws(x)||Ps(x))return x=ei(x,m.mode,y,null),x.return=m,x;Fa(m,x)}return null}function f(m,x,y,b){var _=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:a(m,x,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Na:return y.key===_?u(m,x,y,b):null;case Ai:return y.key===_?l(m,x,y,b):null;case pn:return _=y._init,f(m,x,_(y._payload),b)}if(Ws(y)||Ps(y))return _!==null?null:c(m,x,y,b,null);Fa(m,y)}return null}function p(m,x,y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(y)||null,a(x,m,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Na:return m=m.get(b.key===null?y:b.key)||null,u(x,m,b,_);case Ai:return m=m.get(b.key===null?y:b.key)||null,l(x,m,b,_);case pn:var S=b._init;return p(m,x,y,S(b._payload),_)}if(Ws(b)||Ps(b))return m=m.get(y)||null,c(x,m,b,_,null);Fa(x,b)}return null}function h(m,x,y,b){for(var _=null,S=null,E=x,N=x=0,R=null;E!==null&&N<y.length;N++){E.index>N?(R=E,E=null):R=E.sibling;var q=f(m,E,y[N],b);if(q===null){E===null&&(E=R);break}e&&E&&q.alternate===null&&t(m,E),x=s(q,x,N),S===null?_=q:S.sibling=q,S=q,E=R}if(N===y.length)return r(m,E),qe&&Bn(m,N),_;if(E===null){for(;N<y.length;N++)E=d(m,y[N],b),E!==null&&(x=s(E,x,N),S===null?_=E:S.sibling=E,S=E);return qe&&Bn(m,N),_}for(E=n(m,E);N<y.length;N++)R=p(E,m,N,y[N],b),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?N:R.key),x=s(R,x,N),S===null?_=R:S.sibling=R,S=R);return e&&E.forEach(function(P){return t(m,P)}),qe&&Bn(m,N),_}function g(m,x,y,b){var _=Ps(y);if(typeof _!="function")throw Error(W(150));if(y=_.call(y),y==null)throw Error(W(151));for(var S=_=null,E=x,N=x=0,R=null,q=y.next();E!==null&&!q.done;N++,q=y.next()){E.index>N?(R=E,E=null):R=E.sibling;var P=f(m,E,q.value,b);if(P===null){E===null&&(E=R);break}e&&E&&P.alternate===null&&t(m,E),x=s(P,x,N),S===null?_=P:S.sibling=P,S=P,E=R}if(q.done)return r(m,E),qe&&Bn(m,N),_;if(E===null){for(;!q.done;N++,q=y.next())q=d(m,q.value,b),q!==null&&(x=s(q,x,N),S===null?_=q:S.sibling=q,S=q);return qe&&Bn(m,N),_}for(E=n(m,E);!q.done;N++,q=y.next())q=p(E,m,N,q.value,b),q!==null&&(e&&q.alternate!==null&&E.delete(q.key===null?N:q.key),x=s(q,x,N),S===null?_=q:S.sibling=q,S=q);return e&&E.forEach(function(I){return t(m,I)}),qe&&Bn(m,N),_}function w(m,x,y,b){if(typeof y=="object"&&y!==null&&y.type===Pi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Na:e:{for(var _=y.key,S=x;S!==null;){if(S.key===_){if(_=y.type,_===Pi){if(S.tag===7){r(m,S.sibling),x=i(S,y.props.children),x.return=m,m=x;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===pn&&Vx(_)===S.type){r(m,S.sibling),x=i(S,y.props),x.ref=Fs(m,S,y),x.return=m,m=x;break e}r(m,S);break}else t(m,S);S=S.sibling}y.type===Pi?(x=ei(y.props.children,m.mode,b,y.key),x.return=m,m=x):(b=gu(y.type,y.key,y.props,null,m.mode,b),b.ref=Fs(m,x,y),b.return=m,m=b)}return o(m);case Ai:e:{for(S=y.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(m,x.sibling),x=i(x,y.children||[]),x.return=m,m=x;break e}else{r(m,x);break}else t(m,x);x=x.sibling}x=id(y,m.mode,b),x.return=m,m=x}return o(m);case pn:return S=y._init,w(m,x,S(y._payload),b)}if(Ws(y))return h(m,x,y,b);if(Ps(y))return g(m,x,y,b);Fa(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(m,x.sibling),x=i(x,y),x.return=m,m=x):(r(m,x),x=nd(y,m.mode,b),x.return=m,m=x),o(m)):r(m,x)}return w}var ss=BN(!0),HN=BN(!1),$u=qn(null),qu=null,zi=null,Cv=null;function Nv(){Cv=zi=qu=null}function Tv(e){var t=$u.current;$e($u),e._currentValue=t}function Jm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zi(e,t){qu=e,Cv=zi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nt=!0),e.firstContext=null)}function tr(e){var t=e._currentValue;if(Cv!==e)if(e={context:e,memoizedValue:t,next:null},zi===null){if(qu===null)throw Error(W(308));zi=e,qu.dependencies={lanes:0,firstContext:e}}else zi=zi.next=e;return t}var Gn=null;function Ov(e){Gn===null?Gn=[e]:Gn.push(e)}function UN(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Ov(t)):(r.next=i.next,i.next=r),t.interleaved=r,en(e,n)}function en(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var gn=!1;function Rv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,en(e,r)}return i=n.interleaved,i===null?(t.next=t,Ov(n)):(t.next=i.next,i.next=t),n.interleaved=t,en(e,r)}function lu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gv(e,r)}}function Bx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zu(e,t,r,n){var i=e.updateQueue;gn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,c=l=u=null,a=s;do{var f=a.lane,p=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,g=a;switch(f=t,p=r,g.tag){case 1:if(h=g.payload,typeof h=="function"){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,f=typeof h=="function"?h.call(p,d,f):h,f==null)break e;d=Ue({},d,f);break e;case 2:gn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=p,u=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ai|=o,e.lanes=o,e.memoizedState=d}}function Hx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var ra={},Dr=qn(ra),Ao=qn(ra),Po=qn(ra);function Kn(e){if(e===ra)throw Error(W(174));return e}function Iv(e,t){switch(Le(Po,t),Le(Ao,e),Le(Dr,ra),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pm(t,e)}$e(Dr),Le(Dr,t)}function os(){$e(Dr),$e(Ao),$e(Po)}function GN(e){Kn(Po.current);var t=Kn(Dr.current),r=Pm(t,e.type);t!==r&&(Le(Ao,e),Le(Dr,r))}function Av(e){Ao.current===e&&($e(Dr),$e(Ao))}var Be=qn(0);function Vu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xc=[];function Pv(){for(var e=0;e<Xc.length;e++)Xc[e]._workInProgressVersionPrimary=null;Xc.length=0}var cu=on.ReactCurrentDispatcher,Qc=on.ReactCurrentBatchConfig,oi=0,He=null,it=null,ot=null,Bu=!1,lo=!1,Do=0,GD=0;function pt(){throw Error(W(321))}function Dv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!br(e[r],t[r]))return!1;return!0}function jv(e,t,r,n,i,s){if(oi=s,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cu.current=e===null||e.memoizedState===null?XD:QD,e=r(n,i),lo){s=0;do{if(lo=!1,Do=0,25<=s)throw Error(W(301));s+=1,ot=it=null,t.updateQueue=null,cu.current=JD,e=r(n,i)}while(lo)}if(cu.current=Hu,t=it!==null&&it.next!==null,oi=0,ot=it=He=null,Bu=!1,t)throw Error(W(300));return e}function Mv(){var e=Do!==0;return Do=0,e}function Tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?He.memoizedState=ot=e:ot=ot.next=e,ot}function rr(){if(it===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=ot===null?He.memoizedState:ot.next;if(t!==null)ot=t,it=e;else{if(e===null)throw Error(W(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ot===null?He.memoizedState=ot=e:ot=ot.next=e}return ot}function jo(e,t){return typeof t=="function"?t(e):t}function Jc(e){var t=rr(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=it,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((oi&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=d,o=n):u=u.next=d,He.lanes|=c,ai|=c}l=l.next}while(l!==null&&l!==s);u===null?o=n:u.next=a,br(n,t.memoizedState)||(Nt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,He.lanes|=s,ai|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ed(e){var t=rr(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);br(s,t.memoizedState)||(Nt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function KN(){}function YN(e,t){var r=He,n=rr(),i=t(),s=!br(n.memoizedState,i);if(s&&(n.memoizedState=i,Nt=!0),n=n.queue,Lv(QN.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||ot!==null&&ot.memoizedState.tag&1){if(r.flags|=2048,Mo(9,XN.bind(null,r,n,i,t),void 0,null),at===null)throw Error(W(349));oi&30||ZN(r,t,i)}return i}function ZN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function XN(e,t,r,n){t.value=r,t.getSnapshot=n,JN(t)&&eT(e)}function QN(e,t,r){return r(function(){JN(t)&&eT(e)})}function JN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!br(e,r)}catch{return!0}}function eT(e){var t=en(e,1);t!==null&&wr(t,e,1,-1)}function Ux(e){var t=Tr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t.queue=e,e=e.dispatch=ZD.bind(null,He,e),[t.memoizedState,e]}function Mo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function tT(){return rr().memoizedState}function du(e,t,r,n){var i=Tr();He.flags|=e,i.memoizedState=Mo(1|t,r,void 0,n===void 0?null:n)}function Ol(e,t,r,n){var i=rr();n=n===void 0?null:n;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,n!==null&&Dv(n,o.deps)){i.memoizedState=Mo(t,r,s,n);return}}He.flags|=e,i.memoizedState=Mo(1|t,r,s,n)}function Wx(e,t){return du(8390656,8,e,t)}function Lv(e,t){return Ol(2048,8,e,t)}function rT(e,t){return Ol(4,2,e,t)}function nT(e,t){return Ol(4,4,e,t)}function iT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sT(e,t,r){return r=r!=null?r.concat([e]):null,Ol(4,4,iT.bind(null,t,e),r)}function Fv(){}function oT(e,t){var r=rr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function aT(e,t){var r=rr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function uT(e,t,r){return oi&21?(br(r,t)||(r=hN(),He.lanes|=r,ai|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=r)}function KD(e,t){var r=Me;Me=r!==0&&4>r?r:4,e(!0);var n=Qc.transition;Qc.transition={};try{e(!1),t()}finally{Me=r,Qc.transition=n}}function lT(){return rr().memoizedState}function YD(e,t,r){var n=Rn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cT(e))dT(t,r);else if(r=UN(e,t,r,n),r!==null){var i=bt();wr(r,e,n,i),fT(r,t,n)}}function ZD(e,t,r){var n=Rn(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cT(e))dT(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,br(a,o)){var u=t.interleaved;u===null?(i.next=i,Ov(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=UN(e,t,i,n),r!==null&&(i=bt(),wr(r,e,n,i),fT(r,t,n))}}function cT(e){var t=e.alternate;return e===He||t!==null&&t===He}function dT(e,t){lo=Bu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fT(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gv(e,r)}}var Hu={readContext:tr,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},XD={readContext:tr,useCallback:function(e,t){return Tr().memoizedState=[e,t===void 0?null:t],e},useContext:tr,useEffect:Wx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,du(4194308,4,iT.bind(null,t,e),r)},useLayoutEffect:function(e,t){return du(4194308,4,e,t)},useInsertionEffect:function(e,t){return du(4,2,e,t)},useMemo:function(e,t){var r=Tr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Tr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=YD.bind(null,He,e),[n.memoizedState,e]},useRef:function(e){var t=Tr();return e={current:e},t.memoizedState=e},useState:Ux,useDebugValue:Fv,useDeferredValue:function(e){return Tr().memoizedState=e},useTransition:function(){var e=Ux(!1),t=e[0];return e=KD.bind(null,e[1]),Tr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=He,i=Tr();if(qe){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),at===null)throw Error(W(349));oi&30||ZN(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Wx(QN.bind(null,n,s,e),[e]),n.flags|=2048,Mo(9,XN.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Tr(),t=at.identifierPrefix;if(qe){var r=Wr,n=Ur;r=(n&~(1<<32-xr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Do++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=GD++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QD={readContext:tr,useCallback:oT,useContext:tr,useEffect:Lv,useImperativeHandle:sT,useInsertionEffect:rT,useLayoutEffect:nT,useMemo:aT,useReducer:Jc,useRef:tT,useState:function(){return Jc(jo)},useDebugValue:Fv,useDeferredValue:function(e){var t=rr();return uT(t,it.memoizedState,e)},useTransition:function(){var e=Jc(jo)[0],t=rr().memoizedState;return[e,t]},useMutableSource:KN,useSyncExternalStore:YN,useId:lT,unstable_isNewReconciler:!1},JD={readContext:tr,useCallback:oT,useContext:tr,useEffect:Lv,useImperativeHandle:sT,useInsertionEffect:rT,useLayoutEffect:nT,useMemo:aT,useReducer:ed,useRef:tT,useState:function(){return ed(jo)},useDebugValue:Fv,useDeferredValue:function(e){var t=rr();return it===null?t.memoizedState=e:uT(t,it.memoizedState,e)},useTransition:function(){var e=ed(jo)[0],t=rr().memoizedState;return[e,t]},useMutableSource:KN,useSyncExternalStore:YN,useId:lT,unstable_isNewReconciler:!1};function ur(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ey(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ue({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rl={isMounted:function(e){return(e=e._reactInternals)?vi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=bt(),i=Rn(e),s=Zr(n,i);s.payload=t,r!=null&&(s.callback=r),t=Tn(e,s,i),t!==null&&(wr(t,e,i,n),lu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=bt(),i=Rn(e),s=Zr(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Tn(e,s,i),t!==null&&(wr(t,e,i,n),lu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=bt(),n=Rn(e),i=Zr(r,n);i.tag=2,t!=null&&(i.callback=t),t=Tn(e,i,n),t!==null&&(wr(t,e,n,r),lu(t,e,n))}};function Gx(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!To(r,n)||!To(i,s):!0}function hT(e,t,r){var n=!1,i=jn,s=t.contextType;return typeof s=="object"&&s!==null?s=tr(s):(i=Rt(t)?ii:vt.current,n=t.contextTypes,s=(n=n!=null)?ns(e,i):jn),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Kx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Rl.enqueueReplaceState(t,t.state,null)}function ty(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Rv(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=tr(s):(s=Rt(t)?ii:vt.current,i.context=ns(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ey(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Rl.enqueueReplaceState(i,i.state,null),zu(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function as(e,t){try{var r="",n=t;do r+=NP(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function td(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ry(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ej=typeof WeakMap=="function"?WeakMap:Map;function pT(e,t,r){r=Zr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wu||(Wu=!0,fy=n),ry(e,t)},r}function gT(e,t,r){r=Zr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ry(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ry(e,t),typeof n!="function"&&(On===null?On=new Set([this]):On.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Yx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ej;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=pj.bind(null,e,t,r),t.then(e,e))}function Zx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xx(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Zr(-1,1),t.tag=2,Tn(r,t,1))),r.lanes|=1),e)}var tj=on.ReactCurrentOwner,Nt=!1;function wt(e,t,r,n){t.child=e===null?HN(t,null,r,n):ss(t,e.child,r,n)}function Qx(e,t,r,n,i){r=r.render;var s=t.ref;return Zi(t,i),n=jv(e,t,r,n,s,i),r=Mv(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tn(e,t,i)):(qe&&r&&Sv(t),t.flags|=1,wt(e,t,n,i),t.child)}function Jx(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Wv(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,mT(e,t,s,n,i)):(e=gu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:To,r(o,n)&&e.ref===t.ref)return tn(e,t,i)}return t.flags|=1,e=In(s,n),e.ref=t.ref,e.return=t,t.child=e}function mT(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(To(s,n)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,tn(e,t,i)}return ny(e,t,r,n,i)}function yT(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Bi,Mt),Mt|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(Bi,Mt),Mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Le(Bi,Mt),Mt|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Le(Bi,Mt),Mt|=n;return wt(e,t,i,r),t.child}function vT(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ny(e,t,r,n,i){var s=Rt(r)?ii:vt.current;return s=ns(t,s),Zi(t,i),r=jv(e,t,r,n,s,i),n=Mv(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tn(e,t,i)):(qe&&n&&Sv(t),t.flags|=1,wt(e,t,r,i),t.child)}function ew(e,t,r,n,i){if(Rt(r)){var s=!0;Mu(t)}else s=!1;if(Zi(t,i),t.stateNode===null)fu(e,t),hT(t,r,n),ty(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=tr(l):(l=Rt(r)?ii:vt.current,l=ns(t,l));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==l)&&Kx(t,o,n,l),gn=!1;var f=t.memoizedState;o.state=f,zu(t,n,o,i),u=t.memoizedState,a!==n||f!==u||Ot.current||gn?(typeof c=="function"&&(ey(t,r,c,n),u=t.memoizedState),(a=gn||Gx(t,r,a,n,f,u,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,WN(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:ur(t.type,a),o.props=l,d=t.pendingProps,f=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=tr(u):(u=Rt(r)?ii:vt.current,u=ns(t,u));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==u)&&Kx(t,o,n,u),gn=!1,f=t.memoizedState,o.state=f,zu(t,n,o,i);var h=t.memoizedState;a!==d||f!==h||Ot.current||gn?(typeof p=="function"&&(ey(t,r,p,n),h=t.memoizedState),(l=gn||Gx(t,r,l,n,f,h,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,h,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,h,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=u,n=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return iy(e,t,r,n,s,i)}function iy(e,t,r,n,i,s){vT(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&$x(t,r,!1),tn(e,t,s);n=t.stateNode,tj.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ss(t,e.child,null,s),t.child=ss(t,null,a,s)):wt(e,t,a,s),t.memoizedState=n.state,i&&$x(t,r,!0),t.child}function xT(e){var t=e.stateNode;t.pendingContext?Fx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fx(e,t.context,!1),Iv(e,t.containerInfo)}function tw(e,t,r,n,i){return is(),kv(i),t.flags|=256,wt(e,t,r,n),t.child}var sy={dehydrated:null,treeContext:null,retryLane:0};function oy(e){return{baseLanes:e,cachePool:null,transitions:null}}function wT(e,t,r){var n=t.pendingProps,i=Be.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Le(Be,i&1),e===null)return Qm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pl(o,n,0,null),e=ei(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=oy(r),t.memoizedState=sy,e):$v(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return rj(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=In(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=In(a,s):(s=ei(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?oy(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=sy,n}return s=e.child,e=s.sibling,n=In(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $v(e,t){return t=Pl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $a(e,t,r,n){return n!==null&&kv(n),ss(t,e.child,null,r),e=$v(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rj(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=td(Error(W(422))),$a(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Pl({mode:"visible",children:n.children},i,0,null),s=ei(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&ss(t,e.child,null,o),t.child.memoizedState=oy(o),t.memoizedState=sy,s);if(!(t.mode&1))return $a(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(W(419)),n=td(s,n,void 0),$a(e,t,o,n)}if(a=(o&e.childLanes)!==0,Nt||a){if(n=at,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,en(e,i),wr(n,e,i,-1))}return Uv(),n=td(Error(W(421))),$a(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=gj.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,zt=Nn(i.nextSibling),Vt=t,qe=!0,dr=null,e!==null&&(Zt[Xt++]=Ur,Zt[Xt++]=Wr,Zt[Xt++]=si,Ur=e.id,Wr=e.overflow,si=t),t=$v(t,n.children),t.flags|=4096,t)}function rw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Jm(e.return,t,r)}function rd(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function bT(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(wt(e,t,n.children,r),n=Be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rw(e,r,t);else if(e.tag===19)rw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Le(Be,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Vu(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),rd(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Vu(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}rd(t,!0,r,null,s);break;case"together":rd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ai|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=In(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=In(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function nj(e,t,r){switch(t.tag){case 3:xT(t),is();break;case 5:GN(t);break;case 1:Rt(t.type)&&Mu(t);break;case 4:Iv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Le($u,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Le(Be,Be.current&1),t.flags|=128,null):r&t.child.childLanes?wT(e,t,r):(Le(Be,Be.current&1),e=tn(e,t,r),e!==null?e.sibling:null);Le(Be,Be.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bT(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(Be,Be.current),n)break;return null;case 22:case 23:return t.lanes=0,yT(e,t,r)}return tn(e,t,r)}var _T,ay,ST,ET;_T=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ay=function(){};ST=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Kn(Dr.current);var s=null;switch(r){case"input":i=Om(e,i),n=Om(e,n),s=[];break;case"select":i=Ue({},i,{value:void 0}),n=Ue({},n,{value:void 0}),s=[];break;case"textarea":i=Am(e,i),n=Am(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Du)}Dm(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(bo.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var u=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(bo.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Fe("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}r&&(s=s||[]).push("style",r);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};ET=function(e,t,r,n){r!==n&&(t.flags|=4)};function $s(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ij(e,t,r){var n=t.pendingProps;switch(Ev(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return Rt(t.type)&&ju(),gt(t),null;case 3:return n=t.stateNode,os(),$e(Ot),$e(vt),Pv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(La(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dr!==null&&(gy(dr),dr=null))),ay(e,t),gt(t),null;case 5:Av(t);var i=Kn(Po.current);if(r=t.type,e!==null&&t.stateNode!=null)ST(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return gt(t),null}if(e=Kn(Dr.current),La(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ir]=t,n[Io]=s,e=(t.mode&1)!==0,r){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(i=0;i<Ks.length;i++)Fe(Ks[i],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":dx(n,s),Fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",n);break;case"textarea":hx(n,s),Fe("invalid",n)}Dm(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ma(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ma(n.textContent,a,e),i=["children",""+a]):bo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",n)}switch(r){case"input":Ta(n),fx(n,s,!0);break;case"textarea":Ta(n),px(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Du)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=QC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ir]=t,e[Io]=n,_T(e,t,!1,!1),t.stateNode=e;e:{switch(o=jm(r,n),r){case"dialog":Fe("cancel",e),Fe("close",e),i=n;break;case"iframe":case"object":case"embed":Fe("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ks.length;i++)Fe(Ks[i],e);i=n;break;case"source":Fe("error",e),i=n;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),i=n;break;case"details":Fe("toggle",e),i=n;break;case"input":dx(e,n),i=Om(e,n),Fe("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ue({},n,{value:void 0}),Fe("invalid",e);break;case"textarea":hx(e,n),i=Am(e,n),Fe("invalid",e);break;default:i=n}Dm(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?tN(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&JC(e,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&_o(e,u):typeof u=="number"&&_o(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Fe("scroll",e):u!=null&&lv(e,s,u,o))}switch(r){case"input":Ta(e),fx(e,n,!1);break;case"textarea":Ta(e),px(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Dn(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Wi(e,!!n.multiple,s,!1):n.defaultValue!=null&&Wi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Du)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)ET(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=Kn(Po.current),Kn(Dr.current),La(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ir]=t,(s=n.nodeValue!==r)&&(e=Vt,e!==null))switch(e.tag){case 3:Ma(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ma(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ir]=t,t.stateNode=n}return gt(t),null;case 13:if($e(Be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&zt!==null&&t.mode&1&&!(t.flags&128))VN(),is(),t.flags|=98560,s=!1;else if(s=La(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(W(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Ir]=t}else is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),s=!1}else dr!==null&&(gy(dr),dr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?st===0&&(st=3):Uv())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return os(),ay(e,t),e===null&&Oo(t.stateNode.containerInfo),gt(t),null;case 10:return Tv(t.type._context),gt(t),null;case 17:return Rt(t.type)&&ju(),gt(t),null;case 19:if($e(Be),s=t.memoizedState,s===null)return gt(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)$s(s,!1);else{if(st!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Vu(e),o!==null){for(t.flags|=128,$s(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(Be,Be.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ye()>us&&(t.flags|=128,n=!0,$s(s,!1),t.lanes=4194304)}else{if(!n)if(e=Vu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$s(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return gt(t),null}else 2*Ye()-s.renderingStartTime>us&&r!==1073741824&&(t.flags|=128,n=!0,$s(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,r=Be.current,Le(Be,n?r&1|2:r&1),t):(gt(t),null);case 22:case 23:return Hv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Mt&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function sj(e,t){switch(Ev(t),t.tag){case 1:return Rt(t.type)&&ju(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return os(),$e(Ot),$e(vt),Pv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Av(t),null;case 13:if($e(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(Be),null;case 4:return os(),null;case 10:return Tv(t.type._context),null;case 22:case 23:return Hv(),null;case 24:return null;default:return null}}var qa=!1,mt=!1,oj=typeof WeakSet=="function"?WeakSet:Set,re=null;function Vi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ge(e,t,n)}else r.current=null}function uy(e,t,r){try{r()}catch(n){Ge(e,t,n)}}var nw=!1;function aj(e,t){if(Um=Iu,e=ON(),_v(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,l=0,c=0,d=e,f=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(u=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++l===i&&(a=o),f===s&&++c===n&&(u=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wm={focusedElem:e,selectionRange:r},Iu=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var g=h.memoizedProps,w=h.memoizedState,m=t.stateNode,x=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:ur(t.type,g),w);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(b){Ge(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return h=nw,nw=!1,h}function co(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&uy(t,r,s)}i=i.next}while(i!==n)}}function Il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ly(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function kT(e){var t=e.alternate;t!==null&&(e.alternate=null,kT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ir],delete t[Io],delete t[Ym],delete t[BD],delete t[HD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function CT(e){return e.tag===5||e.tag===3||e.tag===4}function iw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||CT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Du));else if(n!==4&&(e=e.child,e!==null))for(cy(e,t,r),e=e.sibling;e!==null;)cy(e,t,r),e=e.sibling}function dy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(dy(e,t,r),e=e.sibling;e!==null;)dy(e,t,r),e=e.sibling}var dt=null,lr=!1;function cn(e,t,r){for(r=r.child;r!==null;)NT(e,t,r),r=r.sibling}function NT(e,t,r){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Sl,r)}catch{}switch(r.tag){case 5:mt||Vi(r,t);case 6:var n=dt,i=lr;dt=null,cn(e,t,r),dt=n,lr=i,dt!==null&&(lr?(e=dt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dt.removeChild(r.stateNode));break;case 18:dt!==null&&(lr?(e=dt,r=r.stateNode,e.nodeType===8?Yc(e.parentNode,r):e.nodeType===1&&Yc(e,r),Co(e)):Yc(dt,r.stateNode));break;case 4:n=dt,i=lr,dt=r.stateNode.containerInfo,lr=!0,cn(e,t,r),dt=n,lr=i;break;case 0:case 11:case 14:case 15:if(!mt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&uy(r,t,o),i=i.next}while(i!==n)}cn(e,t,r);break;case 1:if(!mt&&(Vi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ge(r,t,a)}cn(e,t,r);break;case 21:cn(e,t,r);break;case 22:r.mode&1?(mt=(n=mt)||r.memoizedState!==null,cn(e,t,r),mt=n):cn(e,t,r);break;default:cn(e,t,r)}}function sw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new oj),t.forEach(function(n){var i=mj.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ar(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,lr=!1;break e;case 3:dt=a.stateNode.containerInfo,lr=!0;break e;case 4:dt=a.stateNode.containerInfo,lr=!0;break e}a=a.return}if(dt===null)throw Error(W(160));NT(s,o,i),dt=null,lr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Ge(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)TT(t,e),t=t.sibling}function TT(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ar(t,e),Cr(e),n&4){try{co(3,e,e.return),Il(3,e)}catch(g){Ge(e,e.return,g)}try{co(5,e,e.return)}catch(g){Ge(e,e.return,g)}}break;case 1:ar(t,e),Cr(e),n&512&&r!==null&&Vi(r,r.return);break;case 5:if(ar(t,e),Cr(e),n&512&&r!==null&&Vi(r,r.return),e.flags&32){var i=e.stateNode;try{_o(i,"")}catch(g){Ge(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ZC(i,s),jm(a,o);var l=jm(a,s);for(o=0;o<u.length;o+=2){var c=u[o],d=u[o+1];c==="style"?tN(i,d):c==="dangerouslySetInnerHTML"?JC(i,d):c==="children"?_o(i,d):lv(i,c,d,l)}switch(a){case"input":Rm(i,s);break;case"textarea":XC(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Wi(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Wi(i,!!s.multiple,s.defaultValue,!0):Wi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Io]=s}catch(g){Ge(e,e.return,g)}}break;case 6:if(ar(t,e),Cr(e),n&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Ge(e,e.return,g)}}break;case 3:if(ar(t,e),Cr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Co(t.containerInfo)}catch(g){Ge(e,e.return,g)}break;case 4:ar(t,e),Cr(e);break;case 13:ar(t,e),Cr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Vv=Ye())),n&4&&sw(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(mt=(l=mt)||c,ar(t,e),mt=l):ar(t,e),Cr(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(re=e,c=e.child;c!==null;){for(d=re=c;re!==null;){switch(f=re,p=f.child,f.tag){case 0:case 11:case 14:case 15:co(4,f,f.return);break;case 1:Vi(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(g){Ge(n,r,g)}}break;case 5:Vi(f,f.return);break;case 22:if(f.memoizedState!==null){aw(d);continue}}p!==null?(p.return=f,re=p):aw(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=eN("display",o))}catch(g){Ge(e,e.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Ge(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ar(t,e),Cr(e),n&4&&sw(e);break;case 21:break;default:ar(t,e),Cr(e)}}function Cr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(CT(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(_o(i,""),n.flags&=-33);var s=iw(e);dy(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=iw(e);cy(e,a,o);break;default:throw Error(W(161))}}catch(u){Ge(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uj(e,t,r){re=e,OT(e)}function OT(e,t,r){for(var n=(e.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||qa;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||mt;a=qa;var l=mt;if(qa=o,(mt=u)&&!l)for(re=i;re!==null;)o=re,u=o.child,o.tag===22&&o.memoizedState!==null?uw(i):u!==null?(u.return=o,re=u):uw(i);for(;s!==null;)re=s,OT(s),s=s.sibling;re=i,qa=a,mt=l}ow(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):ow(e)}}function ow(e){for(;re!==null;){var t=re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mt||Il(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!mt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ur(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Hx(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Hx(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Co(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}mt||t.flags&512&&ly(t)}catch(f){Ge(t,t.return,f)}}if(t===e){re=null;break}if(r=t.sibling,r!==null){r.return=t.return,re=r;break}re=t.return}}function aw(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,re=r;break}re=t.return}}function uw(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Il(4,t)}catch(u){Ge(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){Ge(t,i,u)}}var s=t.return;try{ly(t)}catch(u){Ge(t,s,u)}break;case 5:var o=t.return;try{ly(t)}catch(u){Ge(t,o,u)}}}catch(u){Ge(t,t.return,u)}if(t===e){re=null;break}var a=t.sibling;if(a!==null){a.return=t.return,re=a;break}re=t.return}}var lj=Math.ceil,Uu=on.ReactCurrentDispatcher,qv=on.ReactCurrentOwner,er=on.ReactCurrentBatchConfig,Ie=0,at=null,Je=null,ft=0,Mt=0,Bi=qn(0),st=0,Lo=null,ai=0,Al=0,zv=0,fo=null,Ct=null,Vv=0,us=1/0,Br=null,Wu=!1,fy=null,On=null,za=!1,_n=null,Gu=0,ho=0,hy=null,hu=-1,pu=0;function bt(){return Ie&6?Ye():hu!==-1?hu:hu=Ye()}function Rn(e){return e.mode&1?Ie&2&&ft!==0?ft&-ft:WD.transition!==null?(pu===0&&(pu=hN()),pu):(e=Me,e!==0||(e=window.event,e=e===void 0?16:wN(e.type)),e):1}function wr(e,t,r,n){if(50<ho)throw ho=0,hy=null,Error(W(185));Jo(e,r,n),(!(Ie&2)||e!==at)&&(e===at&&(!(Ie&2)&&(Al|=r),st===4&&vn(e,ft)),It(e,n),r===1&&Ie===0&&!(t.mode&1)&&(us=Ye()+500,Tl&&zn()))}function It(e,t){var r=e.callbackNode;WP(e,t);var n=Ru(e,e===at?ft:0);if(n===0)r!==null&&yx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&yx(r),t===1)e.tag===0?UD(lw.bind(null,e)):$N(lw.bind(null,e)),zD(function(){!(Ie&6)&&zn()}),r=null;else{switch(pN(n)){case 1:r=pv;break;case 4:r=dN;break;case 16:r=Ou;break;case 536870912:r=fN;break;default:r=Ou}r=LT(r,RT.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function RT(e,t){if(hu=-1,pu=0,Ie&6)throw Error(W(327));var r=e.callbackNode;if(Xi()&&e.callbackNode!==r)return null;var n=Ru(e,e===at?ft:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ku(e,n);else{t=n;var i=Ie;Ie|=2;var s=AT();(at!==e||ft!==t)&&(Br=null,us=Ye()+500,Jn(e,t));do try{fj();break}catch(a){IT(e,a)}while(!0);Nv(),Uu.current=s,Ie=i,Je!==null?t=0:(at=null,ft=0,t=st)}if(t!==0){if(t===2&&(i=qm(e),i!==0&&(n=i,t=py(e,i))),t===1)throw r=Lo,Jn(e,0),vn(e,n),It(e,Ye()),r;if(t===6)vn(e,n);else{if(i=e.current.alternate,!(n&30)&&!cj(i)&&(t=Ku(e,n),t===2&&(s=qm(e),s!==0&&(n=s,t=py(e,s))),t===1))throw r=Lo,Jn(e,0),vn(e,n),It(e,Ye()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:Hn(e,Ct,Br);break;case 3:if(vn(e,n),(n&130023424)===n&&(t=Vv+500-Ye(),10<t)){if(Ru(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){bt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Km(Hn.bind(null,e,Ct,Br),t);break}Hn(e,Ct,Br);break;case 4:if(vn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-xr(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lj(n/1960))-n,10<n){e.timeoutHandle=Km(Hn.bind(null,e,Ct,Br),n);break}Hn(e,Ct,Br);break;case 5:Hn(e,Ct,Br);break;default:throw Error(W(329))}}}return It(e,Ye()),e.callbackNode===r?RT.bind(null,e):null}function py(e,t){var r=fo;return e.current.memoizedState.isDehydrated&&(Jn(e,t).flags|=256),e=Ku(e,t),e!==2&&(t=Ct,Ct=r,t!==null&&gy(t)),e}function gy(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function cj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!br(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t){for(t&=~zv,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xr(t),n=1<<r;e[r]=-1,t&=~n}}function lw(e){if(Ie&6)throw Error(W(327));Xi();var t=Ru(e,0);if(!(t&1))return It(e,Ye()),null;var r=Ku(e,t);if(e.tag!==0&&r===2){var n=qm(e);n!==0&&(t=n,r=py(e,n))}if(r===1)throw r=Lo,Jn(e,0),vn(e,t),It(e,Ye()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hn(e,Ct,Br),It(e,Ye()),null}function Bv(e,t){var r=Ie;Ie|=1;try{return e(t)}finally{Ie=r,Ie===0&&(us=Ye()+500,Tl&&zn())}}function ui(e){_n!==null&&_n.tag===0&&!(Ie&6)&&Xi();var t=Ie;Ie|=1;var r=er.transition,n=Me;try{if(er.transition=null,Me=1,e)return e()}finally{Me=n,er.transition=r,Ie=t,!(Ie&6)&&zn()}}function Hv(){Mt=Bi.current,$e(Bi)}function Jn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qD(r)),Je!==null)for(r=Je.return;r!==null;){var n=r;switch(Ev(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ju();break;case 3:os(),$e(Ot),$e(vt),Pv();break;case 5:Av(n);break;case 4:os();break;case 13:$e(Be);break;case 19:$e(Be);break;case 10:Tv(n.type._context);break;case 22:case 23:Hv()}r=r.return}if(at=e,Je=e=In(e.current,null),ft=Mt=t,st=0,Lo=null,zv=Al=ai=0,Ct=fo=null,Gn!==null){for(t=0;t<Gn.length;t++)if(r=Gn[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Gn=null}return e}function IT(e,t){do{var r=Je;try{if(Nv(),cu.current=Hu,Bu){for(var n=He.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Bu=!1}if(oi=0,ot=it=He=null,lo=!1,Do=0,qv.current=null,r===null||r.return===null){st=1,Lo=t,Je=null;break}e:{var s=e,o=r.return,a=r,u=t;if(t=ft,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Zx(o);if(p!==null){p.flags&=-257,Xx(p,o,a,s,t),p.mode&1&&Yx(s,l,t),t=p,u=l;var h=t.updateQueue;if(h===null){var g=new Set;g.add(u),t.updateQueue=g}else h.add(u);break e}else{if(!(t&1)){Yx(s,l,t),Uv();break e}u=Error(W(426))}}else if(qe&&a.mode&1){var w=Zx(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Xx(w,o,a,s,t),kv(as(u,a));break e}}s=u=as(u,a),st!==4&&(st=2),fo===null?fo=[s]:fo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=pT(s,u,t);Bx(s,m);break e;case 1:a=u;var x=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(On===null||!On.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=gT(s,a,t);Bx(s,b);break e}}s=s.return}while(s!==null)}DT(r)}catch(_){t=_,Je===r&&r!==null&&(Je=r=r.return);continue}break}while(!0)}function AT(){var e=Uu.current;return Uu.current=Hu,e===null?Hu:e}function Uv(){(st===0||st===3||st===2)&&(st=4),at===null||!(ai&268435455)&&!(Al&268435455)||vn(at,ft)}function Ku(e,t){var r=Ie;Ie|=2;var n=AT();(at!==e||ft!==t)&&(Br=null,Jn(e,t));do try{dj();break}catch(i){IT(e,i)}while(!0);if(Nv(),Ie=r,Uu.current=n,Je!==null)throw Error(W(261));return at=null,ft=0,st}function dj(){for(;Je!==null;)PT(Je)}function fj(){for(;Je!==null&&!LP();)PT(Je)}function PT(e){var t=MT(e.alternate,e,Mt);e.memoizedProps=e.pendingProps,t===null?DT(e):Je=t,qv.current=null}function DT(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=sj(r,t),r!==null){r.flags&=32767,Je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,Je=null;return}}else if(r=ij(r,t,Mt),r!==null){Je=r;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);st===0&&(st=5)}function Hn(e,t,r){var n=Me,i=er.transition;try{er.transition=null,Me=1,hj(e,t,r,n)}finally{er.transition=i,Me=n}return null}function hj(e,t,r,n){do Xi();while(_n!==null);if(Ie&6)throw Error(W(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(GP(e,s),e===at&&(Je=at=null,ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||za||(za=!0,LT(Ou,function(){return Xi(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=er.transition,er.transition=null;var o=Me;Me=1;var a=Ie;Ie|=4,qv.current=null,aj(e,r),TT(r,e),PD(Wm),Iu=!!Um,Wm=Um=null,e.current=r,uj(r),FP(),Ie=a,Me=o,er.transition=s}else e.current=r;if(za&&(za=!1,_n=e,Gu=i),s=e.pendingLanes,s===0&&(On=null),zP(r.stateNode),It(e,Ye()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=fy,fy=null,e;return Gu&1&&e.tag!==0&&Xi(),s=e.pendingLanes,s&1?e===hy?ho++:(ho=0,hy=e):ho=0,zn(),null}function Xi(){if(_n!==null){var e=pN(Gu),t=er.transition,r=Me;try{if(er.transition=null,Me=16>e?16:e,_n===null)var n=!1;else{if(e=_n,_n=null,Gu=0,Ie&6)throw Error(W(331));var i=Ie;for(Ie|=4,re=e.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(re=l;re!==null;){var c=re;switch(c.tag){case 0:case 11:case 15:co(8,c,s)}var d=c.child;if(d!==null)d.return=c,re=d;else for(;re!==null;){c=re;var f=c.sibling,p=c.return;if(kT(c),c===l){re=null;break}if(f!==null){f.return=p,re=f;break}re=p}}}var h=s.alternate;if(h!==null){var g=h.child;if(g!==null){h.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:co(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,re=m;break e}re=s.return}}var x=e.current;for(re=x;re!==null;){o=re;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,re=y;else e:for(o=x;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Il(9,a)}}catch(_){Ge(a,a.return,_)}if(a===o){re=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,re=b;break e}re=a.return}}if(Ie=i,zn(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Sl,e)}catch{}n=!0}return n}finally{Me=r,er.transition=t}}return!1}function cw(e,t,r){t=as(r,t),t=pT(e,t,1),e=Tn(e,t,1),t=bt(),e!==null&&(Jo(e,1,t),It(e,t))}function Ge(e,t,r){if(e.tag===3)cw(e,e,r);else for(;t!==null;){if(t.tag===3){cw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(On===null||!On.has(n))){e=as(r,e),e=gT(t,e,1),t=Tn(t,e,1),e=bt(),t!==null&&(Jo(t,1,e),It(t,e));break}}t=t.return}}function pj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=bt(),e.pingedLanes|=e.suspendedLanes&r,at===e&&(ft&r)===r&&(st===4||st===3&&(ft&130023424)===ft&&500>Ye()-Vv?Jn(e,0):zv|=r),It(e,t)}function jT(e,t){t===0&&(e.mode&1?(t=Ia,Ia<<=1,!(Ia&130023424)&&(Ia=4194304)):t=1);var r=bt();e=en(e,t),e!==null&&(Jo(e,t,r),It(e,r))}function gj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jT(e,r)}function mj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),jT(e,r)}var MT;MT=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ot.current)Nt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Nt=!1,nj(e,t,r);Nt=!!(e.flags&131072)}else Nt=!1,qe&&t.flags&1048576&&qN(t,Fu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;fu(e,t),e=t.pendingProps;var i=ns(t,vt.current);Zi(t,r),i=jv(null,t,n,e,i,r);var s=Mv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rt(n)?(s=!0,Mu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rv(t),i.updater=Rl,t.stateNode=i,i._reactInternals=t,ty(t,n,e,r),t=iy(null,t,n,!0,s,r)):(t.tag=0,qe&&s&&Sv(t),wt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(fu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=vj(n),e=ur(n,e),i){case 0:t=ny(null,t,n,e,r);break e;case 1:t=ew(null,t,n,e,r);break e;case 11:t=Qx(null,t,n,e,r);break e;case 14:t=Jx(null,t,n,ur(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ur(n,i),ny(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ur(n,i),ew(e,t,n,i,r);case 3:e:{if(xT(t),e===null)throw Error(W(387));n=t.pendingProps,s=t.memoizedState,i=s.element,WN(e,t),zu(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=as(Error(W(423)),t),t=tw(e,t,n,r,i);break e}else if(n!==i){i=as(Error(W(424)),t),t=tw(e,t,n,r,i);break e}else for(zt=Nn(t.stateNode.containerInfo.firstChild),Vt=t,qe=!0,dr=null,r=HN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(is(),n===i){t=tn(e,t,r);break e}wt(e,t,n,r)}t=t.child}return t;case 5:return GN(t),e===null&&Qm(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Gm(n,i)?o=null:s!==null&&Gm(n,s)&&(t.flags|=32),vT(e,t),wt(e,t,o,r),t.child;case 6:return e===null&&Qm(t),null;case 13:return wT(e,t,r);case 4:return Iv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ss(t,null,n,r):wt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ur(n,i),Qx(e,t,n,i,r);case 7:return wt(e,t,t.pendingProps,r),t.child;case 8:return wt(e,t,t.pendingProps.children,r),t.child;case 12:return wt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Le($u,n._currentValue),n._currentValue=o,s!==null)if(br(s.value,o)){if(s.children===i.children&&!Ot.current){t=tn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=Zr(-1,r&-r),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),Jm(s.return,r,t),a.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Jm(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Zi(t,r),i=tr(i),n=n(i),t.flags|=1,wt(e,t,n,r),t.child;case 14:return n=t.type,i=ur(n,t.pendingProps),i=ur(n.type,i),Jx(e,t,n,i,r);case 15:return mT(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ur(n,i),fu(e,t),t.tag=1,Rt(n)?(e=!0,Mu(t)):e=!1,Zi(t,r),hT(t,n,i),ty(t,n,i,r),iy(null,t,n,!0,e,r);case 19:return bT(e,t,r);case 22:return yT(e,t,r)}throw Error(W(156,t.tag))};function LT(e,t){return cN(e,t)}function yj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,r,n){return new yj(e,t,r,n)}function Wv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vj(e){if(typeof e=="function")return Wv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dv)return 11;if(e===fv)return 14}return 2}function In(e,t){var r=e.alternate;return r===null?(r=Jt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gu(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")Wv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pi:return ei(r.children,i,s,t);case cv:o=8,i|=8;break;case km:return e=Jt(12,r,t,i|2),e.elementType=km,e.lanes=s,e;case Cm:return e=Jt(13,r,t,i),e.elementType=Cm,e.lanes=s,e;case Nm:return e=Jt(19,r,t,i),e.elementType=Nm,e.lanes=s,e;case GC:return Pl(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case UC:o=10;break e;case WC:o=9;break e;case dv:o=11;break e;case fv:o=14;break e;case pn:o=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Jt(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function ei(e,t,r,n){return e=Jt(7,e,n,t),e.lanes=r,e}function Pl(e,t,r,n){return e=Jt(22,e,n,t),e.elementType=GC,e.lanes=r,e.stateNode={isHidden:!1},e}function nd(e,t,r){return e=Jt(6,e,null,t),e.lanes=r,e}function id(e,t,r){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xj(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fc(0),this.expirationTimes=Fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gv(e,t,r,n,i,s,o,a,u){return e=new xj(e,t,r,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Jt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rv(s),e}function wj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ai,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function FT(e){if(!e)return jn;e=e._reactInternals;e:{if(vi(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Rt(r))return FN(e,r,t)}return t}function $T(e,t,r,n,i,s,o,a,u){return e=Gv(r,n,!0,e,i,s,o,a,u),e.context=FT(null),r=e.current,n=bt(),i=Rn(r),s=Zr(n,i),s.callback=t??null,Tn(r,s,i),e.current.lanes=i,Jo(e,i,n),It(e,n),e}function Dl(e,t,r,n){var i=t.current,s=bt(),o=Rn(i);return r=FT(r),t.context===null?t.context=r:t.pendingContext=r,t=Zr(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Tn(i,t,o),e!==null&&(wr(e,i,o,s),lu(e,i,o)),o}function Yu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Kv(e,t){dw(e,t),(e=e.alternate)&&dw(e,t)}function bj(){return null}var qT=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yv(e){this._internalRoot=e}jl.prototype.render=Yv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Dl(e,t,null,null)};jl.prototype.unmount=Yv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ui(function(){Dl(null,e,null,null)}),t[Jr]=null}};function jl(e){this._internalRoot=e}jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=yN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yn.length&&t!==0&&t<yn[r].priority;r++);yn.splice(r,0,e),r===0&&xN(e)}};function Zv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fw(){}function _j(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=Yu(o);s.call(l)}}var o=$T(t,n,e,0,null,!1,!1,"",fw);return e._reactRootContainer=o,e[Jr]=o.current,Oo(e.nodeType===8?e.parentNode:e),ui(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=Yu(u);a.call(l)}}var u=Gv(e,0,!1,null,null,!1,!1,"",fw);return e._reactRootContainer=u,e[Jr]=u.current,Oo(e.nodeType===8?e.parentNode:e),ui(function(){Dl(t,u,r,n)}),u}function Ll(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Yu(o);a.call(u)}}Dl(t,o,e,i)}else o=_j(r,t,e,i,n);return Yu(o)}gN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gs(t.pendingLanes);r!==0&&(gv(t,r|1),It(t,Ye()),!(Ie&6)&&(us=Ye()+500,zn()))}break;case 13:ui(function(){var n=en(e,1);if(n!==null){var i=bt();wr(n,e,1,i)}}),Kv(e,1)}};mv=function(e){if(e.tag===13){var t=en(e,134217728);if(t!==null){var r=bt();wr(t,e,134217728,r)}Kv(e,134217728)}};mN=function(e){if(e.tag===13){var t=Rn(e),r=en(e,t);if(r!==null){var n=bt();wr(r,e,t,n)}Kv(e,t)}};yN=function(){return Me};vN=function(e,t){var r=Me;try{return Me=e,t()}finally{Me=r}};Lm=function(e,t,r){switch(t){case"input":if(Rm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Nl(n);if(!i)throw Error(W(90));YC(n),Rm(n,i)}}}break;case"textarea":XC(e,r);break;case"select":t=r.value,t!=null&&Wi(e,!!r.multiple,t,!1)}};iN=Bv;sN=ui;var Sj={usingClientEntryPoint:!1,Events:[ta,Li,Nl,rN,nN,Bv]},qs={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ej={bundleType:qs.bundleType,version:qs.version,rendererPackageName:qs.rendererPackageName,rendererConfig:qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:on.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uN(e),e===null?null:e.stateNode},findFiberByHostInstance:qs.findFiberByHostInstance||bj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Va=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Va.isDisabled&&Va.supportsFiber)try{Sl=Va.inject(Ej),Pr=Va}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sj;Wt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zv(t))throw Error(W(200));return wj(e,t,null,r)};Wt.createRoot=function(e,t){if(!Zv(e))throw Error(W(299));var r=!1,n="",i=qT;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Gv(e,1,!1,null,null,r,!1,n,i),e[Jr]=t.current,Oo(e.nodeType===8?e.parentNode:e),new Yv(t)};Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=uN(t),e=e===null?null:e.stateNode,e};Wt.flushSync=function(e){return ui(e)};Wt.hydrate=function(e,t,r){if(!Ml(t))throw Error(W(200));return Ll(null,e,t,!0,r)};Wt.hydrateRoot=function(e,t,r){if(!Zv(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=qT;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=$T(t,null,e,1,r??null,i,!1,s,o),e[Jr]=t.current,Oo(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new jl(t)};Wt.render=function(e,t,r){if(!Ml(t))throw Error(W(200));return Ll(null,e,t,!1,r)};Wt.unmountComponentAtNode=function(e){if(!Ml(e))throw Error(W(40));return e._reactRootContainer?(ui(function(){Ll(null,null,e,!1,function(){e._reactRootContainer=null,e[Jr]=null})}),!0):!1};Wt.unstable_batchedUpdates=Bv;Wt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ml(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Ll(e,t,r,!1,n)};Wt.version="18.3.1-next-f1338f8080-20240426";function zT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zT)}catch(e){console.error(e)}}zT(),zC.exports=Wt;var VT=zC.exports,hw=VT;Sm.createRoot=hw.createRoot,Sm.hydrateRoot=hw.hydrateRoot;function tt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=tt(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var kj={value:()=>{}};function Fl(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new mu(r)}function mu(e){this._=e}function Cj(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}mu.prototype=Fl.prototype={constructor:mu,on:function(e,t){var r=this._,n=Cj(e+"",r),i,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((i=(e=n[s]).type)&&(i=Nj(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=n[s]).type)r[i]=pw(r[i],e.name,t);else if(t==null)for(i in r)r[i]=pw(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new mu(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function Nj(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function pw(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=kj,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var my="http://www.w3.org/1999/xhtml";const gw={svg:"http://www.w3.org/2000/svg",xhtml:my,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $l(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),gw.hasOwnProperty(t)?{space:gw[t],local:e}:e}function Tj(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===my&&t.documentElement.namespaceURI===my?t.createElement(e):t.createElementNS(r,e)}}function Oj(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function BT(e){var t=$l(e);return(t.local?Oj:Tj)(t)}function Rj(){}function Xv(e){return e==null?Rj:function(){return this.querySelector(e)}}function Ij(e){typeof e!="function"&&(e=Xv(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,a=n[i]=new Array(o),u,l,c=0;c<o;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new Ht(n,this._parents)}function Aj(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Pj(){return[]}function HT(e){return e==null?Pj:function(){return this.querySelectorAll(e)}}function Dj(e){return function(){return Aj(e.apply(this,arguments))}}function jj(e){typeof e=="function"?e=Dj(e):e=HT(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var o=t[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(n.push(e.call(u,u.__data__,l,o)),i.push(u));return new Ht(n,i)}function UT(e){return function(){return this.matches(e)}}function WT(e){return function(t){return t.matches(e)}}var Mj=Array.prototype.find;function Lj(e){return function(){return Mj.call(this.children,e)}}function Fj(){return this.firstElementChild}function $j(e){return this.select(e==null?Fj:Lj(typeof e=="function"?e:WT(e)))}var qj=Array.prototype.filter;function zj(){return Array.from(this.children)}function Vj(e){return function(){return qj.call(this.children,e)}}function Bj(e){return this.selectAll(e==null?zj:Vj(typeof e=="function"?e:WT(e)))}function Hj(e){typeof e!="function"&&(e=UT(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,a=n[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new Ht(n,this._parents)}function GT(e){return new Array(e.length)}function Uj(){return new Ht(this._enter||this._groups.map(GT),this._parents)}function Zu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Zu.prototype={constructor:Zu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Wj(e){return function(){return e}}function Gj(e,t,r,n,i,s){for(var o=0,a,u=t.length,l=s.length;o<l;++o)(a=t[o])?(a.__data__=s[o],n[o]=a):r[o]=new Zu(e,s[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function Kj(e,t,r,n,i,s,o){var a,u,l=new Map,c=t.length,d=s.length,f=new Array(c),p;for(a=0;a<c;++a)(u=t[a])&&(f[a]=p=o.call(u,u.__data__,a,t)+"",l.has(p)?i[a]=u:l.set(p,u));for(a=0;a<d;++a)p=o.call(e,s[a],a,s)+"",(u=l.get(p))?(n[a]=u,u.__data__=s[a],l.delete(p)):r[a]=new Zu(e,s[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(f[a])===u&&(i[a]=u)}function Yj(e){return e.__data__}function Zj(e,t){if(!arguments.length)return Array.from(this,Yj);var r=t?Kj:Gj,n=this._parents,i=this._groups;typeof e!="function"&&(e=Wj(e));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var c=n[l],d=i[l],f=d.length,p=Xj(e.call(c,c&&c.__data__,l,n)),h=p.length,g=a[l]=new Array(h),w=o[l]=new Array(h),m=u[l]=new Array(f);r(c,d,g,w,m,p,t);for(var x=0,y=0,b,_;x<h;++x)if(b=g[x]){for(x>=y&&(y=x+1);!(_=w[y])&&++y<h;);b._next=_||null}}return o=new Ht(o,n),o._enter=a,o._exit=u,o}function Xj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Qj(){return new Ht(this._exit||this._groups.map(GT),this._parents)}function Jj(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}function eM(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=r[u],c=n[u],d=l.length,f=a[u]=new Array(d),p,h=0;h<d;++h)(p=l[h]||c[h])&&(f[h]=p);for(;u<i;++u)a[u]=r[u];return new Ht(a,this._parents)}function tM(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],o;--i>=0;)(o=n[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function rM(e){e||(e=nM);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var o=r[s],a=o.length,u=i[s]=new Array(a),l,c=0;c<a;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new Ht(i,this._parents).order()}function nM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function iM(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function sM(){return Array.from(this)}function oM(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null}function aM(){let e=0;for(const t of this)++e;return e}function uM(){return!this.node()}function lM(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function cM(e){return function(){this.removeAttribute(e)}}function dM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fM(e,t){return function(){this.setAttribute(e,t)}}function hM(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function pM(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function gM(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function mM(e,t){var r=$l(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?dM:cM:typeof t=="function"?r.local?gM:pM:r.local?hM:fM)(r,t))}function KT(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function yM(e){return function(){this.style.removeProperty(e)}}function vM(e,t,r){return function(){this.style.setProperty(e,t,r)}}function xM(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function wM(e,t,r){return arguments.length>1?this.each((t==null?yM:typeof t=="function"?xM:vM)(e,t,r??"")):ls(this.node(),e)}function ls(e,t){return e.style.getPropertyValue(t)||KT(e).getComputedStyle(e,null).getPropertyValue(t)}function bM(e){return function(){delete this[e]}}function _M(e,t){return function(){this[e]=t}}function SM(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function EM(e,t){return arguments.length>1?this.each((t==null?bM:typeof t=="function"?SM:_M)(e,t)):this.node()[e]}function YT(e){return e.trim().split(/^|\s+/)}function Qv(e){return e.classList||new ZT(e)}function ZT(e){this._node=e,this._names=YT(e.getAttribute("class")||"")}ZT.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function XT(e,t){for(var r=Qv(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function QT(e,t){for(var r=Qv(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function kM(e){return function(){XT(this,e)}}function CM(e){return function(){QT(this,e)}}function NM(e,t){return function(){(t.apply(this,arguments)?XT:QT)(this,e)}}function TM(e,t){var r=YT(e+"");if(arguments.length<2){for(var n=Qv(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?NM:t?kM:CM)(r,t))}function OM(){this.textContent=""}function RM(e){return function(){this.textContent=e}}function IM(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function AM(e){return arguments.length?this.each(e==null?OM:(typeof e=="function"?IM:RM)(e)):this.node().textContent}function PM(){this.innerHTML=""}function DM(e){return function(){this.innerHTML=e}}function jM(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function MM(e){return arguments.length?this.each(e==null?PM:(typeof e=="function"?jM:DM)(e)):this.node().innerHTML}function LM(){this.nextSibling&&this.parentNode.appendChild(this)}function FM(){return this.each(LM)}function $M(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qM(){return this.each($M)}function zM(e){var t=typeof e=="function"?e:BT(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function VM(){return null}function BM(e,t){var r=typeof e=="function"?e:BT(e),n=t==null?VM:typeof t=="function"?t:Xv(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function HM(){var e=this.parentNode;e&&e.removeChild(this)}function UM(){return this.each(HM)}function WM(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function GM(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function KM(e){return this.select(e?GM:WM)}function YM(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ZM(e){return function(t){e.call(this,t,this.__data__)}}function XM(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function QM(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function JM(e,t,r){return function(){var n=this.__on,i,s=ZM(t);if(n){for(var o=0,a=n.length;o<a;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}function eL(e,t,r){var n=XM(e+""),i,s=n.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<s;++i)if((o=n[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?JM:QM,i=0;i<s;++i)this.each(a(n[i],t,r));return this}function JT(e,t,r){var n=KT(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function tL(e,t){return function(){return JT(this,e,t)}}function rL(e,t){return function(){return JT(this,e,t.apply(this,arguments))}}function nL(e,t){return this.each((typeof t=="function"?rL:tL)(e,t))}function*iL(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&(yield o)}var eO=[null];function Ht(e,t){this._groups=e,this._parents=t}function na(){return new Ht([[document.documentElement]],eO)}function sL(){return this}Ht.prototype=na.prototype={constructor:Ht,select:Ij,selectAll:jj,selectChild:$j,selectChildren:Bj,filter:Hj,data:Zj,enter:Uj,exit:Qj,join:Jj,merge:eM,selection:sL,order:tM,sort:rM,call:iM,nodes:sM,node:oM,size:aM,empty:uM,each:lM,attr:mM,style:wM,property:EM,classed:TM,text:AM,html:MM,raise:FM,lower:qM,append:zM,insert:BM,remove:UM,clone:KM,datum:YM,on:eL,dispatch:nL,[Symbol.iterator]:iL};function $t(e){return typeof e=="string"?new Ht([[document.querySelector(e)]],[document.documentElement]):new Ht([[e]],eO)}function oL(e){let t;for(;t=e.sourceEvent;)e=t;return e}function cr(e,t){if(e=oL(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const aL={passive:!1},Fo={capture:!0,passive:!1};function sd(e){e.stopImmediatePropagation()}function Qi(e){e.preventDefault(),e.stopImmediatePropagation()}function tO(e){var t=e.document.documentElement,r=$t(e).on("dragstart.drag",Qi,Fo);"onselectstart"in t?r.on("selectstart.drag",Qi,Fo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function rO(e,t){var r=e.document.documentElement,n=$t(e).on("dragstart.drag",null);t&&(n.on("click.drag",Qi,Fo),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Ba=e=>()=>e;function yy(e,{sourceEvent:t,subject:r,target:n,identifier:i,active:s,x:o,y:a,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}yy.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function uL(e){return!e.ctrlKey&&!e.button}function lL(){return this.parentNode}function cL(e,t){return t??{x:e.x,y:e.y}}function dL(){return navigator.maxTouchPoints||"ontouchstart"in this}function nO(){var e=uL,t=lL,r=cL,n=dL,i={},s=Fl("start","drag","end"),o=0,a,u,l,c,d=0;function f(b){b.on("mousedown.drag",p).filter(n).on("touchstart.drag",w).on("touchmove.drag",m,aL).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(b,_){if(!(c||!e.call(this,b,_))){var S=y(this,t.call(this,b,_),b,_,"mouse");S&&($t(b.view).on("mousemove.drag",h,Fo).on("mouseup.drag",g,Fo),tO(b.view),sd(b),l=!1,a=b.clientX,u=b.clientY,S("start",b))}}function h(b){if(Qi(b),!l){var _=b.clientX-a,S=b.clientY-u;l=_*_+S*S>d}i.mouse("drag",b)}function g(b){$t(b.view).on("mousemove.drag mouseup.drag",null),rO(b.view,l),Qi(b),i.mouse("end",b)}function w(b,_){if(e.call(this,b,_)){var S=b.changedTouches,E=t.call(this,b,_),N=S.length,R,q;for(R=0;R<N;++R)(q=y(this,E,b,_,S[R].identifier,S[R]))&&(sd(b),q("start",b,S[R]))}}function m(b){var _=b.changedTouches,S=_.length,E,N;for(E=0;E<S;++E)(N=i[_[E].identifier])&&(Qi(b),N("drag",b,_[E]))}function x(b){var _=b.changedTouches,S=_.length,E,N;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),E=0;E<S;++E)(N=i[_[E].identifier])&&(sd(b),N("end",b,_[E]))}function y(b,_,S,E,N,R){var q=s.copy(),P=cr(R||S,_),I,L,k;if((k=r.call(b,new yy("beforestart",{sourceEvent:S,target:f,identifier:N,active:o,x:P[0],y:P[1],dx:0,dy:0,dispatch:q}),E))!=null)return I=k.x-P[0]||0,L=k.y-P[1]||0,function j(A,$,C){var T=P,F;switch(A){case"start":i[N]=j,F=o++;break;case"end":delete i[N],--o;case"drag":P=cr(C||$,_),F=o;break}q.call(A,b,new yy(A,{sourceEvent:$,subject:k,target:f,identifier:N,active:F,x:P[0]+I,y:P[1]+L,dx:P[0]-T[0],dy:P[1]-T[1],dispatch:q}),E)}}return f.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Ba(!!b),f):e},f.container=function(b){return arguments.length?(t=typeof b=="function"?b:Ba(b),f):t},f.subject=function(b){return arguments.length?(r=typeof b=="function"?b:Ba(b),f):r},f.touchable=function(b){return arguments.length?(n=typeof b=="function"?b:Ba(!!b),f):n},f.on=function(){var b=s.on.apply(s,arguments);return b===s?f:b},f.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,f):Math.sqrt(d)},f}function Jv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function iO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ia(){}var $o=.7,Xu=1/$o,Ji="\\s*([+-]?\\d+)\\s*",qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fL=/^#([0-9a-f]{3,8})$/,hL=new RegExp(`^rgb\\(${Ji},${Ji},${Ji}\\)$`),pL=new RegExp(`^rgb\\(${jr},${jr},${jr}\\)$`),gL=new RegExp(`^rgba\\(${Ji},${Ji},${Ji},${qo}\\)$`),mL=new RegExp(`^rgba\\(${jr},${jr},${jr},${qo}\\)$`),yL=new RegExp(`^hsl\\(${qo},${jr},${jr}\\)$`),vL=new RegExp(`^hsla\\(${qo},${jr},${jr},${qo}\\)$`),mw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jv(ia,li,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yw,formatHex:yw,formatHex8:xL,formatHsl:wL,formatRgb:vw,toString:vw});function yw(){return this.rgb().formatHex()}function xL(){return this.rgb().formatHex8()}function wL(){return sO(this).formatHsl()}function vw(){return this.rgb().formatRgb()}function li(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fL.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?xw(t):r===3?new Tt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ha(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ha(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hL.exec(e))?new Tt(t[1],t[2],t[3],1):(t=pL.exec(e))?new Tt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gL.exec(e))?Ha(t[1],t[2],t[3],t[4]):(t=mL.exec(e))?Ha(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yL.exec(e))?_w(t[1],t[2]/100,t[3]/100,1):(t=vL.exec(e))?_w(t[1],t[2]/100,t[3]/100,t[4]):mw.hasOwnProperty(e)?xw(mw[e]):e==="transparent"?new Tt(NaN,NaN,NaN,0):null}function xw(e){return new Tt(e>>16&255,e>>8&255,e&255,1)}function Ha(e,t,r,n){return n<=0&&(e=t=r=NaN),new Tt(e,t,r,n)}function bL(e){return e instanceof ia||(e=li(e)),e?(e=e.rgb(),new Tt(e.r,e.g,e.b,e.opacity)):new Tt}function vy(e,t,r,n){return arguments.length===1?bL(e):new Tt(e,t,r,n??1)}function Tt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Jv(Tt,vy,iO(ia,{brighter(e){return e=e==null?Xu:Math.pow(Xu,e),new Tt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$o:Math.pow($o,e),new Tt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tt(ti(this.r),ti(this.g),ti(this.b),Qu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ww,formatHex:ww,formatHex8:_L,formatRgb:bw,toString:bw}));function ww(){return`#${Yn(this.r)}${Yn(this.g)}${Yn(this.b)}`}function _L(){return`#${Yn(this.r)}${Yn(this.g)}${Yn(this.b)}${Yn((isNaN(this.opacity)?1:this.opacity)*255)}`}function bw(){const e=Qu(this.opacity);return`${e===1?"rgb(":"rgba("}${ti(this.r)}, ${ti(this.g)}, ${ti(this.b)}${e===1?")":`, ${e})`}`}function Qu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ti(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yn(e){return e=ti(e),(e<16?"0":"")+e.toString(16)}function _w(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new hr(e,t,r,n)}function sO(e){if(e instanceof hr)return new hr(e.h,e.s,e.l,e.opacity);if(e instanceof ia||(e=li(e)),!e)return new hr;if(e instanceof hr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(r-n)/a+(r<n)*6:r===s?o=(n-t)/a+2:o=(t-r)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new hr(o,a,u,e.opacity)}function SL(e,t,r,n){return arguments.length===1?sO(e):new hr(e,t,r,n??1)}function hr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Jv(hr,SL,iO(ia,{brighter(e){return e=e==null?Xu:Math.pow(Xu,e),new hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$o:Math.pow($o,e),new hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Tt(od(e>=240?e-240:e+120,i,n),od(e,i,n),od(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new hr(Sw(this.h),Ua(this.s),Ua(this.l),Qu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qu(this.opacity);return`${e===1?"hsl(":"hsla("}${Sw(this.h)}, ${Ua(this.s)*100}%, ${Ua(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Sw(e){return e=(e||0)%360,e<0?e+360:e}function Ua(e){return Math.max(0,Math.min(1,e||0))}function od(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const e0=e=>()=>e;function EL(e,t){return function(r){return e+r*t}}function kL(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function CL(e){return(e=+e)==1?oO:function(t,r){return r-t?kL(t,r,e):e0(isNaN(t)?r:t)}}function oO(e,t){var r=t-e;return r?EL(e,r):e0(isNaN(e)?t:e)}const Ju=function e(t){var r=CL(t);function n(i,s){var o=r((i=vy(i)).r,(s=vy(s)).r),a=r(i.g,s.g),u=r(i.b,s.b),l=oO(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return n.gamma=e,n}(1);function NL(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function TL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function OL(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=po(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(a){for(o=0;o<n;++o)s[o]=i[o](a);return s}}function RL(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Or(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function IL(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=po(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var xy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ad=new RegExp(xy.source,"g");function AL(e){return function(){return e}}function PL(e){return function(t){return e(t)+""}}function aO(e,t){var r=xy.lastIndex=ad.lastIndex=0,n,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(n=xy.exec(e))&&(i=ad.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),a[o]?a[o]+=s:a[++o]=s),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:Or(n,i)})),r=ad.lastIndex;return r<t.length&&(s=t.slice(r),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?PL(u[0].x):AL(t):(t=u.length,function(l){for(var c=0,d;c<t;++c)a[(d=u[c]).i]=d.x(l);return a.join("")})}function po(e,t){var r=typeof t,n;return t==null||r==="boolean"?e0(t):(r==="number"?Or:r==="string"?(n=li(t))?(t=n,Ju):aO:t instanceof li?Ju:t instanceof Date?RL:TL(t)?NL:Array.isArray(t)?OL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?IL:Or)(e,t)}var Ew=180/Math.PI,wy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function uO(e,t,r,n,i,s){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,u/=a),e*n<t*r&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Ew,skewX:Math.atan(u)*Ew,scaleX:o,scaleY:a}}var Wa;function DL(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?wy:uO(t.a,t.b,t.c,t.d,t.e,t.f)}function jL(e){return e==null||(Wa||(Wa=document.createElementNS("http://www.w3.org/2000/svg","g")),Wa.setAttribute("transform",e),!(e=Wa.transform.baseVal.consolidate()))?wy:(e=e.matrix,uO(e.a,e.b,e.c,e.d,e.e,e.f))}function lO(e,t,r,n){function i(l){return l.length?l.pop()+" ":""}function s(l,c,d,f,p,h){if(l!==d||c!==f){var g=p.push("translate(",null,t,null,r);h.push({i:g-4,x:Or(l,d)},{i:g-2,x:Or(c,f)})}else(d||f)&&p.push("translate("+d+t+f+r)}function o(l,c,d,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:d.push(i(d)+"rotate(",null,n)-2,x:Or(l,c)})):c&&d.push(i(d)+"rotate("+c+n)}function a(l,c,d,f){l!==c?f.push({i:d.push(i(d)+"skewX(",null,n)-2,x:Or(l,c)}):c&&d.push(i(d)+"skewX("+c+n)}function u(l,c,d,f,p,h){if(l!==d||c!==f){var g=p.push(i(p)+"scale(",null,",",null,")");h.push({i:g-4,x:Or(l,d)},{i:g-2,x:Or(c,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(l,c){var d=[],f=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,d,f),o(l.rotate,c.rotate,d,f),a(l.skewX,c.skewX,d,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,f),l=c=null,function(p){for(var h=-1,g=f.length,w;++h<g;)d[(w=f[h]).i]=w.x(p);return d.join("")}}}var ML=lO(DL,"px, ","px)","deg)"),LL=lO(jL,", ",")",")"),FL=1e-12;function kw(e){return((e=Math.exp(e))+1/e)/2}function $L(e){return((e=Math.exp(e))-1/e)/2}function qL(e){return((e=Math.exp(2*e))-1)/(e+1)}const yu=function e(t,r,n){function i(s,o){var a=s[0],u=s[1],l=s[2],c=o[0],d=o[1],f=o[2],p=c-a,h=d-u,g=p*p+h*h,w,m;if(g<FL)m=Math.log(f/l)/t,w=function(E){return[a+E*p,u+E*h,l*Math.exp(t*E*m)]};else{var x=Math.sqrt(g),y=(f*f-l*l+n*g)/(2*l*r*x),b=(f*f-l*l-n*g)/(2*f*r*x),_=Math.log(Math.sqrt(y*y+1)-y),S=Math.log(Math.sqrt(b*b+1)-b);m=(S-_)/t,w=function(E){var N=E*m,R=kw(_),q=l/(r*x)*(R*qL(t*N+_)-$L(_));return[a+q*p,u+q*h,l*R/kw(t*N+_)]}}return w.duration=m*1e3*t/Math.SQRT2,w}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,u=a*a;return e(o,a,u)},i}(Math.SQRT2,2,4);var cs=0,Ys=0,zs=0,cO=1e3,el,Zs,tl=0,ci=0,ql=0,zo=typeof performance=="object"&&performance.now?performance:Date,dO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function t0(){return ci||(dO(zL),ci=zo.now()+ql)}function zL(){ci=0}function rl(){this._call=this._time=this._next=null}rl.prototype=fO.prototype={constructor:rl,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?t0():+r)+(t==null?0:+t),!this._next&&Zs!==this&&(Zs?Zs._next=this:el=this,Zs=this),this._call=e,this._time=r,by()},stop:function(){this._call&&(this._call=null,this._time=1/0,by())}};function fO(e,t,r){var n=new rl;return n.restart(e,t,r),n}function VL(){t0(),++cs;for(var e=el,t;e;)(t=ci-e._time)>=0&&e._call.call(void 0,t),e=e._next;--cs}function Cw(){ci=(tl=zo.now())+ql,cs=Ys=0;try{VL()}finally{cs=0,HL(),ci=0}}function BL(){var e=zo.now(),t=e-tl;t>cO&&(ql-=t,tl=e)}function HL(){for(var e,t=el,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:el=r);Zs=e,by(n)}function by(e){if(!cs){Ys&&(Ys=clearTimeout(Ys));var t=e-ci;t>24?(e<1/0&&(Ys=setTimeout(Cw,e-zo.now()-ql)),zs&&(zs=clearInterval(zs))):(zs||(tl=zo.now(),zs=setInterval(BL,cO)),cs=1,dO(Cw))}}function Nw(e,t,r){var n=new rl;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var UL=Fl("start","end","cancel","interrupt"),WL=[],hO=0,Tw=1,_y=2,vu=3,Ow=4,Sy=5,xu=6;function zl(e,t,r,n,i,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;GL(e,r,{name:t,index:n,group:i,on:UL,tween:WL,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:hO})}function r0(e,t){var r=_r(e,t);if(r.state>hO)throw new Error("too late; already scheduled");return r}function Fr(e,t){var r=_r(e,t);if(r.state>vu)throw new Error("too late; already running");return r}function _r(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function GL(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=fO(s,0,r.time);function s(l){r.state=Tw,r.timer.restart(o,r.delay,r.time),r.delay<=l&&o(l-r.delay)}function o(l){var c,d,f,p;if(r.state!==Tw)return u();for(c in n)if(p=n[c],p.name===r.name){if(p.state===vu)return Nw(o);p.state===Ow?(p.state=xu,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[c]):+c<t&&(p.state=xu,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[c])}if(Nw(function(){r.state===vu&&(r.state=Ow,r.timer.restart(a,r.delay,r.time),a(l))}),r.state=_y,r.on.call("start",e,e.__data__,r.index,r.group),r.state===_y){for(r.state=vu,i=new Array(f=r.tween.length),c=0,d=-1;c<f;++c)(p=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(i[++d]=p);i.length=d+1}}function a(l){for(var c=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(u),r.state=Sy,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);r.state===Sy&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=xu,r.timer.stop(),delete n[t];for(var l in n)return;delete e.__transition}}function wu(e,t){var r=e.__transition,n,i,s=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}i=n.state>_y&&n.state<Sy,n.state=xu,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}function KL(e){return this.each(function(){wu(this,e)})}function YL(e,t){var r,n;return function(){var i=Fr(this,e),s=i.tween;if(s!==r){n=r=s;for(var o=0,a=n.length;o<a;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function ZL(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=Fr(this,e),o=s.tween;if(o!==n){i=(n=o).slice();for(var a={name:t,value:r},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function XL(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=_r(this.node(),r).tween,i=0,s=n.length,o;i<s;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?YL:ZL)(r,e,t))}function n0(e,t,r){var n=e._id;return e.each(function(){var i=Fr(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return _r(i,n).value[t]}}function pO(e,t){var r;return(typeof t=="number"?Or:t instanceof li?Ju:(r=li(t))?(t=r,Ju):aO)(e,t)}function QL(e){return function(){this.removeAttribute(e)}}function JL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function eF(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===n?s:s=t(n=o,r)}}function tF(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?s:s=t(n=o,r)}}function rF(e,t,r){var n,i,s;return function(){var o,a=r(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,a)))}}function nF(e,t,r){var n,i,s;return function(){var o,a=r(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,a)))}}function iF(e,t){var r=$l(e),n=r==="transform"?LL:pO;return this.attrTween(e,typeof t=="function"?(r.local?nF:rF)(r,n,n0(this,"attr."+e,t)):t==null?(r.local?JL:QL)(r):(r.local?tF:eF)(r,n,t))}function sF(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function oF(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function aF(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&oF(e,s)),r}return i._value=t,i}function uF(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&sF(e,s)),r}return i._value=t,i}function lF(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=$l(e);return this.tween(r,(n.local?aF:uF)(n,t))}function cF(e,t){return function(){r0(this,e).delay=+t.apply(this,arguments)}}function dF(e,t){return t=+t,function(){r0(this,e).delay=t}}function fF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?cF:dF)(t,e)):_r(this.node(),t).delay}function hF(e,t){return function(){Fr(this,e).duration=+t.apply(this,arguments)}}function pF(e,t){return t=+t,function(){Fr(this,e).duration=t}}function gF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hF:pF)(t,e)):_r(this.node(),t).duration}function mF(e,t){if(typeof t!="function")throw new Error;return function(){Fr(this,e).ease=t}}function yF(e){var t=this._id;return arguments.length?this.each(mF(t,e)):_r(this.node(),t).ease}function vF(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Fr(this,e).ease=r}}function xF(e){if(typeof e!="function")throw new Error;return this.each(vF(this._id,e))}function wF(e){typeof e!="function"&&(e=UT(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,a=n[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new rn(n,this._parents,this._name,this._id)}function bF(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),a=0;a<s;++a)for(var u=t[a],l=r[a],c=u.length,d=o[a]=new Array(c),f,p=0;p<c;++p)(f=u[p]||l[p])&&(d[p]=f);for(;a<n;++a)o[a]=t[a];return new rn(o,this._parents,this._name,this._id)}function _F(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function SF(e,t,r){var n,i,s=_F(t)?r0:Fr;return function(){var o=s(this,e),a=o.on;a!==n&&(i=(n=a).copy()).on(t,r),o.on=i}}function EF(e,t){var r=this._id;return arguments.length<2?_r(this.node(),r).on.on(e):this.each(SF(r,e,t))}function kF(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function CF(){return this.on("end.remove",kF(this._id))}function NF(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Xv(e));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var a=n[o],u=a.length,l=s[o]=new Array(u),c,d,f=0;f<u;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d,zl(l[f],t,r,f,l,_r(c,r)));return new rn(s,this._parents,t,r)}function TF(e){var t=this._name,r=this._id;typeof e!="function"&&(e=HT(e));for(var n=this._groups,i=n.length,s=[],o=[],a=0;a<i;++a)for(var u=n[a],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var f=e.call(c,c.__data__,d,u),p,h=_r(c,r),g=0,w=f.length;g<w;++g)(p=f[g])&&zl(p,t,r,g,f,h);s.push(f),o.push(c)}return new rn(s,o,t,r)}var OF=na.prototype.constructor;function RF(){return new OF(this._groups,this._parents)}function IF(e,t){var r,n,i;return function(){var s=ls(this,e),o=(this.style.removeProperty(e),ls(this,e));return s===o?null:s===r&&o===n?i:i=t(r=s,n=o)}}function gO(e){return function(){this.style.removeProperty(e)}}function AF(e,t,r){var n,i=r+"",s;return function(){var o=ls(this,e);return o===i?null:o===n?s:s=t(n=o,r)}}function PF(e,t,r){var n,i,s;return function(){var o=ls(this,e),a=r(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),ls(this,e))),o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,a))}}function DF(e,t){var r,n,i,s="style."+t,o="end."+s,a;return function(){var u=Fr(this,e),l=u.on,c=u.value[s]==null?a||(a=gO(t)):void 0;(l!==r||i!==c)&&(n=(r=l).copy()).on(o,i=c),u.on=n}}function jF(e,t,r){var n=(e+="")=="transform"?ML:pO;return t==null?this.styleTween(e,IF(e,n)).on("end.style."+e,gO(e)):typeof t=="function"?this.styleTween(e,PF(e,n,n0(this,"style."+e,t))).each(DF(this._id,e)):this.styleTween(e,AF(e,n,t),r).on("end.style."+e,null)}function MF(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function LF(e,t,r){var n,i;function s(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&MF(e,o,r)),n}return s._value=t,s}function FF(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,LF(e,t,r??""))}function $F(e){return function(){this.textContent=e}}function qF(e){return function(){var t=e(this);this.textContent=t??""}}function zF(e){return this.tween("text",typeof e=="function"?qF(n0(this,"text",e)):$F(e==null?"":e+""))}function VF(e){return function(t){this.textContent=e.call(this,t)}}function BF(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&VF(i)),t}return n._value=e,n}function HF(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,BF(e))}function UF(){for(var e=this._name,t=this._id,r=mO(),n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var c=_r(u,t);zl(u,e,r,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new rn(n,this._parents,e,r)}function WF(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};r.each(function(){var l=Fr(this,n),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&s()})}var GF=0;function rn(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function mO(){return++GF}var qr=na.prototype;rn.prototype={constructor:rn,select:NF,selectAll:TF,selectChild:qr.selectChild,selectChildren:qr.selectChildren,filter:wF,merge:bF,selection:RF,transition:UF,call:qr.call,nodes:qr.nodes,node:qr.node,size:qr.size,empty:qr.empty,each:qr.each,on:EF,attr:iF,attrTween:lF,style:jF,styleTween:FF,text:zF,textTween:HF,remove:CF,tween:XL,delay:fF,duration:gF,ease:yF,easeVarying:xF,end:WF,[Symbol.iterator]:qr[Symbol.iterator]};function KF(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var YF={time:null,delay:0,duration:250,ease:KF};function ZF(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function XF(e){var t,r;e instanceof rn?(t=e._id,e=e._name):(t=mO(),(r=YF).time=t0(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&zl(u,e,t,l,o,r||ZF(u,t));return new rn(n,this._parents,e,t)}na.prototype.interrupt=KL;na.prototype.transition=XF;const Ga=e=>()=>e;function QF(e,{sourceEvent:t,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function Gr(e,t,r){this.k=e,this.x=t,this.y=r}Gr.prototype={constructor:Gr,scale:function(e){return e===1?this:new Gr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Gr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vl=new Gr(1,0,0);yO.prototype=Gr.prototype;function yO(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Vl;return e.__zoom}function ud(e){e.stopImmediatePropagation()}function Vs(e){e.preventDefault(),e.stopImmediatePropagation()}function JF(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function e$(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Rw(){return this.__zoom||Vl}function t$(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function r$(){return navigator.maxTouchPoints||"ontouchstart"in this}function n$(e,t,r){var n=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],s=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function vO(){var e=JF,t=e$,r=n$,n=t$,i=r$,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,u=yu,l=Fl("start","zoom","end"),c,d,f,p=500,h=150,g=0,w=10;function m(k){k.property("__zoom",Rw).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",q).filter(i).on("touchstart.zoom",P).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(k,j,A,$){var C=k.selection?k.selection():k;C.property("__zoom",Rw),k!==C?_(k,j,A,$):C.interrupt().each(function(){S(this,arguments).event($).start().zoom(null,typeof j=="function"?j.apply(this,arguments):j).end()})},m.scaleBy=function(k,j,A,$){m.scaleTo(k,function(){var C=this.__zoom.k,T=typeof j=="function"?j.apply(this,arguments):j;return C*T},A,$)},m.scaleTo=function(k,j,A,$){m.transform(k,function(){var C=t.apply(this,arguments),T=this.__zoom,F=A==null?b(C):typeof A=="function"?A.apply(this,arguments):A,B=T.invert(F),H=typeof j=="function"?j.apply(this,arguments):j;return r(y(x(T,H),F,B),C,o)},A,$)},m.translateBy=function(k,j,A,$){m.transform(k,function(){return r(this.__zoom.translate(typeof j=="function"?j.apply(this,arguments):j,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),o)},null,$)},m.translateTo=function(k,j,A,$,C){m.transform(k,function(){var T=t.apply(this,arguments),F=this.__zoom,B=$==null?b(T):typeof $=="function"?$.apply(this,arguments):$;return r(Vl.translate(B[0],B[1]).scale(F.k).translate(typeof j=="function"?-j.apply(this,arguments):-j,typeof A=="function"?-A.apply(this,arguments):-A),T,o)},$,C)};function x(k,j){return j=Math.max(s[0],Math.min(s[1],j)),j===k.k?k:new Gr(j,k.x,k.y)}function y(k,j,A){var $=j[0]-A[0]*k.k,C=j[1]-A[1]*k.k;return $===k.x&&C===k.y?k:new Gr(k.k,$,C)}function b(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function _(k,j,A,$){k.on("start.zoom",function(){S(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event($).end()}).tween("zoom",function(){var C=this,T=arguments,F=S(C,T).event($),B=t.apply(C,T),H=A==null?b(B):typeof A=="function"?A.apply(C,T):A,Q=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),Z=C.__zoom,ne=typeof j=="function"?j.apply(C,T):j,ae=u(Z.invert(H).concat(Q/Z.k),ne.invert(H).concat(Q/ne.k));return function(te){if(te===1)te=ne;else{var X=ae(te),le=Q/X[2];te=new Gr(le,H[0]-X[0]*le,H[1]-X[1]*le)}F.zoom(null,te)}})}function S(k,j,A){return!A&&k.__zooming||new E(k,j)}function E(k,j){this.that=k,this.args=j,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,j),this.taps=0}E.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,j){return this.mouse&&k!=="mouse"&&(this.mouse[1]=j.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=j.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=j.invert(this.touch1[0])),this.that.__zoom=j,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var j=$t(this.that).datum();l.call(k,this.that,new QF(k,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:l}),j)}};function N(k,...j){if(!e.apply(this,arguments))return;var A=S(this,j).event(k),$=this.__zoom,C=Math.max(s[0],Math.min(s[1],$.k*Math.pow(2,n.apply(this,arguments)))),T=cr(k);if(A.wheel)(A.mouse[0][0]!==T[0]||A.mouse[0][1]!==T[1])&&(A.mouse[1]=$.invert(A.mouse[0]=T)),clearTimeout(A.wheel);else{if($.k===C)return;A.mouse=[T,$.invert(T)],wu(this),A.start()}Vs(k),A.wheel=setTimeout(F,h),A.zoom("mouse",r(y(x($,C),A.mouse[0],A.mouse[1]),A.extent,o));function F(){A.wheel=null,A.end()}}function R(k,...j){if(f||!e.apply(this,arguments))return;var A=k.currentTarget,$=S(this,j,!0).event(k),C=$t(k.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",Q,!0),T=cr(k,A),F=k.clientX,B=k.clientY;tO(k.view),ud(k),$.mouse=[T,this.__zoom.invert(T)],wu(this),$.start();function H(Z){if(Vs(Z),!$.moved){var ne=Z.clientX-F,ae=Z.clientY-B;$.moved=ne*ne+ae*ae>g}$.event(Z).zoom("mouse",r(y($.that.__zoom,$.mouse[0]=cr(Z,A),$.mouse[1]),$.extent,o))}function Q(Z){C.on("mousemove.zoom mouseup.zoom",null),rO(Z.view,$.moved),Vs(Z),$.event(Z).end()}}function q(k,...j){if(e.apply(this,arguments)){var A=this.__zoom,$=cr(k.changedTouches?k.changedTouches[0]:k,this),C=A.invert($),T=A.k*(k.shiftKey?.5:2),F=r(y(x(A,T),$,C),t.apply(this,j),o);Vs(k),a>0?$t(this).transition().duration(a).call(_,F,$,k):$t(this).call(m.transform,F,$,k)}}function P(k,...j){if(e.apply(this,arguments)){var A=k.touches,$=A.length,C=S(this,j,k.changedTouches.length===$).event(k),T,F,B,H;for(ud(k),F=0;F<$;++F)B=A[F],H=cr(B,this),H=[H,this.__zoom.invert(H),B.identifier],C.touch0?!C.touch1&&C.touch0[2]!==H[2]&&(C.touch1=H,C.taps=0):(C.touch0=H,T=!0,C.taps=1+!!c);c&&(c=clearTimeout(c)),T&&(C.taps<2&&(d=H[0],c=setTimeout(function(){c=null},p)),wu(this),C.start())}}function I(k,...j){if(this.__zooming){var A=S(this,j).event(k),$=k.changedTouches,C=$.length,T,F,B,H;for(Vs(k),T=0;T<C;++T)F=$[T],B=cr(F,this),A.touch0&&A.touch0[2]===F.identifier?A.touch0[0]=B:A.touch1&&A.touch1[2]===F.identifier&&(A.touch1[0]=B);if(F=A.that.__zoom,A.touch1){var Q=A.touch0[0],Z=A.touch0[1],ne=A.touch1[0],ae=A.touch1[1],te=(te=ne[0]-Q[0])*te+(te=ne[1]-Q[1])*te,X=(X=ae[0]-Z[0])*X+(X=ae[1]-Z[1])*X;F=x(F,Math.sqrt(te/X)),B=[(Q[0]+ne[0])/2,(Q[1]+ne[1])/2],H=[(Z[0]+ae[0])/2,(Z[1]+ae[1])/2]}else if(A.touch0)B=A.touch0[0],H=A.touch0[1];else return;A.zoom("touch",r(y(F,B,H),A.extent,o))}}function L(k,...j){if(this.__zooming){var A=S(this,j).event(k),$=k.changedTouches,C=$.length,T,F;for(ud(k),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),T=0;T<C;++T)F=$[T],A.touch0&&A.touch0[2]===F.identifier?delete A.touch0:A.touch1&&A.touch1[2]===F.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(F=cr(F,this),Math.hypot(d[0]-F[0],d[1]-F[1])<w)){var B=$t(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return m.wheelDelta=function(k){return arguments.length?(n=typeof k=="function"?k:Ga(+k),m):n},m.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Ga(!!k),m):e},m.touchable=function(k){return arguments.length?(i=typeof k=="function"?k:Ga(!!k),m):i},m.extent=function(k){return arguments.length?(t=typeof k=="function"?k:Ga([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),m):t},m.scaleExtent=function(k){return arguments.length?(s[0]=+k[0],s[1]=+k[1],m):[s[0],s[1]]},m.translateExtent=function(k){return arguments.length?(o[0][0]=+k[0][0],o[1][0]=+k[1][0],o[0][1]=+k[0][1],o[1][1]=+k[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(k){return arguments.length?(r=k,m):r},m.duration=function(k){return arguments.length?(a=+k,m):a},m.interpolate=function(k){return arguments.length?(u=k,m):u},m.on=function(){var k=l.on.apply(l,arguments);return k===l?m:k},m.clickDistance=function(k){return arguments.length?(g=(k=+k)*k,m):Math.sqrt(g)},m.tapDistance=function(k){return arguments.length?(w=+k,m):w},m}const Lr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:n})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:n}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Vo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],xO=["Enter"," ","Escape"],wO={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ds;(function(e){e.Strict="strict",e.Loose="loose"})(ds||(ds={}));var ri;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ri||(ri={}));var Bo;(function(e){e.Partial="partial",e.Full="full"})(Bo||(Bo={}));const bO={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var xn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(xn||(xn={}));var nl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(nl||(nl={}));var oe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(oe||(oe={}));const Iw={[oe.Left]:oe.Right,[oe.Right]:oe.Left,[oe.Top]:oe.Bottom,[oe.Bottom]:oe.Top};function _O(e){return e===null?null:e?"valid":"invalid"}const SO=e=>"id"in e&&"source"in e&&"target"in e,i$=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),i0=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),sa=(e,t=[0,0])=>{const{width:r,height:n}=an(e),i=e.origin??t,s=r*i[0],o=n*i[1];return{x:e.position.x-s,y:e.position.y-o}},s$=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,i)=>{const s=typeof i=="string";let o=!t.nodeLookup&&!s?i:void 0;t.nodeLookup&&(o=s?t.nodeLookup.get(i):i0(i)?i:t.nodeLookup.get(i.id));const a=o?il(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Bl(n,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Hl(r)},oa=(e,t={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},n=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(r=Bl(r,il(i)),n=!0)}),n?Hl(r):{x:0,y:0,width:0,height:0}},s0=(e,t,[r,n,i]=[0,0,1],s=!1,o=!1)=>{const a={...ua(t,[r,n,i]),width:t.width/i,height:t.height/i},u=[];for(const l of e.values()){const{measured:c,selectable:d=!0,hidden:f=!1}=l;if(o&&!d||f)continue;const p=c.width??l.width??l.initialWidth??null,h=c.height??l.height??l.initialHeight??null,g=Ho(a,hs(l)),w=(p??0)*(h??0),m=s&&g>0;(!l.internals.handleBounds||m||g>=w||l.dragging)&&u.push(l)}return u},o$=(e,t)=>{const r=new Set;return e.forEach(n=>{r.add(n.id)}),t.filter(n=>r.has(n.source)||r.has(n.target))};function a$(e,t){const r=new Map,n=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!n||n.has(i.id))&&r.set(i.id,i)}),r}async function u$({nodes:e,width:t,height:r,panZoom:n,minZoom:i,maxZoom:s},o){if(e.size===0)return Promise.resolve(!0);const a=a$(e,o),u=oa(a),l=o0(u,t,r,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await n.setViewport(l,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function EO({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:n=[0,0],nodeExtent:i,onError:s}){const o=r.get(e),a=o.parentId?r.get(o.parentId):void 0,{x:u,y:l}=a?a.internals.positionAbsolute:{x:0,y:0},c=o.origin??n;let d=o.extent||i;if(o.extent==="parent"&&!o.expandParent)if(!a)s==null||s("005",Lr.error005());else{const p=a.measured.width,h=a.measured.height;p&&h&&(d=[[u,l],[u+p,l+h]])}else a&&ps(o.extent)&&(d=[[o.extent[0][0]+u,o.extent[0][1]+l],[o.extent[1][0]+u,o.extent[1][1]+l]]);const f=ps(d)?di(t,d,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&(s==null||s("015",Lr.error015())),{position:{x:f.x-u+(o.measured.width??0)*c[0],y:f.y-l+(o.measured.height??0)*c[1]},positionAbsolute:f}}async function l$({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:n,onBeforeDelete:i}){const s=new Set(e.map(f=>f.id)),o=[];for(const f of r){if(f.deletable===!1)continue;const p=s.has(f.id),h=!p&&f.parentId&&o.find(g=>g.id===f.parentId);(p||h)&&o.push(f)}const a=new Set(t.map(f=>f.id)),u=n.filter(f=>f.deletable!==!1),c=o$(o,u);for(const f of u)a.has(f.id)&&!c.find(h=>h.id===f.id)&&c.push(f);if(!i)return{edges:c,nodes:o};const d=await i({nodes:o,edges:c});return typeof d=="boolean"?d?{edges:c,nodes:o}:{edges:[],nodes:[]}:d}const fs=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),di=(e={x:0,y:0},t,r)=>({x:fs(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:fs(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function kO(e,t,r){const{width:n,height:i}=an(r),{x:s,y:o}=r.internals.positionAbsolute;return di(e,[[s,o],[s+n,o+i]],t)}const Aw=(e,t,r)=>e<t?fs(Math.abs(e-t),1,t)/t:e>r?-fs(Math.abs(e-r),1,t)/t:0,CO=(e,t,r=15,n=40)=>{const i=Aw(e.x,n,t.width-n)*r,s=Aw(e.y,n,t.height-n)*r;return[i,s]},Bl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Ey=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),Hl=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),hs=(e,t=[0,0])=>{var i,s;const{x:r,y:n}=i0(e)?e.internals.positionAbsolute:sa(e,t);return{x:r,y:n,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0}},il=(e,t=[0,0])=>{var i,s;const{x:r,y:n}=i0(e)?e.internals.positionAbsolute:sa(e,t);return{x:r,y:n,x2:r+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:n+(((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0)}},NO=(e,t)=>Hl(Bl(Ey(e),Ey(t))),Ho=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},Pw=e=>yr(e.width)&&yr(e.height)&&yr(e.x)&&yr(e.y),yr=e=>!isNaN(e)&&isFinite(e),c$=(e,t)=>{},aa=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),ua=({x:e,y:t},[r,n,i],s=!1,o=[1,1])=>{const a={x:(e-r)/i,y:(t-n)/i};return s?aa(a,o):a},sl=({x:e,y:t},[r,n,i])=>({x:e*i+r,y:t*i+n});function Ci(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function d$(e,t,r){if(typeof e=="string"||typeof e=="number"){const n=Ci(e,r),i=Ci(e,t);return{top:n,right:i,bottom:n,left:i,x:i*2,y:n*2}}if(typeof e=="object"){const n=Ci(e.top??e.y??0,r),i=Ci(e.bottom??e.y??0,r),s=Ci(e.left??e.x??0,t),o=Ci(e.right??e.x??0,t);return{top:n,right:o,bottom:i,left:s,x:s+o,y:n+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function f$(e,t,r,n,i,s){const{x:o,y:a}=sl(e,[t,r,n]),{x:u,y:l}=sl({x:e.x+e.width,y:e.y+e.height},[t,r,n]),c=i-u,d=s-l;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(c),bottom:Math.floor(d)}}const o0=(e,t,r,n,i,s)=>{const o=d$(s,t,r),a=(t-o.x)/e.width,u=(r-o.y)/e.height,l=Math.min(a,u),c=fs(l,n,i),d=e.x+e.width/2,f=e.y+e.height/2,p=t/2-d*c,h=r/2-f*c,g=f$(e,p,h,c,t,r),w={left:Math.min(g.left-o.left,0),top:Math.min(g.top-o.top,0),right:Math.min(g.right-o.right,0),bottom:Math.min(g.bottom-o.bottom,0)};return{x:p-w.left+w.right,y:h-w.top+w.bottom,zoom:c}},Uo=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function ps(e){return e!=null&&e!=="parent"}function an(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function TO(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function OO(e,t={width:0,height:0},r,n,i){const s={...e},o=n.get(r);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(t.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(t.height??0)*a[1]}return s}function Dw(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function h$(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}function p$(e){return{...wO,...e||{}}}function go(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:n,containerBounds:i}){const{x:s,y:o}=vr(e),a=ua({x:s-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},n),{x:u,y:l}=r?aa(a,t):a;return{xSnapped:u,ySnapped:l,...a}}const a0=e=>({width:e.offsetWidth,height:e.offsetHeight}),RO=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},g$=["INPUT","SELECT","TEXTAREA"];function IO(e){var n,i;const t=((i=(n=e.composedPath)==null?void 0:n.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:g$.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const AO=e=>"clientX"in e,vr=(e,t)=>{var s,o;const r=AO(e),n=r?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,i=r?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},jw=(e,t,r,n,i)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-r.left)/n,y:(a.top-r.top)/n,...a0(o)}})};function PO({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const u=e*.125+i*.375+o*.375+r*.125,l=t*.125+s*.375+a*.375+n*.125,c=Math.abs(u-e),d=Math.abs(l-t);return[u,l,c,d]}function Ka(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Mw({pos:e,x1:t,y1:r,x2:n,y2:i,c:s}){switch(e){case oe.Left:return[t-Ka(t-n,s),r];case oe.Right:return[t+Ka(n-t,s),r];case oe.Top:return[t,r-Ka(r-i,s)];case oe.Bottom:return[t,r+Ka(i-r,s)]}}function u0({sourceX:e,sourceY:t,sourcePosition:r=oe.Bottom,targetX:n,targetY:i,targetPosition:s=oe.Top,curvature:o=.25}){const[a,u]=Mw({pos:r,x1:e,y1:t,x2:n,y2:i,c:o}),[l,c]=Mw({pos:s,x1:n,y1:i,x2:e,y2:t,c:o}),[d,f,p,h]=PO({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:a,sourceControlY:u,targetControlX:l,targetControlY:c});return[`M${e},${t} C${a},${u} ${l},${c} ${n},${i}`,d,f,p,h]}function DO({sourceX:e,sourceY:t,targetX:r,targetY:n}){const i=Math.abs(r-e)/2,s=r<e?r+i:r-i,o=Math.abs(n-t)/2,a=n<t?n+o:n-o;return[s,a,i,o]}function m$({sourceNode:e,targetNode:t,selected:r=!1,zIndex:n,elevateOnSelect:i=!1}){if(n!==void 0)return n;const s=i&&r?1e3:0,o=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return s+o}function y$({sourceNode:e,targetNode:t,width:r,height:n,transform:i}){const s=Bl(il(e),il(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:r/i[2],height:n/i[2]};return Ho(o,Hl(s))>0}const v$=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`xy-edge__${e}${t||""}-${r}${n||""}`,x$=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),w$=(e,t)=>{if(!e.source||!e.target)return t;let r;return SO(e)?r={...e}:r={...e,id:v$(e)},x$(r,t)?t:(r.sourceHandle===null&&delete r.sourceHandle,r.targetHandle===null&&delete r.targetHandle,t.concat(r))};function jO({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[i,s,o,a]=DO({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,i,s,o,a]}const Lw={[oe.Left]:{x:-1,y:0},[oe.Right]:{x:1,y:0},[oe.Top]:{x:0,y:-1},[oe.Bottom]:{x:0,y:1}},b$=({source:e,sourcePosition:t=oe.Bottom,target:r})=>t===oe.Left||t===oe.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Fw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function _$({source:e,sourcePosition:t=oe.Bottom,target:r,targetPosition:n=oe.Top,center:i,offset:s,stepPosition:o}){const a=Lw[t],u=Lw[n],l={x:e.x+a.x*s,y:e.y+a.y*s},c={x:r.x+u.x*s,y:r.y+u.y*s},d=b$({source:l,sourcePosition:t,target:c}),f=d.x!==0?"x":"y",p=d[f];let h=[],g,w;const m={x:0,y:0},x={x:0,y:0},[,,y,b]=DO({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(a[f]*u[f]===-1){f==="x"?(g=i.x??l.x+(c.x-l.x)*o,w=i.y??(l.y+c.y)/2):(g=i.x??(l.x+c.x)/2,w=i.y??l.y+(c.y-l.y)*o);const S=[{x:g,y:l.y},{x:g,y:c.y}],E=[{x:l.x,y:w},{x:c.x,y:w}];a[f]===p?h=f==="x"?S:E:h=f==="x"?E:S}else{const S=[{x:l.x,y:c.y}],E=[{x:c.x,y:l.y}];if(f==="x"?h=a.x===p?E:S:h=a.y===p?S:E,t===n){const I=Math.abs(e[f]-r[f]);if(I<=s){const L=Math.min(s-1,s-I);a[f]===p?m[f]=(l[f]>e[f]?-1:1)*L:x[f]=(c[f]>r[f]?-1:1)*L}}if(t!==n){const I=f==="x"?"y":"x",L=a[f]===u[I],k=l[I]>c[I],j=l[I]<c[I];(a[f]===1&&(!L&&k||L&&j)||a[f]!==1&&(!L&&j||L&&k))&&(h=f==="x"?S:E)}const N={x:l.x+m.x,y:l.y+m.y},R={x:c.x+x.x,y:c.y+x.y},q=Math.max(Math.abs(N.x-h[0].x),Math.abs(R.x-h[0].x)),P=Math.max(Math.abs(N.y-h[0].y),Math.abs(R.y-h[0].y));q>=P?(g=(N.x+R.x)/2,w=h[0].y):(g=h[0].x,w=(N.y+R.y)/2)}return[[e,{x:l.x+m.x,y:l.y+m.y},...h,{x:c.x+x.x,y:c.y+x.y},r],g,w,y,b]}function S$(e,t,r,n){const i=Math.min(Fw(e,t)/2,Fw(t,r)/2,n),{x:s,y:o}=t;if(e.x===s&&s===r.x||e.y===o&&o===r.y)return`L${s} ${o}`;if(e.y===o){const l=e.x<r.x?-1:1,c=e.y<r.y?1:-1;return`L ${s+i*l},${o}Q ${s},${o} ${s},${o+i*c}`}const a=e.x<r.x?1:-1,u=e.y<r.y?-1:1;return`L ${s},${o+i*u}Q ${s},${o} ${s+i*a},${o}`}function ky({sourceX:e,sourceY:t,sourcePosition:r=oe.Bottom,targetX:n,targetY:i,targetPosition:s=oe.Top,borderRadius:o=5,centerX:a,centerY:u,offset:l=20,stepPosition:c=.5}){const[d,f,p,h,g]=_$({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:i},targetPosition:s,center:{x:a,y:u},offset:l,stepPosition:c});return[d.reduce((m,x,y)=>{let b="";return y>0&&y<d.length-1?b=S$(d[y-1],x,d[y+1],o):b=`${y===0?"M":"L"}${x.x} ${x.y}`,m+=b,m},""),f,p,h,g]}function $w(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function E$(e){var d;const{sourceNode:t,targetNode:r}=e;if(!$w(t)||!$w(r))return null;const n=t.internals.handleBounds||qw(t.handles),i=r.internals.handleBounds||qw(r.handles),s=zw((n==null?void 0:n.source)??[],e.sourceHandle),o=zw(e.connectionMode===ds.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!s||!o)return(d=e.onError)==null||d.call(e,"008",Lr.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(s==null?void 0:s.position)||oe.Bottom,u=(o==null?void 0:o.position)||oe.Top,l=Wo(t,s,a),c=Wo(r,o,u);return{sourceX:l.x,sourceY:l.y,targetX:c.x,targetY:c.y,sourcePosition:a,targetPosition:u}}function qw(e){if(!e)return null;const t=[],r=[];for(const n of e)n.width=n.width??1,n.height=n.height??1,n.type==="source"?t.push(n):n.type==="target"&&r.push(n);return{source:t,target:r}}function Wo(e,t,r=oe.Left,n=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,s=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:a}=t??an(e);if(n)return{x:i+o/2,y:s+a/2};switch((t==null?void 0:t.position)??r){case oe.Top:return{x:i+o/2,y:s};case oe.Right:return{x:i+o,y:s+a/2};case oe.Bottom:return{x:i+o/2,y:s+a};case oe.Left:return{x:i,y:s+a/2}}}function zw(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function Cy(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`:""}function k$(e,{id:t,defaultColor:r,defaultMarkerStart:n,defaultMarkerEnd:i}){const s=new Set;return e.reduce((o,a)=>([a.markerStart||n,a.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const l=Cy(u,t);s.has(l)||(o.push({id:l,color:u.color||r,...u}),s.add(l))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const MO=1e3,C$=10,l0={nodeOrigin:[0,0],nodeExtent:Vo,elevateNodesOnSelect:!0,defaults:{}},N$={...l0,checkEquality:!0};function c0(e,t){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}function T$(e,t,r){const n=c0(l0,r);for(const i of e.values())if(i.parentId)d0(i,e,t,n);else{const s=sa(i,n.nodeOrigin),o=ps(i.extent)?i.extent:n.nodeExtent,a=di(s,o,an(i));i.internals.positionAbsolute=a}}function O$(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const r=[],n=[];for(const i of e.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?r.push(s):i.type==="target"&&n.push(s)}return{source:r,target:n}}function Ny(e,t,r,n){var l,c;const i=c0(N$,n);let s={i:-1},o=e.length>0;const a=new Map(t),u=i!=null&&i.elevateNodesOnSelect?MO:0;t.clear(),r.clear();for(const d of e){let f=a.get(d.id);if(i.checkEquality&&d===(f==null?void 0:f.internals.userNode))t.set(d.id,f);else{const p=sa(d,i.nodeOrigin),h=ps(d.extent)?d.extent:i.nodeExtent,g=di(p,h,an(d));f={...i.defaults,...d,measured:{width:(l=d.measured)==null?void 0:l.width,height:(c=d.measured)==null?void 0:c.height},internals:{positionAbsolute:g,handleBounds:O$(d,f),z:LO(d,u),userNode:d}},t.set(d.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(o=!1),d.parentId&&d0(f,t,r,n,s)}return o}function R$(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function d0(e,t,r,n,i){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:a}=c0(l0,n),u=e.parentId,l=t.get(u);if(!l){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}R$(e,r),i&&!l.parentId&&l.internals.rootParentIndex===void 0&&(l.internals.rootParentIndex=++i.i,l.internals.z=l.internals.z+i.i*C$),i&&l.internals.rootParentIndex!==void 0&&(i.i=l.internals.rootParentIndex);const c=s?MO:0,{x:d,y:f,z:p}=I$(e,l,o,a,c),{positionAbsolute:h}=e.internals,g=d!==h.x||f!==h.y;(g||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:d,y:f}:h,z:p}})}function LO(e,t){return(yr(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function I$(e,t,r,n,i){const{x:s,y:o}=t.internals.positionAbsolute,a=an(e),u=sa(e,r),l=ps(e.extent)?di(u,e.extent,a):u;let c=di({x:s+l.x,y:o+l.y},n,a);e.extent==="parent"&&(c=kO(c,a,t));const d=LO(e,i),f=t.internals.z??0;return{x:c.x,y:c.y,z:f>=d?f+1:d}}function f0(e,t,r,n=[0,0]){var o;const i=[],s=new Map;for(const a of e){const u=t.get(a.parentId);if(!u)continue;const l=((o=s.get(a.parentId))==null?void 0:o.expandedRect)??hs(u),c=NO(l,a.rect);s.set(a.parentId,{expandedRect:c,parent:u})}return s.size>0&&s.forEach(({expandedRect:a,parent:u},l)=>{var y;const c=u.internals.positionAbsolute,d=an(u),f=u.origin??n,p=a.x<c.x?Math.round(Math.abs(c.x-a.x)):0,h=a.y<c.y?Math.round(Math.abs(c.y-a.y)):0,g=Math.max(d.width,Math.round(a.width)),w=Math.max(d.height,Math.round(a.height)),m=(g-d.width)*f[0],x=(w-d.height)*f[1];(p>0||h>0||m||x)&&(i.push({id:l,type:"position",position:{x:u.position.x-p+m,y:u.position.y-h+x}}),(y=r.get(l))==null||y.forEach(b=>{e.some(_=>_.id===b.id)||i.push({id:b.id,type:"position",position:{x:b.position.x+p,y:b.position.y+h}})})),(d.width<a.width||d.height<a.height||p||h)&&i.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:g+(p?f[0]*p-m:0),height:w+(h?f[1]*h-x:0)}})}),i}function A$(e,t,r,n,i,s){const o=n==null?void 0:n.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const u=[],l=window.getComputedStyle(o),{m22:c}=new window.DOMMatrixReadOnly(l.transform),d=[];for(const f of e.values()){const p=t.get(f.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),a=!0;continue}const h=a0(f.nodeElement),g=p.measured.width!==h.width||p.measured.height!==h.height;if(!!(h.width&&h.height&&(g||!p.internals.handleBounds||f.force))){const m=f.nodeElement.getBoundingClientRect(),x=ps(p.extent)?p.extent:s;let{positionAbsolute:y}=p.internals;p.parentId&&p.extent==="parent"?y=kO(y,h,t.get(p.parentId)):x&&(y=di(y,x,h));const b={...p,measured:h,internals:{...p.internals,positionAbsolute:y,handleBounds:{source:jw("source",f.nodeElement,m,c,p.id),target:jw("target",f.nodeElement,m,c,p.id)}}};t.set(p.id,b),p.parentId&&d0(b,t,r,{nodeOrigin:i}),a=!0,g&&(u.push({id:p.id,type:"dimensions",dimensions:h}),p.expandParent&&p.parentId&&d.push({id:p.id,parentId:p.parentId,rect:hs(b,i)}))}}if(d.length>0){const f=f0(d,t,r,i);u.push(...f)}return{changes:u,updatedInternals:a}}async function P$({delta:e,panZoom:t,transform:r,translateExtent:n,width:i,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[i,s]],n),a=!!o&&(o.x!==r[0]||o.y!==r[1]||o.k!==r[2]);return Promise.resolve(a)}function Vw(e,t,r,n,i,s){let o=i;const a=n.get(o)||new Map;n.set(o,a.set(r,t)),o=`${i}-${e}`;const u=n.get(o)||new Map;if(n.set(o,u.set(r,t)),s){o=`${i}-${e}-${s}`;const l=n.get(o)||new Map;n.set(o,l.set(r,t))}}function FO(e,t,r){e.clear(),t.clear();for(const n of r){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=n,u={edgeId:n.id,source:i,target:s,sourceHandle:o,targetHandle:a},l=`${i}-${o}--${s}-${a}`,c=`${s}-${a}--${i}-${o}`;Vw("source",u,c,e,i,o),Vw("target",u,l,e,s,a),t.set(n.id,n)}}function $O(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:$O(r,t):!1}function Bw(e,t,r){var i;let n=e;do{if((i=n==null?void 0:n.matches)!=null&&i.call(n,t))return!0;if(n===r)return!1;n=n==null?void 0:n.parentElement}while(n);return!1}function D$(e,t,r,n){const i=new Map;for(const[s,o]of e)if((o.selected||o.id===n)&&(!o.parentId||!$O(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const a=e.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:r.x-a.internals.positionAbsolute.x,y:r.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function ld({nodeId:e,dragItems:t,nodeLookup:r,dragging:n=!0}){var o,a,u;const i=[];for(const[l,c]of t){const d=(o=r.get(l))==null?void 0:o.internals.userNode;d&&i.push({...d,position:c.position,dragging:n})}if(!e)return[i[0],i];const s=(a=r.get(e))==null?void 0:a.internals.userNode;return[s?{...s,position:((u=t.get(e))==null?void 0:u.position)||s.position,dragging:n}:i[0],i]}function j$({dragItems:e,snapGrid:t,x:r,y:n}){const i=e.values().next().value;if(!i)return null;const s={x:r-i.distance.x,y:n-i.distance.y},o=aa(s,t);return{x:o.x-s.x,y:o.y-s.y}}function M$({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:n,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,u=!1,l={x:0,y:0},c=null,d=!1,f=null,p=!1,h=!1,g=null;function w({noDragClassName:x,handleSelector:y,domNode:b,isSelectable:_,nodeId:S,nodeClickDistance:E=0}){f=$t(b);function N({x:I,y:L}){const{nodeLookup:k,nodeExtent:j,snapGrid:A,snapToGrid:$,nodeOrigin:C,onNodeDrag:T,onSelectionDrag:F,onError:B,updateNodePositions:H}=t();s={x:I,y:L};let Q=!1;const Z=a.size>1,ne=Z&&j?Ey(oa(a)):null,ae=Z&&$?j$({dragItems:a,snapGrid:A,x:I,y:L}):null;for(const[te,X]of a){if(!k.has(te))continue;let le={x:I-X.distance.x,y:L-X.distance.y};$&&(le=ae?{x:Math.round(le.x+ae.x),y:Math.round(le.y+ae.y)}:aa(le,A));let xe=null;if(Z&&j&&!X.extent&&ne){const{positionAbsolute:de}=X.internals,be=de.x-ne.x+j[0][0],ce=de.x+X.measured.width-ne.x2+j[1][0],ke=de.y-ne.y+j[0][1],he=de.y+X.measured.height-ne.y2+j[1][1];xe=[[be,ke],[ce,he]]}const{position:pe,positionAbsolute:fe}=EO({nodeId:te,nextPosition:le,nodeLookup:k,nodeExtent:xe||j,nodeOrigin:C,onError:B});Q=Q||X.position.x!==pe.x||X.position.y!==pe.y,X.position=pe,X.internals.positionAbsolute=fe}if(h=h||Q,!!Q&&(H(a,!0),g&&(n||T||!S&&F))){const[te,X]=ld({nodeId:S,dragItems:a,nodeLookup:k});n==null||n(g,a,te,X),T==null||T(g,te,X),S||F==null||F(g,X)}}async function R(){if(!c)return;const{transform:I,panBy:L,autoPanSpeed:k,autoPanOnNodeDrag:j}=t();if(!j){u=!1,cancelAnimationFrame(o);return}const[A,$]=CO(l,c,k);(A!==0||$!==0)&&(s.x=(s.x??0)-A/I[2],s.y=(s.y??0)-$/I[2],await L({x:A,y:$})&&N(s)),o=requestAnimationFrame(R)}function q(I){var Z;const{nodeLookup:L,multiSelectionActive:k,nodesDraggable:j,transform:A,snapGrid:$,snapToGrid:C,selectNodesOnDrag:T,onNodeDragStart:F,onSelectionDragStart:B,unselectNodesAndEdges:H}=t();d=!0,(!T||!_)&&!k&&S&&((Z=L.get(S))!=null&&Z.selected||H()),_&&T&&S&&(e==null||e(S));const Q=go(I.sourceEvent,{transform:A,snapGrid:$,snapToGrid:C,containerBounds:c});if(s=Q,a=D$(L,j,Q,S),a.size>0&&(r||F||!S&&B)){const[ne,ae]=ld({nodeId:S,dragItems:a,nodeLookup:L});r==null||r(I.sourceEvent,a,ne,ae),F==null||F(I.sourceEvent,ne,ae),S||B==null||B(I.sourceEvent,ae)}}const P=nO().clickDistance(E).on("start",I=>{const{domNode:L,nodeDragThreshold:k,transform:j,snapGrid:A,snapToGrid:$}=t();c=(L==null?void 0:L.getBoundingClientRect())||null,p=!1,h=!1,g=I.sourceEvent,k===0&&q(I),s=go(I.sourceEvent,{transform:j,snapGrid:A,snapToGrid:$,containerBounds:c}),l=vr(I.sourceEvent,c)}).on("drag",I=>{const{autoPanOnNodeDrag:L,transform:k,snapGrid:j,snapToGrid:A,nodeDragThreshold:$,nodeLookup:C}=t(),T=go(I.sourceEvent,{transform:k,snapGrid:j,snapToGrid:A,containerBounds:c});if(g=I.sourceEvent,(I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1||S&&!C.has(S))&&(p=!0),!p){if(!u&&L&&d&&(u=!0,R()),!d){const F=vr(I.sourceEvent,c),B=F.x-l.x,H=F.y-l.y;Math.sqrt(B*B+H*H)>$&&q(I)}(s.x!==T.xSnapped||s.y!==T.ySnapped)&&a&&d&&(l=vr(I.sourceEvent,c),N(T))}}).on("end",I=>{if(!(!d||p)&&(u=!1,d=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:L,updateNodePositions:k,onNodeDragStop:j,onSelectionDragStop:A}=t();if(h&&(k(a,!1),h=!1),i||j||!S&&A){const[$,C]=ld({nodeId:S,dragItems:a,nodeLookup:L,dragging:!1});i==null||i(I.sourceEvent,a,$,C),j==null||j(I.sourceEvent,$,C),S||A==null||A(I.sourceEvent,C)}}}).filter(I=>{const L=I.target;return!I.button&&(!x||!Bw(L,`.${x}`,b))&&(!y||Bw(L,y,b))});f.call(P)}function m(){f==null||f.on(".drag",null)}return{update:w,destroy:m}}function L$(e,t,r){const n=[],i={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const s of t.values())Ho(i,hs(s))>0&&n.push(s);return n}const F$=250;function $$(e,t,r,n){var a,u;let i=[],s=1/0;const o=L$(e,r,t+F$);for(const l of o){const c=[...((a=l.internals.handleBounds)==null?void 0:a.source)??[],...((u=l.internals.handleBounds)==null?void 0:u.target)??[]];for(const d of c){if(n.nodeId===d.nodeId&&n.type===d.type&&n.id===d.id)continue;const{x:f,y:p}=Wo(l,d,d.position,!0),h=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(p-e.y,2));h>t||(h<s?(i=[{...d,x:f,y:p}],s=h):h===s&&i.push({...d,x:f,y:p}))}}if(!i.length)return null;if(i.length>1){const l=n.type==="source"?"target":"source";return i.find(c=>c.type===l)??i[0]}return i[0]}function qO(e,t,r,n,i,s=!1){var l,c,d;const o=n.get(e);if(!o)return null;const a=i==="strict"?(l=o.internals.handleBounds)==null?void 0:l[t]:[...((c=o.internals.handleBounds)==null?void 0:c.source)??[],...((d=o.internals.handleBounds)==null?void 0:d.target)??[]],u=(r?a==null?void 0:a.find(f=>f.id===r):a==null?void 0:a[0])??null;return u&&s?{...u,...Wo(o,u,u.position,!0)}:u}function zO(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function q$(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const VO=()=>!0;function z$(e,{connectionMode:t,connectionRadius:r,handleId:n,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:u,lib:l,autoPanOnConnect:c,flowId:d,panBy:f,cancelConnection:p,onConnectStart:h,onConnect:g,onConnectEnd:w,isValidConnection:m=VO,onReconnectEnd:x,updateConnection:y,getTransform:b,getFromHandle:_,autoPanSpeed:S,dragThreshold:E=1,handleDomNode:N}){const R=RO(e.target);let q=0,P;const{x:I,y:L}=vr(e),k=zO(s,N),j=a==null?void 0:a.getBoundingClientRect();let A=!1;if(!j||!k)return;const $=qO(i,k,n,u,t);if(!$)return;let C=vr(e,j),T=!1,F=null,B=!1,H=null;function Q(){if(!c||!j)return;const[pe,fe]=CO(C,j,S);f({x:pe,y:fe}),q=requestAnimationFrame(Q)}const Z={...$,nodeId:i,type:k,position:$.position},ne=u.get(i);let te={inProgress:!0,isValid:null,from:Wo(ne,Z,oe.Left,!0),fromHandle:Z,fromPosition:Z.position,fromNode:ne,to:C,toHandle:null,toPosition:Iw[Z.position],toNode:null};function X(){A=!0,y(te),h==null||h(e,{nodeId:i,handleId:n,handleType:k})}E===0&&X();function le(pe){if(!A){const{x:ce,y:ke}=vr(pe),he=ce-I,ut=ke-L;if(!(he*he+ut*ut>E*E))return;X()}if(!_()||!Z){xe(pe);return}const fe=b();C=vr(pe,j),P=$$(ua(C,fe,!1,[1,1]),r,u,Z),T||(Q(),T=!0);const de=BO(pe,{handle:P,connectionMode:t,fromNodeId:i,fromHandleId:n,fromType:o?"target":"source",isValidConnection:m,doc:R,lib:l,flowId:d,nodeLookup:u});H=de.handleDomNode,F=de.connection,B=q$(!!P,de.isValid);const be={...te,isValid:B,to:de.toHandle&&B?sl({x:de.toHandle.x,y:de.toHandle.y},fe):C,toHandle:de.toHandle,toPosition:B&&de.toHandle?de.toHandle.position:Iw[Z.position],toNode:de.toHandle?u.get(de.toHandle.nodeId):null};B&&P&&te.toHandle&&be.toHandle&&te.toHandle.type===be.toHandle.type&&te.toHandle.nodeId===be.toHandle.nodeId&&te.toHandle.id===be.toHandle.id&&te.to.x===be.to.x&&te.to.y===be.to.y||(y(be),te=be)}function xe(pe){if(!("touches"in pe&&pe.touches.length>0)){if(A){(P||H)&&F&&B&&(g==null||g(F));const{inProgress:fe,...de}=te,be={...de,toPosition:te.toHandle?te.toPosition:null};w==null||w(pe,be),s&&(x==null||x(pe,be))}p(),cancelAnimationFrame(q),T=!1,B=!1,F=null,H=null,R.removeEventListener("mousemove",le),R.removeEventListener("mouseup",xe),R.removeEventListener("touchmove",le),R.removeEventListener("touchend",xe)}}R.addEventListener("mousemove",le),R.addEventListener("mouseup",xe),R.addEventListener("touchmove",le),R.addEventListener("touchend",xe)}function BO(e,{handle:t,connectionMode:r,fromNodeId:n,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:u,isValidConnection:l=VO,nodeLookup:c}){const d=s==="target",f=t?o.querySelector(`.${a}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:p,y:h}=vr(e),g=o.elementFromPoint(p,h),w=g!=null&&g.classList.contains(`${a}-flow__handle`)?g:f,m={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const x=zO(void 0,w),y=w.getAttribute("data-nodeid"),b=w.getAttribute("data-handleid"),_=w.classList.contains("connectable"),S=w.classList.contains("connectableend");if(!y||!x)return m;const E={source:d?y:n,sourceHandle:d?b:i,target:d?n:y,targetHandle:d?i:b};m.connection=E;const R=_&&S&&(r===ds.Strict?d&&x==="source"||!d&&x==="target":y!==n||b!==i);m.isValid=R&&l(E),m.toHandle=qO(y,x,b,c,r,!0)}return m}const Ty={onPointerDown:z$,isValid:BO};function V$({domNode:e,panZoom:t,getTransform:r,getViewScale:n}){const i=$t(e);function s({translateExtent:a,width:u,height:l,zoomStep:c=1,pannable:d=!0,zoomable:f=!0,inversePan:p=!1}){const h=y=>{if(y.sourceEvent.type!=="wheel"||!t)return;const b=r(),_=y.sourceEvent.ctrlKey&&Uo()?10:1,S=-y.sourceEvent.deltaY*(y.sourceEvent.deltaMode===1?.05:y.sourceEvent.deltaMode?1:.002)*c,E=b[2]*Math.pow(2,S*_);t.scaleTo(E)};let g=[0,0];const w=y=>{(y.sourceEvent.type==="mousedown"||y.sourceEvent.type==="touchstart")&&(g=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY])},m=y=>{const b=r();if(y.sourceEvent.type!=="mousemove"&&y.sourceEvent.type!=="touchmove"||!t)return;const _=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY],S=[_[0]-g[0],_[1]-g[1]];g=_;const E=n()*Math.max(b[2],Math.log(b[2]))*(p?-1:1),N={x:b[0]-S[0]*E,y:b[1]-S[1]*E},R=[[0,0],[u,l]];t.setViewportConstrained({x:N.x,y:N.y,zoom:b[2]},R,a)},x=vO().on("start",w).on("zoom",d?m:null).on("zoom.wheel",f?h:null);i.call(x,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:cr}}const Ul=e=>({x:e.x,y:e.y,zoom:e.k}),cd=({x:e,y:t,zoom:r})=>Vl.translate(e,t).scale(r),Hi=(e,t)=>e.target.closest(`.${t}`),HO=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),B$=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,dd=(e,t=0,r=B$,n=()=>{})=>{const i=typeof t=="number"&&t>0;return i||n(),i?e.transition().duration(t).ease(r).on("end",n):e},UO=e=>{const t=e.ctrlKey&&Uo()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function H$({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:n,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:u,onPanZoomEnd:l}){return c=>{if(Hi(c,t))return c.ctrlKey&&c.preventDefault(),!1;c.preventDefault(),c.stopImmediatePropagation();const d=r.property("__zoom").k||1;if(c.ctrlKey&&o){const w=cr(c),m=UO(c),x=d*Math.pow(2,m);n.scaleTo(r,x,w,c);return}const f=c.deltaMode===1?20:1;let p=i===ri.Vertical?0:c.deltaX*f,h=i===ri.Horizontal?0:c.deltaY*f;!Uo()&&c.shiftKey&&i!==ri.Vertical&&(p=c.deltaY*f,h=0),n.translateBy(r,-(p/d)*s,-(h/d)*s,{internal:!0});const g=Ul(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(c,g),e.panScrollTimeout=setTimeout(()=>{l==null||l(c,g),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(c,g))}}function U$({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(n,i){const s=n.type==="wheel",o=!t&&s&&!n.ctrlKey,a=Hi(n,e);if(n.ctrlKey&&s&&a&&n.preventDefault(),o||a)return null;n.preventDefault(),r.call(this,n,i)}}function W$({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return n=>{var s,o,a;if((s=n.sourceEvent)!=null&&s.internal)return;const i=Ul(n.transform);e.mouseButton=((o=n.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((a=n.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),r&&(r==null||r(n.sourceEvent,i))}}function G$({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:n,onPanZoom:i}){return s=>{var o,a;e.usedRightMouseButton=!!(r&&HO(t,e.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||n([s.transform.x,s.transform.y,s.transform.k]),i&&!((a=s.sourceEvent)!=null&&a.internal)&&(i==null||i(s.sourceEvent,Ul(s.transform)))}}function K$({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:n,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,s&&HO(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),e.usedRightMouseButton=!1,n(!1),i)){const u=Ul(o.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,u)},r?150:0)}}}function Y$({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:n,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:u,lib:l,connectionInProgress:c}){return d=>{var w;const f=e||t,p=r&&d.ctrlKey,h=d.type==="wheel";if(d.button===1&&d.type==="mousedown"&&(Hi(d,`${l}-flow__node`)||Hi(d,`${l}-flow__edge`)))return!0;if(!n&&!f&&!i&&!s&&!r||o||c&&!h||Hi(d,a)&&h||Hi(d,u)&&(!h||i&&h&&!e)||!r&&d.ctrlKey&&h)return!1;if(!r&&d.type==="touchstart"&&((w=d.touches)==null?void 0:w.length)>1)return d.preventDefault(),!1;if(!f&&!i&&!p&&h||!n&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(n)&&!n.includes(d.button)&&d.type==="mousedown")return!1;const g=Array.isArray(n)&&n.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||h)&&g}}function Z$({domNode:e,minZoom:t,maxZoom:r,translateExtent:n,viewport:i,onPanZoom:s,onPanZoomStart:o,onPanZoomEnd:a,onDraggingChange:u}){const l={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=e.getBoundingClientRect(),d=vO().scaleExtent([t,r]).translateExtent(n),f=$t(e).call(d);x({x:i.x,y:i.y,zoom:fs(i.zoom,t,r)},[[0,0],[c.width,c.height]],n);const p=f.on("wheel.zoom"),h=f.on("dblclick.zoom");d.wheelDelta(UO);function g(P,I){return f?new Promise(L=>{d==null||d.interpolate((I==null?void 0:I.interpolate)==="linear"?po:yu).transform(dd(f,I==null?void 0:I.duration,I==null?void 0:I.ease,()=>L(!0)),P)}):Promise.resolve(!1)}function w({noWheelClassName:P,noPanClassName:I,onPaneContextMenu:L,userSelectionActive:k,panOnScroll:j,panOnDrag:A,panOnScrollMode:$,panOnScrollSpeed:C,preventScrolling:T,zoomOnPinch:F,zoomOnScroll:B,zoomOnDoubleClick:H,zoomActivationKeyPressed:Q,lib:Z,onTransformChange:ne,connectionInProgress:ae,paneClickDistance:te,selectionOnDrag:X}){k&&!l.isZoomingOrPanning&&m();const le=j&&!Q&&!k;d.clickDistance(X?1/0:!yr(te)||te<0?0:te);const xe=le?H$({zoomPanValues:l,noWheelClassName:P,d3Selection:f,d3Zoom:d,panOnScrollMode:$,panOnScrollSpeed:C,zoomOnPinch:F,onPanZoomStart:o,onPanZoom:s,onPanZoomEnd:a}):U$({noWheelClassName:P,preventScrolling:T,d3ZoomHandler:p});if(f.on("wheel.zoom",xe,{passive:!1}),!k){const fe=W$({zoomPanValues:l,onDraggingChange:u,onPanZoomStart:o});d.on("start",fe);const de=G$({zoomPanValues:l,panOnDrag:A,onPaneContextMenu:!!L,onPanZoom:s,onTransformChange:ne});d.on("zoom",de);const be=K$({zoomPanValues:l,panOnDrag:A,panOnScroll:j,onPaneContextMenu:L,onPanZoomEnd:a,onDraggingChange:u});d.on("end",be)}const pe=Y$({zoomActivationKeyPressed:Q,panOnDrag:A,zoomOnScroll:B,panOnScroll:j,zoomOnDoubleClick:H,zoomOnPinch:F,userSelectionActive:k,noPanClassName:I,noWheelClassName:P,lib:Z,connectionInProgress:ae});d.filter(pe),H?f.on("dblclick.zoom",h):f.on("dblclick.zoom",null)}function m(){d.on("zoom",null)}async function x(P,I,L){const k=cd(P),j=d==null?void 0:d.constrain()(k,I,L);return j&&await g(j),new Promise(A=>A(j))}async function y(P,I){const L=cd(P);return await g(L,I),new Promise(k=>k(L))}function b(P){if(f){const I=cd(P),L=f.property("__zoom");(L.k!==P.zoom||L.x!==P.x||L.y!==P.y)&&(d==null||d.transform(f,I,null,{sync:!0}))}}function _(){const P=f?yO(f.node()):{x:0,y:0,k:1};return{x:P.x,y:P.y,zoom:P.k}}function S(P,I){return f?new Promise(L=>{d==null||d.interpolate((I==null?void 0:I.interpolate)==="linear"?po:yu).scaleTo(dd(f,I==null?void 0:I.duration,I==null?void 0:I.ease,()=>L(!0)),P)}):Promise.resolve(!1)}function E(P,I){return f?new Promise(L=>{d==null||d.interpolate((I==null?void 0:I.interpolate)==="linear"?po:yu).scaleBy(dd(f,I==null?void 0:I.duration,I==null?void 0:I.ease,()=>L(!0)),P)}):Promise.resolve(!1)}function N(P){d==null||d.scaleExtent(P)}function R(P){d==null||d.translateExtent(P)}function q(P){const I=!yr(P)||P<0?0:P;d==null||d.clickDistance(I)}return{update:w,destroy:m,setViewport:y,setViewportConstrained:x,getViewport:_,scaleTo:S,scaleBy:E,setScaleExtent:N,setTranslateExtent:R,syncViewport:b,setClickDistance:q}}var gs;(function(e){e.Line="line",e.Handle="handle"})(gs||(gs={}));function X$({width:e,prevWidth:t,height:r,prevHeight:n,affectsX:i,affectsY:s}){const o=e-t,a=r-n,u=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(u[0]=u[0]*-1),a&&s&&(u[1]=u[1]*-1),u}function Hw(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),n=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:n,affectsY:i}}function dn(e,t){return Math.max(0,t-e)}function fn(e,t){return Math.max(0,e-t)}function Ya(e,t,r){return Math.max(0,t-e,e-r)}function Uw(e,t){return e?!t:t}function Q$(e,t,r,n,i,s,o,a){let{affectsX:u,affectsY:l}=t;const{isHorizontal:c,isVertical:d}=t,f=c&&d,{xSnapped:p,ySnapped:h}=r,{minWidth:g,maxWidth:w,minHeight:m,maxHeight:x}=n,{x:y,y:b,width:_,height:S,aspectRatio:E}=e;let N=Math.floor(c?p-e.pointerX:0),R=Math.floor(d?h-e.pointerY:0);const q=_+(u?-N:N),P=S+(l?-R:R),I=-s[0]*_,L=-s[1]*S;let k=Ya(q,g,w),j=Ya(P,m,x);if(o){let C=0,T=0;u&&N<0?C=dn(y+N+I,o[0][0]):!u&&N>0&&(C=fn(y+q+I,o[1][0])),l&&R<0?T=dn(b+R+L,o[0][1]):!l&&R>0&&(T=fn(b+P+L,o[1][1])),k=Math.max(k,C),j=Math.max(j,T)}if(a){let C=0,T=0;u&&N>0?C=fn(y+N,a[0][0]):!u&&N<0&&(C=dn(y+q,a[1][0])),l&&R>0?T=fn(b+R,a[0][1]):!l&&R<0&&(T=dn(b+P,a[1][1])),k=Math.max(k,C),j=Math.max(j,T)}if(i){if(c){const C=Ya(q/E,m,x)*E;if(k=Math.max(k,C),o){let T=0;!u&&!l||u&&!l&&f?T=fn(b+L+q/E,o[1][1])*E:T=dn(b+L+(u?N:-N)/E,o[0][1])*E,k=Math.max(k,T)}if(a){let T=0;!u&&!l||u&&!l&&f?T=dn(b+q/E,a[1][1])*E:T=fn(b+(u?N:-N)/E,a[0][1])*E,k=Math.max(k,T)}}if(d){const C=Ya(P*E,g,w)/E;if(j=Math.max(j,C),o){let T=0;!u&&!l||l&&!u&&f?T=fn(y+P*E+I,o[1][0])/E:T=dn(y+(l?R:-R)*E+I,o[0][0])/E,j=Math.max(j,T)}if(a){let T=0;!u&&!l||l&&!u&&f?T=dn(y+P*E,a[1][0])/E:T=fn(y+(l?R:-R)*E,a[0][0])/E,j=Math.max(j,T)}}}R=R+(R<0?j:-j),N=N+(N<0?k:-k),i&&(f?q>P*E?R=(Uw(u,l)?-N:N)/E:N=(Uw(u,l)?-R:R)*E:c?(R=N/E,l=u):(N=R*E,u=l));const A=u?y+N:y,$=l?b+R:b;return{width:_+(u?-N:N),height:S+(l?-R:R),x:s[0]*N*(u?-1:1)+A,y:s[1]*R*(l?-1:1)+$}}const WO={width:0,height:0,x:0,y:0},J$={...WO,pointerX:0,pointerY:0,aspectRatio:1};function e3(e){return[[0,0],[e.measured.width,e.measured.height]]}function t3(e,t,r){const n=t.position.x+e.position.x,i=t.position.y+e.position.y,s=e.measured.width??0,o=e.measured.height??0,a=r[0]*s,u=r[1]*o;return[[n-a,i-u],[n+s-a,i+o-u]]}function r3({domNode:e,nodeId:t,getStoreItems:r,onChange:n,onEnd:i}){const s=$t(e);let o={controlDirection:Hw("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:l,boundaries:c,keepAspectRatio:d,resizeDirection:f,onResizeStart:p,onResize:h,onResizeEnd:g,shouldResize:w}){let m={...WO},x={...J$};o={boundaries:c,resizeDirection:f,keepAspectRatio:d,controlDirection:Hw(l)};let y,b=null,_=[],S,E,N,R=!1;const q=nO().on("start",P=>{const{nodeLookup:I,transform:L,snapGrid:k,snapToGrid:j,nodeOrigin:A,paneDomNode:$}=r();if(y=I.get(t),!y)return;b=($==null?void 0:$.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:T}=go(P.sourceEvent,{transform:L,snapGrid:k,snapToGrid:j,containerBounds:b});m={width:y.measured.width??0,height:y.measured.height??0,x:y.position.x??0,y:y.position.y??0},x={...m,pointerX:C,pointerY:T,aspectRatio:m.width/m.height},S=void 0,y.parentId&&(y.extent==="parent"||y.expandParent)&&(S=I.get(y.parentId),E=S&&y.extent==="parent"?e3(S):void 0),_=[],N=void 0;for(const[F,B]of I)if(B.parentId===t&&(_.push({id:F,position:{...B.position},extent:B.extent}),B.extent==="parent"||B.expandParent)){const H=t3(B,y,B.origin??A);N?N=[[Math.min(H[0][0],N[0][0]),Math.min(H[0][1],N[0][1])],[Math.max(H[1][0],N[1][0]),Math.max(H[1][1],N[1][1])]]:N=H}p==null||p(P,{...m})}).on("drag",P=>{const{transform:I,snapGrid:L,snapToGrid:k,nodeOrigin:j}=r(),A=go(P.sourceEvent,{transform:I,snapGrid:L,snapToGrid:k,containerBounds:b}),$=[];if(!y)return;const{x:C,y:T,width:F,height:B}=m,H={},Q=y.origin??j,{width:Z,height:ne,x:ae,y:te}=Q$(x,o.controlDirection,A,o.boundaries,o.keepAspectRatio,Q,E,N),X=Z!==F,le=ne!==B,xe=ae!==C&&X,pe=te!==T&&le;if(!xe&&!pe&&!X&&!le)return;if((xe||pe||Q[0]===1||Q[1]===1)&&(H.x=xe?ae:m.x,H.y=pe?te:m.y,m.x=H.x,m.y=H.y,_.length>0)){const ce=ae-C,ke=te-T;for(const he of _)he.position={x:he.position.x-ce+Q[0]*(Z-F),y:he.position.y-ke+Q[1]*(ne-B)},$.push(he)}if((X||le)&&(H.width=X&&(!o.resizeDirection||o.resizeDirection==="horizontal")?Z:m.width,H.height=le&&(!o.resizeDirection||o.resizeDirection==="vertical")?ne:m.height,m.width=H.width,m.height=H.height),S&&y.expandParent){const ce=Q[0]*(H.width??0);H.x&&H.x<ce&&(m.x=ce,x.x=x.x-(H.x-ce));const ke=Q[1]*(H.height??0);H.y&&H.y<ke&&(m.y=ke,x.y=x.y-(H.y-ke))}const fe=X$({width:m.width,prevWidth:F,height:m.height,prevHeight:B,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),de={...m,direction:fe};(w==null?void 0:w(P,de))!==!1&&(R=!0,h==null||h(P,de),n(H,$))}).on("end",P=>{R&&(g==null||g(P,{...m}),i==null||i({...m}),R=!1)});s.call(q)}function u(){s.on(".drag",null)}return{update:a,destroy:u}}var GO={exports:{}},KO={},YO={exports:{}},ZO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=D;function n3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var i3=typeof Object.is=="function"?Object.is:n3,s3=ms.useState,o3=ms.useEffect,a3=ms.useLayoutEffect,u3=ms.useDebugValue;function l3(e,t){var r=t(),n=s3({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return a3(function(){i.value=r,i.getSnapshot=t,fd(i)&&s({inst:i})},[e,r,t]),o3(function(){return fd(i)&&s({inst:i}),e(function(){fd(i)&&s({inst:i})})},[e]),u3(r),r}function fd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i3(e,r)}catch{return!0}}function c3(e,t){return t()}var d3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c3:l3;ZO.useSyncExternalStore=ms.useSyncExternalStore!==void 0?ms.useSyncExternalStore:d3;YO.exports=ZO;var f3=YO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=D,h3=f3;function p3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var g3=typeof Object.is=="function"?Object.is:p3,m3=h3.useSyncExternalStore,y3=Wl.useRef,v3=Wl.useEffect,x3=Wl.useMemo,w3=Wl.useDebugValue;KO.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=y3(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=x3(function(){function u(p){if(!l){if(l=!0,c=p,p=n(p),i!==void 0&&o.hasValue){var h=o.value;if(i(h,p))return d=h}return d=p}if(h=d,g3(c,p))return h;var g=n(p);return i!==void 0&&i(h,g)?(c=p,h):(c=p,d=g)}var l=!1,c,d,f=r===void 0?null:r;return[function(){return u(t())},f===null?void 0:function(){return u(f())}]},[t,r,n,i]);var a=m3(e,s[0],s[1]);return v3(function(){o.hasValue=!0,o.value=a},[a]),w3(a),a};GO.exports=KO;var b3=GO.exports;const XO=Xo(b3),_3={},Ww=e=>{let t;const r=new Set,n=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const p=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(h=>h(t,p))}},i=()=>t,u={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(_3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},l=t=e(n,i,u);return u},QO=e=>e?Ww(e):Ww,{useDebugValue:S3}=we,{useSyncExternalStoreWithSelector:E3}=XO,k3=e=>e;function JO(e,t=k3,r){const n=E3(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return S3(n),n}const Gw=(e,t)=>{const r=QO(e),n=(i,s=t)=>JO(r,i,s);return Object.assign(n,r),n},C3=(e,t)=>e?Gw(e,t):Gw;function We(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,i]of e)if(!Object.is(i,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const Gl=D.createContext(null),N3=Gl.Provider,eR=Lr.error001();function Re(e,t){const r=D.useContext(Gl);if(r===null)throw new Error(eR);return JO(r,e,t)}function ze(){const e=D.useContext(Gl);if(e===null)throw new Error(eR);return D.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Kw={display:"none"},T3={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},tR="react-flow__node-desc",rR="react-flow__edge-desc",O3="react-flow__aria-live",R3=e=>e.ariaLiveMessage,I3=e=>e.ariaLabelConfig;function A3({rfId:e}){const t=Re(R3);return v.jsx("div",{id:`${O3}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:T3,children:t})}function P3({rfId:e,disableKeyboardA11y:t}){const r=Re(I3);return v.jsxs(v.Fragment,{children:[v.jsx("div",{id:`${tR}-${e}`,style:Kw,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),v.jsx("div",{id:`${rR}-${e}`,style:Kw,children:r["edge.a11yDescription.default"]}),!t&&v.jsx(A3,{rfId:e})]})}const Kl=D.forwardRef(({position:e="top-left",children:t,className:r,style:n,...i},s)=>{const o=`${e}`.split("-");return v.jsx("div",{className:tt(["react-flow__panel",r,...o]),style:n,ref:s,...i,children:t})});Kl.displayName="Panel";function D3({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:v.jsx(Kl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:v.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const j3=e=>{const t=[],r=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,n]of e.edgeLookup)n.selected&&r.push(n);return{selectedNodes:t,selectedEdges:r}},Za=e=>e.id;function M3(e,t){return We(e.selectedNodes.map(Za),t.selectedNodes.map(Za))&&We(e.selectedEdges.map(Za),t.selectedEdges.map(Za))}function L3({onSelectionChange:e}){const t=ze(),{selectedNodes:r,selectedEdges:n}=Re(j3,M3);return D.useEffect(()=>{const i={nodes:r,edges:n};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[r,n,e]),null}const F3=e=>!!e.onSelectionChangeHandlers;function $3({onSelectionChange:e}){const t=Re(F3);return e||t?v.jsx(L3,{onSelectionChange:e}):null}const nR=[0,0],q3={x:0,y:0,zoom:1},z3=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig"],Yw=[...z3,"rfId"],V3=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Zw={translateExtent:Vo,nodeOrigin:nR,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function B3(e){const{setNodes:t,setEdges:r,setMinZoom:n,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:u}=Re(V3,We),l=ze();D.useEffect(()=>(u(e.defaultNodes,e.defaultEdges),()=>{c.current=Zw,a()}),[]);const c=D.useRef(Zw);return D.useEffect(()=>{for(const d of Yw){const f=e[d],p=c.current[d];f!==p&&(typeof e[d]>"u"||(d==="nodes"?t(f):d==="edges"?r(f):d==="minZoom"?n(f):d==="maxZoom"?i(f):d==="translateExtent"?s(f):d==="nodeExtent"?o(f):d==="ariaLabelConfig"?l.setState({ariaLabelConfig:p$(f)}):d==="fitView"?l.setState({fitViewQueued:f}):d==="fitViewOptions"?l.setState({fitViewOptions:f}):l.setState({[d]:f})))}c.current=e},Yw.map(d=>e[d])),null}function Xw(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function H3(e){var n;const[t,r]=D.useState(e==="system"?null:e);return D.useEffect(()=>{if(e!=="system"){r(e);return}const i=Xw(),s=()=>r(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[e]),t!==null?t:(n=Xw())!=null&&n.matches?"dark":"light"}const Qw=typeof document<"u"?document:null;function Go(e=null,t={target:Qw,actInsideInputWithModifier:!0}){const[r,n]=D.useState(!1),i=D.useRef(!1),s=D.useRef(new Set([])),[o,a]=D.useMemo(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=l.reduce((d,f)=>d.concat(...f),[]);return[l,c]}return[[],[]]},[e]);return D.useEffect(()=>{const u=(t==null?void 0:t.target)??Qw,l=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const c=p=>{var w,m;if(i.current=p.ctrlKey||p.metaKey||p.shiftKey||p.altKey,(!i.current||i.current&&!l)&&IO(p))return!1;const g=eb(p.code,a);if(s.current.add(p[g]),Jw(o,s.current,!1)){const x=((m=(w=p.composedPath)==null?void 0:w.call(p))==null?void 0:m[0])||p.target,y=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";t.preventDefault!==!1&&(i.current||!y)&&p.preventDefault(),n(!0)}},d=p=>{const h=eb(p.code,a);Jw(o,s.current,!0)?(n(!1),s.current.clear()):s.current.delete(p[h]),p.key==="Meta"&&s.current.clear(),i.current=!1},f=()=>{s.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[e,n]),r}function Jw(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(i=>t.has(i)))}function eb(e,t){return t.includes(e)?"code":"key"}const U3=()=>{const e=ze();return D.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:n}=e.getState();return n?n.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[n,i,s],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??n,y:t.y??i,zoom:t.zoom??s},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,n]=e.getState().transform;return{x:t,y:r,zoom:n}},setCenter:async(t,r,n)=>e.getState().setCenter(t,r,n),fitBounds:async(t,r)=>{const{width:n,height:i,minZoom:s,maxZoom:o,panZoom:a}=e.getState(),u=o0(t,n,i,s,o,(r==null?void 0:r.padding)??.1);return a?(await a.setViewport(u,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:n,snapGrid:i,snapToGrid:s,domNode:o}=e.getState();if(!o)return t;const{x:a,y:u}=o.getBoundingClientRect(),l={x:t.x-a,y:t.y-u},c=r.snapGrid??i,d=r.snapToGrid??s;return ua(l,n,d,c)},flowToScreenPosition:t=>{const{transform:r,domNode:n}=e.getState();if(!n)return t;const{x:i,y:s}=n.getBoundingClientRect(),o=sl(t,r);return{x:o.x+i,y:o.y+s}}}),[])};function iR(e,t){const r=[],n=new Map,i=[];for(const s of e)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")n.set(s.id,[s]);else{const o=n.get(s.id);o?o.push(s):n.set(s.id,[s])}for(const s of t){const o=n.get(s.id);if(!o){r.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){r.push({...o[0].item});continue}const a={...s};for(const u of o)W3(u,a);r.push(a)}return i.length&&i.forEach(s=>{s.index!==void 0?r.splice(s.index,0,{...s.item}):r.push({...s.item})}),r}function W3(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function sR(e,t){return iR(e,t)}function oR(e,t){return iR(e,t)}function Un(e,t){return{id:e,type:"select",selected:t}}function Ui(e,t=new Set,r=!1){const n=[];for(const[i,s]of e){const o=t.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(r&&(s.selected=o),n.push(Un(s.id,o)))}return n}function tb({items:e=[],lookup:t}){var i;const r=[],n=new Map(e.map(s=>[s.id,s]));for(const[s,o]of e.entries()){const a=t.get(o.id),u=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;u!==void 0&&u!==o&&r.push({id:o.id,item:o,type:"replace"}),u===void 0&&r.push({item:o,type:"add",index:s})}for(const[s]of t)n.get(s)===void 0&&r.push({id:s,type:"remove"});return r}function rb(e){return{id:e.id,type:"remove"}}const nb=e=>i$(e),G3=e=>SO(e);function aR(e){return D.forwardRef(e)}const K3=typeof window<"u"?D.useLayoutEffect:D.useEffect;function ib(e){const[t,r]=D.useState(BigInt(0)),[n]=D.useState(()=>Y3(()=>r(i=>i+BigInt(1))));return K3(()=>{const i=n.get();i.length&&(e(i),n.reset())},[t]),n}function Y3(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const uR=D.createContext(null);function Z3({children:e}){const t=ze(),r=D.useCallback(a=>{const{nodes:u=[],setNodes:l,hasDefaultNodes:c,onNodesChange:d,nodeLookup:f,fitViewQueued:p}=t.getState();let h=u;for(const w of a)h=typeof w=="function"?w(h):w;const g=tb({items:h,lookup:f});c&&l(h),g.length>0?d==null||d(g):p&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:m,setNodes:x}=t.getState();w&&x(m)})},[]),n=ib(r),i=D.useCallback(a=>{const{edges:u=[],setEdges:l,hasDefaultEdges:c,onEdgesChange:d,edgeLookup:f}=t.getState();let p=u;for(const h of a)p=typeof h=="function"?h(p):h;c?l(p):d&&d(tb({items:p,lookup:f}))},[]),s=ib(i),o=D.useMemo(()=>({nodeQueue:n,edgeQueue:s}),[]);return v.jsx(uR.Provider,{value:o,children:e})}function X3(){const e=D.useContext(uR);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const Q3=e=>!!e.panZoom;function Yl(){const e=U3(),t=ze(),r=X3(),n=Re(Q3),i=D.useMemo(()=>{const s=d=>t.getState().nodeLookup.get(d),o=d=>{r.nodeQueue.push(d)},a=d=>{r.edgeQueue.push(d)},u=d=>{var m,x;const{nodeLookup:f,nodeOrigin:p}=t.getState(),h=nb(d)?d:f.get(d.id),g=h.parentId?OO(h.position,h.measured,h.parentId,f,p):h.position,w={...h,position:g,width:((m=h.measured)==null?void 0:m.width)??h.width,height:((x=h.measured)==null?void 0:x.height)??h.height};return hs(w)},l=(d,f,p={replace:!1})=>{o(h=>h.map(g=>{if(g.id===d){const w=typeof f=="function"?f(g):f;return p.replace&&nb(w)?w:{...g,...w}}return g}))},c=(d,f,p={replace:!1})=>{a(h=>h.map(g=>{if(g.id===d){const w=typeof f=="function"?f(g):f;return p.replace&&G3(w)?w:{...g,...w}}return g}))};return{getNodes:()=>t.getState().nodes.map(d=>({...d})),getNode:d=>{var f;return(f=s(d))==null?void 0:f.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:d=[]}=t.getState();return d.map(f=>({...f}))},getEdge:d=>t.getState().edgeLookup.get(d),setNodes:o,setEdges:a,addNodes:d=>{const f=Array.isArray(d)?d:[d];r.nodeQueue.push(p=>[...p,...f])},addEdges:d=>{const f=Array.isArray(d)?d:[d];r.edgeQueue.push(p=>[...p,...f])},toObject:()=>{const{nodes:d=[],edges:f=[],transform:p}=t.getState(),[h,g,w]=p;return{nodes:d.map(m=>({...m})),edges:f.map(m=>({...m})),viewport:{x:h,y:g,zoom:w}}},deleteElements:async({nodes:d=[],edges:f=[]})=>{const{nodes:p,edges:h,onNodesDelete:g,onEdgesDelete:w,triggerNodeChanges:m,triggerEdgeChanges:x,onDelete:y,onBeforeDelete:b}=t.getState(),{nodes:_,edges:S}=await l$({nodesToRemove:d,edgesToRemove:f,nodes:p,edges:h,onBeforeDelete:b}),E=S.length>0,N=_.length>0;if(E){const R=S.map(rb);w==null||w(S),x(R)}if(N){const R=_.map(rb);g==null||g(_),m(R)}return(N||E)&&(y==null||y({nodes:_,edges:S})),{deletedNodes:_,deletedEdges:S}},getIntersectingNodes:(d,f=!0,p)=>{const h=Pw(d),g=h?d:u(d),w=p!==void 0;return g?(p||t.getState().nodes).filter(m=>{const x=t.getState().nodeLookup.get(m.id);if(x&&!h&&(m.id===d.id||!x.internals.positionAbsolute))return!1;const y=hs(w?m:x),b=Ho(y,g);return f&&b>0||b>=y.width*y.height||b>=g.width*g.height}):[]},isNodeIntersecting:(d,f,p=!0)=>{const g=Pw(d)?d:u(d);if(!g)return!1;const w=Ho(g,f);return p&&w>0||w>=f.width*f.height||w>=g.width*g.height},updateNode:l,updateNodeData:(d,f,p={replace:!1})=>{l(d,h=>{const g=typeof f=="function"?f(h):f;return p.replace?{...h,data:g}:{...h,data:{...h.data,...g}}},p)},updateEdge:c,updateEdgeData:(d,f,p={replace:!1})=>{c(d,h=>{const g=typeof f=="function"?f(h):f;return p.replace?{...h,data:g}:{...h,data:{...h.data,...g}}},p)},getNodesBounds:d=>{const{nodeLookup:f,nodeOrigin:p}=t.getState();return s$(d,{nodeLookup:f,nodeOrigin:p})},getHandleConnections:({type:d,id:f,nodeId:p})=>{var h;return Array.from(((h=t.getState().connectionLookup.get(`${p}-${d}${f?`-${f}`:""}`))==null?void 0:h.values())??[])},getNodeConnections:({type:d,handleId:f,nodeId:p})=>{var h;return Array.from(((h=t.getState().connectionLookup.get(`${p}${d?f?`-${d}-${f}`:`-${d}`:""}`))==null?void 0:h.values())??[])},fitView:async d=>{const f=t.getState().fitViewResolver??h$();return t.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:f}),r.nodeQueue.push(p=>[...p]),f.promise}}},[]);return D.useMemo(()=>({...i,...e,viewportInitialized:n}),[n])}const sb=e=>e.selected,J3=typeof window<"u"?window:void 0;function e4({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=ze(),{deleteElements:n}=Yl(),i=Go(e,{actInsideInputWithModifier:!1}),s=Go(t,{target:J3});D.useEffect(()=>{if(i){const{edges:o,nodes:a}=r.getState();n({nodes:a.filter(sb),edges:o.filter(sb)}),r.setState({nodesSelectionActive:!1})}},[i]),D.useEffect(()=>{r.setState({multiSelectionActive:s})},[s])}function t4(e){const t=ze();D.useEffect(()=>{const r=()=>{var i,s,o,a;if(!e.current||!(((s=(i=e.current).checkVisibility)==null?void 0:s.call(i))??!0))return!1;const n=a0(e.current);(n.height===0||n.width===0)&&((a=(o=t.getState()).onError)==null||a.call(o,"004",Lr.error004())),t.setState({width:n.width||500,height:n.height||500})};if(e.current){r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>r());return n.observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}}},[])}const Zl={position:"absolute",width:"100%",height:"100%",top:0,left:0},r4=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function n4({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:n=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=ri.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:u,translateExtent:l,minZoom:c,maxZoom:d,zoomActivationKeyCode:f,preventScrolling:p=!0,children:h,noWheelClassName:g,noPanClassName:w,onViewportChange:m,isControlledViewport:x,paneClickDistance:y,selectionOnDrag:b}){const _=ze(),S=D.useRef(null),{userSelectionActive:E,lib:N,connectionInProgress:R}=Re(r4,We),q=Go(f),P=D.useRef();t4(S);const I=D.useCallback(L=>{m==null||m({x:L[0],y:L[1],zoom:L[2]}),x||_.setState({transform:L})},[m,x]);return D.useEffect(()=>{if(S.current){P.current=Z$({domNode:S.current,minZoom:c,maxZoom:d,translateExtent:l,viewport:u,onDraggingChange:A=>_.setState({paneDragging:A}),onPanZoomStart:(A,$)=>{const{onViewportChangeStart:C,onMoveStart:T}=_.getState();T==null||T(A,$),C==null||C($)},onPanZoom:(A,$)=>{const{onViewportChange:C,onMove:T}=_.getState();T==null||T(A,$),C==null||C($)},onPanZoomEnd:(A,$)=>{const{onViewportChangeEnd:C,onMoveEnd:T}=_.getState();T==null||T(A,$),C==null||C($)}});const{x:L,y:k,zoom:j}=P.current.getViewport();return _.setState({panZoom:P.current,transform:[L,k,j],domNode:S.current.closest(".react-flow")}),()=>{var A;(A=P.current)==null||A.destroy()}}},[]),D.useEffect(()=>{var L;(L=P.current)==null||L.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:n,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:q,preventScrolling:p,noPanClassName:w,userSelectionActive:E,noWheelClassName:g,lib:N,onTransformChange:I,connectionInProgress:R,selectionOnDrag:b,paneClickDistance:y})},[e,t,r,n,i,s,o,a,q,p,w,E,g,N,I,R,b,y]),v.jsx("div",{className:"react-flow__renderer",ref:S,style:Zl,children:h})}const i4=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function s4(){const{userSelectionActive:e,userSelectionRect:t}=Re(i4,We);return e&&t?v.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const hd=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},o4=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function a4({isSelecting:e,selectionKeyPressed:t,selectionMode:r=Bo.Full,panOnDrag:n,paneClickDistance:i,selectionOnDrag:s,onSelectionStart:o,onSelectionEnd:a,onPaneClick:u,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:d,onPaneMouseMove:f,onPaneMouseLeave:p,children:h}){const g=ze(),{userSelectionActive:w,elementsSelectable:m,dragging:x,connectionInProgress:y}=Re(o4,We),b=m&&(e||w),_=D.useRef(null),S=D.useRef(),E=D.useRef(new Set),N=D.useRef(new Set),R=D.useRef(!1),q=C=>{if(R.current||y){R.current=!1;return}u==null||u(C),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},P=C=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){C.preventDefault();return}l==null||l(C)},I=c?C=>c(C):void 0,L=C=>{R.current&&(C.stopPropagation(),R.current=!1)},k=C=>{var ne,ae;const{domNode:T}=g.getState();if(S.current=T==null?void 0:T.getBoundingClientRect(),!S.current)return;const F=C.target===_.current;if(!F&&!!C.target.closest(".nokey")||!e||!(s&&F||t)||C.button!==0||!C.isPrimary)return;(ae=(ne=C.target)==null?void 0:ne.setPointerCapture)==null||ae.call(ne,C.pointerId),R.current=!1;const{x:Q,y:Z}=vr(C.nativeEvent,S.current);g.setState({userSelectionRect:{width:0,height:0,startX:Q,startY:Z,x:Q,y:Z}}),F||(C.stopPropagation(),C.preventDefault())},j=C=>{const{userSelectionRect:T,transform:F,nodeLookup:B,edgeLookup:H,connectionLookup:Q,triggerNodeChanges:Z,triggerEdgeChanges:ne,defaultEdgeOptions:ae,resetSelectedElements:te}=g.getState();if(!S.current||!T)return;const{x:X,y:le}=vr(C.nativeEvent,S.current),{startX:xe,startY:pe}=T;if(!R.current){const ke=t?0:i;if(Math.hypot(X-xe,le-pe)<=ke)return;te(),o==null||o(C)}R.current=!0;const fe={startX:xe,startY:pe,x:X<xe?X:xe,y:le<pe?le:pe,width:Math.abs(X-xe),height:Math.abs(le-pe)},de=E.current,be=N.current;E.current=new Set(s0(B,fe,F,r===Bo.Partial,!0).map(ke=>ke.id)),N.current=new Set;const ce=(ae==null?void 0:ae.selectable)??!0;for(const ke of E.current){const he=Q.get(ke);if(he)for(const{edgeId:ut}of he.values()){const lt=H.get(ut);lt&&(lt.selectable??ce)&&N.current.add(ut)}}if(!Dw(de,E.current)){const ke=Ui(B,E.current,!0);Z(ke)}if(!Dw(be,N.current)){const ke=Ui(H,N.current);ne(ke)}g.setState({userSelectionRect:fe,userSelectionActive:!0,nodesSelectionActive:!1})},A=C=>{var T,F;C.button===0&&((F=(T=C.target)==null?void 0:T.releasePointerCapture)==null||F.call(T,C.pointerId),!w&&C.target===_.current&&g.getState().userSelectionRect&&(q==null||q(C)),g.setState({userSelectionActive:!1,userSelectionRect:null}),R.current&&(a==null||a(C),g.setState({nodesSelectionActive:E.current.size>0})))},$=n===!0||Array.isArray(n)&&n.includes(0);return v.jsxs("div",{className:tt(["react-flow__pane",{draggable:$,dragging:x,selection:e}]),onClick:b?void 0:hd(q,_),onContextMenu:hd(P,_),onWheel:hd(I,_),onPointerEnter:b?void 0:d,onPointerMove:b?j:f,onPointerUp:b?A:void 0,onPointerDownCapture:b?k:void 0,onClickCapture:b?L:void 0,onPointerLeave:p,ref:_,style:Zl,children:[h,v.jsx(s4,{})]})}function Oy({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:a,onError:u}=t.getState(),l=a.get(e);if(!l){u==null||u("012",Lr.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(r||l.selected&&o)&&(s({nodes:[l],edges:[]}),requestAnimationFrame(()=>{var c;return(c=n==null?void 0:n.current)==null?void 0:c.blur()})):i([e])}function lR({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:i,isSelectable:s,nodeClickDistance:o}){const a=ze(),[u,l]=D.useState(!1),c=D.useRef();return D.useEffect(()=>{c.current=M$({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{Oy({id:d,store:a,nodeRef:e})},onDragStart:()=>{l(!0)},onDragStop:()=>{l(!1)}})},[]),D.useEffect(()=>{var d,f;if(t)(d=c.current)==null||d.destroy();else if(e.current)return(f=c.current)==null||f.update({noDragClassName:r,handleSelector:n,domNode:e.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{var p;(p=c.current)==null||p.destroy()}},[r,n,t,s,e,i]),u}const u4=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function cR(){const e=ze();return D.useCallback(r=>{const{nodeExtent:n,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:a,updateNodePositions:u,nodeLookup:l,nodeOrigin:c}=e.getState(),d=new Map,f=u4(o),p=i?s[0]:5,h=i?s[1]:5,g=r.direction.x*p*r.factor,w=r.direction.y*h*r.factor;for(const[,m]of l){if(!f(m))continue;let x={x:m.internals.positionAbsolute.x+g,y:m.internals.positionAbsolute.y+w};i&&(x=aa(x,s));const{position:y,positionAbsolute:b}=EO({nodeId:m.id,nextPosition:x,nodeLookup:l,nodeExtent:n,nodeOrigin:c,onError:a});m.position=y,m.internals.positionAbsolute=b,d.set(m.id,m)}u(d)},[])}const h0=D.createContext(null),l4=h0.Provider;h0.Consumer;const dR=()=>D.useContext(h0),c4=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),d4=(e,t,r)=>n=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=n,{fromHandle:a,toHandle:u,isValid:l}=o,c=(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===r;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===r,connectingTo:c,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===r,isPossibleEndHandle:s===ds.Strict?(a==null?void 0:a.type)!==r:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:c&&l}};function f4({type:e="source",position:t=oe.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:u,className:l,onMouseDown:c,onTouchStart:d,...f},p){var j,A;const h=o||null,g=e==="target",w=ze(),m=dR(),{connectOnClick:x,noPanClassName:y,rfId:b}=Re(c4,We),{connectingFrom:_,connectingTo:S,clickConnecting:E,isPossibleEndHandle:N,connectionInProcess:R,clickConnectionInProcess:q,valid:P}=Re(d4(m,h,e),We);m||(A=(j=w.getState()).onError)==null||A.call(j,"010",Lr.error010());const I=$=>{const{defaultEdgeOptions:C,onConnect:T,hasDefaultEdges:F}=w.getState(),B={...C,...$};if(F){const{edges:H,setEdges:Q}=w.getState();Q(w$(B,H))}T==null||T(B),a==null||a(B)},L=$=>{if(!m)return;const C=AO($.nativeEvent);if(i&&(C&&$.button===0||!C)){const T=w.getState();Ty.onPointerDown($.nativeEvent,{handleDomNode:$.currentTarget,autoPanOnConnect:T.autoPanOnConnect,connectionMode:T.connectionMode,connectionRadius:T.connectionRadius,domNode:T.domNode,nodeLookup:T.nodeLookup,lib:T.lib,isTarget:g,handleId:h,nodeId:m,flowId:T.rfId,panBy:T.panBy,cancelConnection:T.cancelConnection,onConnectStart:T.onConnectStart,onConnectEnd:T.onConnectEnd,updateConnection:T.updateConnection,onConnect:I,isValidConnection:r||T.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:T.autoPanSpeed,dragThreshold:T.connectionDragThreshold})}C?c==null||c($):d==null||d($)},k=$=>{const{onClickConnectStart:C,onClickConnectEnd:T,connectionClickStartHandle:F,connectionMode:B,isValidConnection:H,lib:Q,rfId:Z,nodeLookup:ne,connection:ae}=w.getState();if(!m||!F&&!i)return;if(!F){C==null||C($.nativeEvent,{nodeId:m,handleId:h,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:m,type:e,id:h}});return}const te=RO($.target),X=r||H,{connection:le,isValid:xe}=Ty.isValid($.nativeEvent,{handle:{nodeId:m,id:h,type:e},connectionMode:B,fromNodeId:F.nodeId,fromHandleId:F.id||null,fromType:F.type,isValidConnection:X,flowId:Z,doc:te,lib:Q,nodeLookup:ne});xe&&le&&I(le);const pe=structuredClone(ae);delete pe.inProgress,pe.toPosition=pe.toHandle?pe.toHandle.position:null,T==null||T($,pe),w.setState({connectionClickStartHandle:null})};return v.jsx("div",{"data-handleid":h,"data-nodeid":m,"data-handlepos":t,"data-id":`${b}-${m}-${h}-${e}`,className:tt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,l,{source:!g,target:g,connectable:n,connectablestart:i,connectableend:s,clickconnecting:E,connectingfrom:_,connectingto:S,valid:P,connectionindicator:n&&(!R||N)&&(R||q?s:i)}]),onMouseDown:L,onTouchStart:L,onClick:x?k:void 0,ref:p,...f,children:u})}const Rr=D.memo(aR(f4));function h4({data:e,isConnectable:t,sourcePosition:r=oe.Bottom}){return v.jsxs(v.Fragment,{children:[e==null?void 0:e.label,v.jsx(Rr,{type:"source",position:r,isConnectable:t})]})}function p4({data:e,isConnectable:t,targetPosition:r=oe.Top,sourcePosition:n=oe.Bottom}){return v.jsxs(v.Fragment,{children:[v.jsx(Rr,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,v.jsx(Rr,{type:"source",position:n,isConnectable:t})]})}function g4(){return null}function m4({data:e,isConnectable:t,targetPosition:r=oe.Top}){return v.jsxs(v.Fragment,{children:[v.jsx(Rr,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const ol={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},ob={input:h4,default:p4,output:m4,group:g4};function y4(e){var t,r,n,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((n=e.style)==null?void 0:n.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const v4=e=>{const{width:t,height:r,x:n,y:i}=oa(e.nodeLookup,{filter:s=>!!s.selected});return{width:yr(t)?t:null,height:yr(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${n}px,${i}px)`}};function x4({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=ze(),{width:i,height:s,transformString:o,userSelectionActive:a}=Re(v4,We),u=cR(),l=D.useRef(null);if(D.useEffect(()=>{var f;r||(f=l.current)==null||f.focus({preventScroll:!0})},[r]),lR({nodeRef:l}),a||!i||!s)return null;const c=e?f=>{const p=n.getState().nodes.filter(h=>h.selected);e(f,p)}:void 0,d=f=>{Object.prototype.hasOwnProperty.call(ol,f.key)&&(f.preventDefault(),u({direction:ol[f.key],factor:f.shiftKey?4:1}))};return v.jsx("div",{className:tt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:v.jsx("div",{ref:l,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:r?void 0:-1,onKeyDown:r?void 0:d,style:{width:i,height:s}})})}const ab=typeof window<"u"?window:void 0,w4=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function fR({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:u,selectionKeyCode:l,selectionOnDrag:c,selectionMode:d,onSelectionStart:f,onSelectionEnd:p,multiSelectionKeyCode:h,panActivationKeyCode:g,zoomActivationKeyCode:w,elementsSelectable:m,zoomOnScroll:x,zoomOnPinch:y,panOnScroll:b,panOnScrollSpeed:_,panOnScrollMode:S,zoomOnDoubleClick:E,panOnDrag:N,defaultViewport:R,translateExtent:q,minZoom:P,maxZoom:I,preventScrolling:L,onSelectionContextMenu:k,noWheelClassName:j,noPanClassName:A,disableKeyboardA11y:$,onViewportChange:C,isControlledViewport:T}){const{nodesSelectionActive:F,userSelectionActive:B}=Re(w4),H=Go(l,{target:ab}),Q=Go(g,{target:ab}),Z=Q||N,ne=Q||b,ae=c&&Z!==!0,te=H||B||ae;return e4({deleteKeyCode:u,multiSelectionKeyCode:h}),v.jsx(n4,{onPaneContextMenu:s,elementsSelectable:m,zoomOnScroll:x,zoomOnPinch:y,panOnScroll:ne,panOnScrollSpeed:_,panOnScrollMode:S,zoomOnDoubleClick:E,panOnDrag:!H&&Z,defaultViewport:R,translateExtent:q,minZoom:P,maxZoom:I,zoomActivationKeyCode:w,preventScrolling:L,noWheelClassName:j,noPanClassName:A,onViewportChange:C,isControlledViewport:T,paneClickDistance:a,selectionOnDrag:ae,children:v.jsxs(a4,{onSelectionStart:f,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:Z,isSelecting:!!te,selectionMode:d,selectionKeyPressed:H,paneClickDistance:a,selectionOnDrag:ae,children:[e,F&&v.jsx(x4,{onSelectionContextMenu:k,noPanClassName:A,disableKeyboardA11y:$})]})})}fR.displayName="FlowRenderer";const b4=D.memo(fR),_4=e=>t=>e?s0(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function S4(e){return Re(D.useCallback(_4(e),[e]),We)}const E4=e=>e.updateNodeInternals;function k4(){const e=Re(E4),[t]=D.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const n=new Map;r.forEach(i=>{const s=i.target.getAttribute("data-id");n.set(s,{id:s,nodeElement:i.target,force:!0})}),e(n)}));return D.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function C4({node:e,nodeType:t,hasDimensions:r,resizeObserver:n}){const i=ze(),s=D.useRef(null),o=D.useRef(null),a=D.useRef(e.sourcePosition),u=D.useRef(e.targetPosition),l=D.useRef(t),c=r&&!!e.internals.handleBounds;return D.useEffect(()=>{s.current&&!e.hidden&&(!c||o.current!==s.current)&&(o.current&&(n==null||n.unobserve(o.current)),n==null||n.observe(s.current),o.current=s.current)},[c,e.hidden]),D.useEffect(()=>()=>{o.current&&(n==null||n.unobserve(o.current),o.current=null)},[]),D.useEffect(()=>{if(s.current){const d=l.current!==t,f=a.current!==e.sourcePosition,p=u.current!==e.targetPosition;(d||f||p)&&(l.current=t,a.current=e.sourcePosition,u.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function N4({id:e,onClick:t,onMouseEnter:r,onMouseMove:n,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:a,elementsSelectable:u,nodesConnectable:l,nodesFocusable:c,resizeObserver:d,noDragClassName:f,noPanClassName:p,disableKeyboardA11y:h,rfId:g,nodeTypes:w,nodeClickDistance:m,onError:x}){const{node:y,internals:b,isParent:_}=Re(X=>{const le=X.nodeLookup.get(e),xe=X.parentLookup.has(e);return{node:le,internals:le.internals,isParent:xe}},We);let S=y.type||"default",E=(w==null?void 0:w[S])||ob[S];E===void 0&&(x==null||x("003",Lr.error003(S)),S="default",E=(w==null?void 0:w.default)||ob.default);const N=!!(y.draggable||a&&typeof y.draggable>"u"),R=!!(y.selectable||u&&typeof y.selectable>"u"),q=!!(y.connectable||l&&typeof y.connectable>"u"),P=!!(y.focusable||c&&typeof y.focusable>"u"),I=ze(),L=TO(y),k=C4({node:y,nodeType:S,hasDimensions:L,resizeObserver:d}),j=lR({nodeRef:k,disabled:y.hidden||!N,noDragClassName:f,handleSelector:y.dragHandle,nodeId:e,isSelectable:R,nodeClickDistance:m}),A=cR();if(y.hidden)return null;const $=an(y),C=y4(y),T=R||N||t||r||n||i,F=r?X=>r(X,{...b.userNode}):void 0,B=n?X=>n(X,{...b.userNode}):void 0,H=i?X=>i(X,{...b.userNode}):void 0,Q=s?X=>s(X,{...b.userNode}):void 0,Z=o?X=>o(X,{...b.userNode}):void 0,ne=X=>{const{selectNodesOnDrag:le,nodeDragThreshold:xe}=I.getState();R&&(!le||!N||xe>0)&&Oy({id:e,store:I,nodeRef:k}),t&&t(X,{...b.userNode})},ae=X=>{if(!(IO(X.nativeEvent)||h)){if(xO.includes(X.key)&&R){const le=X.key==="Escape";Oy({id:e,store:I,unselect:le,nodeRef:k})}else if(N&&y.selected&&Object.prototype.hasOwnProperty.call(ol,X.key)){X.preventDefault();const{ariaLabelConfig:le}=I.getState();I.setState({ariaLiveMessage:le["node.a11yDescription.ariaLiveMessage"]({direction:X.key.replace("Arrow","").toLowerCase(),x:~~b.positionAbsolute.x,y:~~b.positionAbsolute.y})}),A({direction:ol[X.key],factor:X.shiftKey?4:1})}}},te=()=>{var be;if(h||!((be=k.current)!=null&&be.matches(":focus-visible")))return;const{transform:X,width:le,height:xe,autoPanOnNodeFocus:pe,setCenter:fe}=I.getState();if(!pe)return;s0(new Map([[e,y]]),{x:0,y:0,width:le,height:xe},X,!0).length>0||fe(y.position.x+$.width/2,y.position.y+$.height/2,{zoom:X[2]})};return v.jsx("div",{className:tt(["react-flow__node",`react-flow__node-${S}`,{[p]:N},y.className,{selected:y.selected,selectable:R,parent:_,draggable:N,dragging:j}]),ref:k,style:{zIndex:b.z,transform:`translate(${b.positionAbsolute.x}px,${b.positionAbsolute.y}px)`,pointerEvents:T?"all":"none",visibility:L?"visible":"hidden",...y.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:F,onMouseMove:B,onMouseLeave:H,onContextMenu:Q,onClick:ne,onDoubleClick:Z,onKeyDown:P?ae:void 0,tabIndex:P?0:void 0,onFocus:P?te:void 0,role:y.ariaRole??(P?"group":void 0),"aria-roledescription":"node","aria-describedby":h?void 0:`${tR}-${g}`,"aria-label":y.ariaLabel,...y.domAttributes,children:v.jsx(l4,{value:e,children:v.jsx(E,{id:e,data:y.data,type:S,positionAbsoluteX:b.positionAbsolute.x,positionAbsoluteY:b.positionAbsolute.y,selected:y.selected??!1,selectable:R,draggable:N,deletable:y.deletable??!0,isConnectable:q,sourcePosition:y.sourcePosition,targetPosition:y.targetPosition,dragging:j,dragHandle:y.dragHandle,zIndex:b.z,parentId:y.parentId,...$})})})}var T4=D.memo(N4);const O4=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function hR(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:i,onError:s}=Re(O4,We),o=S4(e.onlyRenderVisibleElements),a=k4();return v.jsx("div",{className:"react-flow__nodes",style:Zl,children:o.map(u=>v.jsx(T4,{id:u,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:s},u))})}hR.displayName="NodeRenderer";const R4=D.memo(hR);function I4(e){return Re(D.useCallback(r=>{if(!e)return r.edges.map(i=>i.id);const n=[];if(r.width&&r.height)for(const i of r.edges){const s=r.nodeLookup.get(i.source),o=r.nodeLookup.get(i.target);s&&o&&y$({sourceNode:s,targetNode:o,width:r.width,height:r.height,transform:r.transform})&&n.push(i.id)}return n},[e]),We)}const A4=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return v.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},P4=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return v.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},ub={[nl.Arrow]:A4,[nl.ArrowClosed]:P4};function D4(e){const t=ze();return D.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(ub,e)?ub[e]:((s=(i=t.getState()).onError)==null||s.call(i,"009",Lr.error009(e)),null)},[e])}const j4=({id:e,type:t,color:r,width:n=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const u=D4(t);return u?v.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:v.jsx(u,{color:r,strokeWidth:o})}):null},pR=({defaultColor:e,rfId:t})=>{const r=Re(s=>s.edges),n=Re(s=>s.defaultEdgeOptions),i=D.useMemo(()=>k$(r,{id:t,defaultColor:e,defaultMarkerStart:n==null?void 0:n.markerStart,defaultMarkerEnd:n==null?void 0:n.markerEnd}),[r,n,t,e]);return i.length?v.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:v.jsx("defs",{children:i.map(s=>v.jsx(j4,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};pR.displayName="MarkerDefinitions";var M4=D.memo(pR);function gR({x:e,y:t,label:r,labelStyle:n,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:u,className:l,...c}){const[d,f]=D.useState({x:1,y:0,width:0,height:0}),p=tt(["react-flow__edge-textwrapper",l]),h=D.useRef(null);return D.useEffect(()=>{if(h.current){const g=h.current.getBBox();f({x:g.x,y:g.y,width:g.width,height:g.height})}},[r]),r?v.jsxs("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...c,children:[i&&v.jsx("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),v.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:h,style:n,children:r}),u]}):null}gR.displayName="EdgeText";const L4=D.memo(gR);function la({path:e,labelX:t,labelY:r,label:n,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:u,interactionWidth:l=20,...c}){return v.jsxs(v.Fragment,{children:[v.jsx("path",{...c,d:e,fill:"none",className:tt(["react-flow__edge-path",c.className])}),l?v.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:l,className:"react-flow__edge-interaction"}):null,n&&yr(t)&&yr(r)?v.jsx(L4,{x:t,y:r,label:n,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:u}):null]})}function lb({pos:e,x1:t,y1:r,x2:n,y2:i}){return e===oe.Left||e===oe.Right?[.5*(t+n),r]:[t,.5*(r+i)]}function mR({sourceX:e,sourceY:t,sourcePosition:r=oe.Bottom,targetX:n,targetY:i,targetPosition:s=oe.Top}){const[o,a]=lb({pos:r,x1:e,y1:t,x2:n,y2:i}),[u,l]=lb({pos:s,x1:n,y1:i,x2:e,y2:t}),[c,d,f,p]=PO({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:u,targetControlY:l});return[`M${e},${t} C${o},${a} ${u},${l} ${n},${i}`,c,d,f,p]}function yR(e){return D.memo(({id:t,sourceX:r,sourceY:n,targetX:i,targetY:s,sourcePosition:o,targetPosition:a,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:h,markerEnd:g,markerStart:w,interactionWidth:m})=>{const[x,y,b]=mR({sourceX:r,sourceY:n,sourcePosition:o,targetX:i,targetY:s,targetPosition:a}),_=e.isInternal?void 0:t;return v.jsx(la,{id:_,path:x,labelX:y,labelY:b,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:h,markerEnd:g,markerStart:w,interactionWidth:m})})}const F4=yR({isInternal:!1}),vR=yR({isInternal:!0});F4.displayName="SimpleBezierEdge";vR.displayName="SimpleBezierEdgeInternal";function xR(e){return D.memo(({id:t,sourceX:r,sourceY:n,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,style:f,sourcePosition:p=oe.Bottom,targetPosition:h=oe.Top,markerEnd:g,markerStart:w,pathOptions:m,interactionWidth:x})=>{const[y,b,_]=ky({sourceX:r,sourceY:n,sourcePosition:p,targetX:i,targetY:s,targetPosition:h,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),S=e.isInternal?void 0:t;return v.jsx(la,{id:S,path:y,labelX:b,labelY:_,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:g,markerStart:w,interactionWidth:x})})}const wR=xR({isInternal:!1}),bR=xR({isInternal:!0});wR.displayName="SmoothStepEdge";bR.displayName="SmoothStepEdgeInternal";function _R(e){return D.memo(({id:t,...r})=>{var i;const n=e.isInternal?void 0:t;return v.jsx(wR,{...r,id:n,pathOptions:D.useMemo(()=>{var s;return{borderRadius:0,offset:(s=r.pathOptions)==null?void 0:s.offset}},[(i=r.pathOptions)==null?void 0:i.offset])})})}const $4=_R({isInternal:!1}),SR=_R({isInternal:!0});$4.displayName="StepEdge";SR.displayName="StepEdgeInternal";function ER(e){return D.memo(({id:t,sourceX:r,sourceY:n,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:h,interactionWidth:g})=>{const[w,m,x]=jO({sourceX:r,sourceY:n,targetX:i,targetY:s}),y=e.isInternal?void 0:t;return v.jsx(la,{id:y,path:w,labelX:m,labelY:x,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:h,interactionWidth:g})})}const q4=ER({isInternal:!1}),kR=ER({isInternal:!0});q4.displayName="StraightEdge";kR.displayName="StraightEdgeInternal";function CR(e){return D.memo(({id:t,sourceX:r,sourceY:n,targetX:i,targetY:s,sourcePosition:o=oe.Bottom,targetPosition:a=oe.Top,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:h,markerEnd:g,markerStart:w,pathOptions:m,interactionWidth:x})=>{const[y,b,_]=u0({sourceX:r,sourceY:n,sourcePosition:o,targetX:i,targetY:s,targetPosition:a,curvature:m==null?void 0:m.curvature}),S=e.isInternal?void 0:t;return v.jsx(la,{id:S,path:y,labelX:b,labelY:_,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:h,markerEnd:g,markerStart:w,interactionWidth:x})})}const z4=CR({isInternal:!1}),NR=CR({isInternal:!0});z4.displayName="BezierEdge";NR.displayName="BezierEdgeInternal";const cb={default:NR,straight:kR,step:SR,smoothstep:bR,simplebezier:vR},db={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},V4=(e,t,r)=>r===oe.Left?e-t:r===oe.Right?e+t:e,B4=(e,t,r)=>r===oe.Top?e-t:r===oe.Bottom?e+t:e,fb="react-flow__edgeupdater";function hb({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a}){return v.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:tt([fb,`${fb}-${a}`]),cx:V4(t,n,e),cy:B4(r,n,e),r:n,stroke:"transparent",fill:"transparent"})}function H4({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:n,sourceY:i,targetX:s,targetY:o,sourcePosition:a,targetPosition:u,onReconnect:l,onReconnectStart:c,onReconnectEnd:d,setReconnecting:f,setUpdateHover:p}){const h=ze(),g=(b,_)=>{if(b.button!==0)return;const{autoPanOnConnect:S,domNode:E,isValidConnection:N,connectionMode:R,connectionRadius:q,lib:P,onConnectStart:I,onConnectEnd:L,cancelConnection:k,nodeLookup:j,rfId:A,panBy:$,updateConnection:C}=h.getState(),T=_.type==="target",F=(Q,Z)=>{f(!1),d==null||d(Q,r,_.type,Z)},B=Q=>l==null?void 0:l(r,Q),H=(Q,Z)=>{f(!0),c==null||c(b,r,_.type),I==null||I(Q,Z)};Ty.onPointerDown(b.nativeEvent,{autoPanOnConnect:S,connectionMode:R,connectionRadius:q,domNode:E,handleId:_.id,nodeId:_.nodeId,nodeLookup:j,isTarget:T,edgeUpdaterType:_.type,lib:P,flowId:A,cancelConnection:k,panBy:$,isValidConnection:N,onConnect:B,onConnectStart:H,onConnectEnd:L,onReconnectEnd:F,updateConnection:C,getTransform:()=>h.getState().transform,getFromHandle:()=>h.getState().connection.fromHandle,dragThreshold:h.getState().connectionDragThreshold,handleDomNode:b.currentTarget})},w=b=>g(b,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),m=b=>g(b,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),x=()=>p(!0),y=()=>p(!1);return v.jsxs(v.Fragment,{children:[(e===!0||e==="source")&&v.jsx(hb,{position:a,centerX:n,centerY:i,radius:t,onMouseDown:w,onMouseEnter:x,onMouseOut:y,type:"source"}),(e===!0||e==="target")&&v.jsx(hb,{position:u,centerX:s,centerY:o,radius:t,onMouseDown:m,onMouseEnter:x,onMouseOut:y,type:"target"})]})}function U4({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:n,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:a,onMouseMove:u,onMouseLeave:l,reconnectRadius:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,rfId:h,edgeTypes:g,noPanClassName:w,onError:m,disableKeyboardA11y:x}){let y=Re(fe=>fe.edgeLookup.get(e));const b=Re(fe=>fe.defaultEdgeOptions);y=b?{...b,...y}:y;let _=y.type||"default",S=(g==null?void 0:g[_])||cb[_];S===void 0&&(m==null||m("011",Lr.error011(_)),_="default",S=(g==null?void 0:g.default)||cb.default);const E=!!(y.focusable||t&&typeof y.focusable>"u"),N=typeof d<"u"&&(y.reconnectable||r&&typeof y.reconnectable>"u"),R=!!(y.selectable||n&&typeof y.selectable>"u"),q=D.useRef(null),[P,I]=D.useState(!1),[L,k]=D.useState(!1),j=ze(),{zIndex:A,sourceX:$,sourceY:C,targetX:T,targetY:F,sourcePosition:B,targetPosition:H}=Re(D.useCallback(fe=>{const de=fe.nodeLookup.get(y.source),be=fe.nodeLookup.get(y.target);if(!de||!be)return{zIndex:y.zIndex,...db};const ce=E$({id:e,sourceNode:de,targetNode:be,sourceHandle:y.sourceHandle||null,targetHandle:y.targetHandle||null,connectionMode:fe.connectionMode,onError:m});return{zIndex:m$({selected:y.selected,zIndex:y.zIndex,sourceNode:de,targetNode:be,elevateOnSelect:fe.elevateEdgesOnSelect}),...ce||db}},[y.source,y.target,y.sourceHandle,y.targetHandle,y.selected,y.zIndex]),We),Q=D.useMemo(()=>y.markerStart?`url('#${Cy(y.markerStart,h)}')`:void 0,[y.markerStart,h]),Z=D.useMemo(()=>y.markerEnd?`url('#${Cy(y.markerEnd,h)}')`:void 0,[y.markerEnd,h]);if(y.hidden||$===null||C===null||T===null||F===null)return null;const ne=fe=>{var ke;const{addSelectedEdges:de,unselectNodesAndEdges:be,multiSelectionActive:ce}=j.getState();R&&(j.setState({nodesSelectionActive:!1}),y.selected&&ce?(be({nodes:[],edges:[y]}),(ke=q.current)==null||ke.blur()):de([e])),i&&i(fe,y)},ae=s?fe=>{s(fe,{...y})}:void 0,te=o?fe=>{o(fe,{...y})}:void 0,X=a?fe=>{a(fe,{...y})}:void 0,le=u?fe=>{u(fe,{...y})}:void 0,xe=l?fe=>{l(fe,{...y})}:void 0,pe=fe=>{var de;if(!x&&xO.includes(fe.key)&&R){const{unselectNodesAndEdges:be,addSelectedEdges:ce}=j.getState();fe.key==="Escape"?((de=q.current)==null||de.blur(),be({edges:[y]})):ce([e])}};return v.jsx("svg",{style:{zIndex:A},children:v.jsxs("g",{className:tt(["react-flow__edge",`react-flow__edge-${_}`,y.className,w,{selected:y.selected,animated:y.animated,inactive:!R&&!i,updating:P,selectable:R}]),onClick:ne,onDoubleClick:ae,onContextMenu:te,onMouseEnter:X,onMouseMove:le,onMouseLeave:xe,onKeyDown:E?pe:void 0,tabIndex:E?0:void 0,role:y.ariaRole??(E?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":y.ariaLabel===null?void 0:y.ariaLabel||`Edge from ${y.source} to ${y.target}`,"aria-describedby":E?`${rR}-${h}`:void 0,ref:q,...y.domAttributes,children:[!L&&v.jsx(S,{id:e,source:y.source,target:y.target,type:y.type,selected:y.selected,animated:y.animated,selectable:R,deletable:y.deletable??!0,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,sourceX:$,sourceY:C,targetX:T,targetY:F,sourcePosition:B,targetPosition:H,data:y.data,style:y.style,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerStart:Q,markerEnd:Z,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth}),N&&v.jsx(H4,{edge:y,isReconnectable:N,reconnectRadius:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,sourceX:$,sourceY:C,targetX:T,targetY:F,sourcePosition:B,targetPosition:H,setUpdateHover:I,setReconnecting:k})]})})}var W4=D.memo(U4);const G4=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function TR({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:n,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:u,onEdgeMouseLeave:l,onEdgeClick:c,reconnectRadius:d,onEdgeDoubleClick:f,onReconnectStart:p,onReconnectEnd:h,disableKeyboardA11y:g}){const{edgesFocusable:w,edgesReconnectable:m,elementsSelectable:x,onError:y}=Re(G4,We),b=I4(t);return v.jsxs("div",{className:"react-flow__edges",children:[v.jsx(M4,{defaultColor:e,rfId:r}),b.map(_=>v.jsx(W4,{id:_,edgesFocusable:w,edgesReconnectable:m,elementsSelectable:x,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:a,onMouseMove:u,onMouseLeave:l,onClick:c,reconnectRadius:d,onDoubleClick:f,onReconnectStart:p,onReconnectEnd:h,rfId:r,onError:y,edgeTypes:n,disableKeyboardA11y:g},_))]})}TR.displayName="EdgeRenderer";const K4=D.memo(TR),Y4=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Z4({children:e}){const t=Re(Y4);return v.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function X4(e){const t=Yl(),r=D.useRef(!1);D.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const Q4=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function J4(e){const t=Re(Q4),r=ze();return D.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function eq(e){return e.connection.inProgress?{...e.connection,to:ua(e.connection.to,e.transform)}:{...e.connection}}function tq(e){return eq}function rq(e){const t=tq();return Re(t,We)}const nq=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function iq({containerStyle:e,style:t,type:r,component:n}){const{nodesConnectable:i,width:s,height:o,isValid:a,inProgress:u}=Re(nq,We);return!(s&&i&&u)?null:v.jsx("svg",{style:e,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:v.jsx("g",{className:tt(["react-flow__connection",_O(a)]),children:v.jsx(OR,{style:t,type:r,CustomComponent:n,isValid:a})})})}const OR=({style:e,type:t=xn.Bezier,CustomComponent:r,isValid:n})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:a,fromPosition:u,to:l,toNode:c,toHandle:d,toPosition:f}=rq();if(!i)return;if(r)return v.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:a,fromX:s.x,fromY:s.y,toX:l.x,toY:l.y,fromPosition:u,toPosition:f,connectionStatus:_O(n),toNode:c,toHandle:d});let p="";const h={sourceX:s.x,sourceY:s.y,sourcePosition:u,targetX:l.x,targetY:l.y,targetPosition:f};switch(t){case xn.Bezier:[p]=u0(h);break;case xn.SimpleBezier:[p]=mR(h);break;case xn.Step:[p]=ky({...h,borderRadius:0});break;case xn.SmoothStep:[p]=ky(h);break;default:[p]=jO(h)}return v.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};OR.displayName="ConnectionLine";const sq={};function pb(e=sq){D.useRef(e),ze(),D.useEffect(()=>{},[e])}function oq(){ze(),D.useRef(!1),D.useEffect(()=>{},[])}function RR({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:n,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:u,onNodeMouseLeave:l,onNodeContextMenu:c,onSelectionContextMenu:d,onSelectionStart:f,onSelectionEnd:p,connectionLineType:h,connectionLineStyle:g,connectionLineComponent:w,connectionLineContainerStyle:m,selectionKeyCode:x,selectionOnDrag:y,selectionMode:b,multiSelectionKeyCode:_,panActivationKeyCode:S,zoomActivationKeyCode:E,deleteKeyCode:N,onlyRenderVisibleElements:R,elementsSelectable:q,defaultViewport:P,translateExtent:I,minZoom:L,maxZoom:k,preventScrolling:j,defaultMarkerColor:A,zoomOnScroll:$,zoomOnPinch:C,panOnScroll:T,panOnScrollSpeed:F,panOnScrollMode:B,zoomOnDoubleClick:H,panOnDrag:Q,onPaneClick:Z,onPaneMouseEnter:ne,onPaneMouseMove:ae,onPaneMouseLeave:te,onPaneScroll:X,onPaneContextMenu:le,paneClickDistance:xe,nodeClickDistance:pe,onEdgeContextMenu:fe,onEdgeMouseEnter:de,onEdgeMouseMove:be,onEdgeMouseLeave:ce,reconnectRadius:ke,onReconnect:he,onReconnectStart:ut,onReconnectEnd:lt,noDragClassName:O,noWheelClassName:M,noPanClassName:V,disableKeyboardA11y:G,nodeExtent:Y,rfId:U,viewport:ie,onViewportChange:Ce}){return pb(e),pb(t),oq(),X4(r),J4(ie),v.jsx(b4,{onPaneClick:Z,onPaneMouseEnter:ne,onPaneMouseMove:ae,onPaneMouseLeave:te,onPaneContextMenu:le,onPaneScroll:X,paneClickDistance:xe,deleteKeyCode:N,selectionKeyCode:x,selectionOnDrag:y,selectionMode:b,onSelectionStart:f,onSelectionEnd:p,multiSelectionKeyCode:_,panActivationKeyCode:S,zoomActivationKeyCode:E,elementsSelectable:q,zoomOnScroll:$,zoomOnPinch:C,zoomOnDoubleClick:H,panOnScroll:T,panOnScrollSpeed:F,panOnScrollMode:B,panOnDrag:Q,defaultViewport:P,translateExtent:I,minZoom:L,maxZoom:k,onSelectionContextMenu:d,preventScrolling:j,noDragClassName:O,noWheelClassName:M,noPanClassName:V,disableKeyboardA11y:G,onViewportChange:Ce,isControlledViewport:!!ie,children:v.jsxs(Z4,{children:[v.jsx(K4,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:he,onReconnectStart:ut,onReconnectEnd:lt,onlyRenderVisibleElements:R,onEdgeContextMenu:fe,onEdgeMouseEnter:de,onEdgeMouseMove:be,onEdgeMouseLeave:ce,reconnectRadius:ke,defaultMarkerColor:A,noPanClassName:V,disableKeyboardA11y:G,rfId:U}),v.jsx(iq,{style:g,type:h,component:w,containerStyle:m}),v.jsx("div",{className:"react-flow__edgelabel-renderer"}),v.jsx(R4,{nodeTypes:e,onNodeClick:n,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:u,onNodeMouseLeave:l,onNodeContextMenu:c,nodeClickDistance:pe,onlyRenderVisibleElements:R,noPanClassName:V,noDragClassName:O,disableKeyboardA11y:G,nodeExtent:Y,rfId:U}),v.jsx("div",{className:"react-flow__viewport-portal"})]})})}RR.displayName="GraphView";const aq=D.memo(RR),gb=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:u=.5,maxZoom:l=2,nodeOrigin:c,nodeExtent:d}={})=>{const f=new Map,p=new Map,h=new Map,g=new Map,w=n??t??[],m=r??e??[],x=c??[0,0],y=d??Vo;FO(h,g,w);const b=Ny(m,f,p,{nodeOrigin:x,nodeExtent:y,elevateNodesOnSelect:!1});let _=[0,0,1];if(o&&i&&s){const S=oa(f,{filter:q=>!!((q.width||q.initialWidth)&&(q.height||q.initialHeight))}),{x:E,y:N,zoom:R}=o0(S,i,s,u,l,(a==null?void 0:a.padding)??.1);_=[E,N,R]}return{rfId:"1",width:i??0,height:s??0,transform:_,nodes:m,nodesInitialized:b,nodeLookup:f,parentLookup:p,edges:w,edgeLookup:g,connectionLookup:h,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:n!==void 0,panZoom:null,minZoom:u,maxZoom:l,translateExtent:Vo,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ds.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:x,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:a,fitViewResolver:null,connection:{...bO},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:c$,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:wO}},uq=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:u,maxZoom:l,nodeOrigin:c,nodeExtent:d})=>C3((f,p)=>{async function h(){const{nodeLookup:g,panZoom:w,fitViewOptions:m,fitViewResolver:x,width:y,height:b,minZoom:_,maxZoom:S}=p();w&&(await u$({nodes:g,width:y,height:b,panZoom:w,minZoom:_,maxZoom:S},m),x==null||x.resolve(!0),f({fitViewResolver:null}))}return{...gb({nodes:e,edges:t,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:u,maxZoom:l,nodeOrigin:c,nodeExtent:d,defaultNodes:r,defaultEdges:n}),setNodes:g=>{const{nodeLookup:w,parentLookup:m,nodeOrigin:x,elevateNodesOnSelect:y,fitViewQueued:b}=p(),_=Ny(g,w,m,{nodeOrigin:x,nodeExtent:d,elevateNodesOnSelect:y,checkEquality:!0});b&&_?(h(),f({nodes:g,nodesInitialized:_,fitViewQueued:!1,fitViewOptions:void 0})):f({nodes:g,nodesInitialized:_})},setEdges:g=>{const{connectionLookup:w,edgeLookup:m}=p();FO(w,m,g),f({edges:g})},setDefaultNodesAndEdges:(g,w)=>{if(g){const{setNodes:m}=p();m(g),f({hasDefaultNodes:!0})}if(w){const{setEdges:m}=p();m(w),f({hasDefaultEdges:!0})}},updateNodeInternals:g=>{const{triggerNodeChanges:w,nodeLookup:m,parentLookup:x,domNode:y,nodeOrigin:b,nodeExtent:_,debug:S,fitViewQueued:E}=p(),{changes:N,updatedInternals:R}=A$(g,m,x,y,b,_);R&&(T$(m,x,{nodeOrigin:b,nodeExtent:_}),E?(h(),f({fitViewQueued:!1,fitViewOptions:void 0})):f({}),(N==null?void 0:N.length)>0&&(S&&console.log("React Flow: trigger node changes",N),w==null||w(N)))},updateNodePositions:(g,w=!1)=>{const m=[],x=[],{nodeLookup:y,triggerNodeChanges:b}=p();for(const[_,S]of g){const E=y.get(_),N=!!(E!=null&&E.expandParent&&(E!=null&&E.parentId)&&(S!=null&&S.position)),R={id:_,type:"position",position:N?{x:Math.max(0,S.position.x),y:Math.max(0,S.position.y)}:S.position,dragging:w};N&&E.parentId&&m.push({id:_,parentId:E.parentId,rect:{...S.internals.positionAbsolute,width:S.measured.width??0,height:S.measured.height??0}}),x.push(R)}if(m.length>0){const{parentLookup:_,nodeOrigin:S}=p(),E=f0(m,y,_,S);x.push(...E)}b(x)},triggerNodeChanges:g=>{const{onNodesChange:w,setNodes:m,nodes:x,hasDefaultNodes:y,debug:b}=p();if(g!=null&&g.length){if(y){const _=sR(g,x);m(_)}b&&console.log("React Flow: trigger node changes",g),w==null||w(g)}},triggerEdgeChanges:g=>{const{onEdgesChange:w,setEdges:m,edges:x,hasDefaultEdges:y,debug:b}=p();if(g!=null&&g.length){if(y){const _=oR(g,x);m(_)}b&&console.log("React Flow: trigger edge changes",g),w==null||w(g)}},addSelectedNodes:g=>{const{multiSelectionActive:w,edgeLookup:m,nodeLookup:x,triggerNodeChanges:y,triggerEdgeChanges:b}=p();if(w){const _=g.map(S=>Un(S,!0));y(_);return}y(Ui(x,new Set([...g]),!0)),b(Ui(m))},addSelectedEdges:g=>{const{multiSelectionActive:w,edgeLookup:m,nodeLookup:x,triggerNodeChanges:y,triggerEdgeChanges:b}=p();if(w){const _=g.map(S=>Un(S,!0));b(_);return}b(Ui(m,new Set([...g]))),y(Ui(x,new Set,!0))},unselectNodesAndEdges:({nodes:g,edges:w}={})=>{const{edges:m,nodes:x,nodeLookup:y,triggerNodeChanges:b,triggerEdgeChanges:_}=p(),S=g||x,E=w||m,N=S.map(q=>{const P=y.get(q.id);return P&&(P.selected=!1),Un(q.id,!1)}),R=E.map(q=>Un(q.id,!1));b(N),_(R)},setMinZoom:g=>{const{panZoom:w,maxZoom:m}=p();w==null||w.setScaleExtent([g,m]),f({minZoom:g})},setMaxZoom:g=>{const{panZoom:w,minZoom:m}=p();w==null||w.setScaleExtent([m,g]),f({maxZoom:g})},setTranslateExtent:g=>{var w;(w=p().panZoom)==null||w.setTranslateExtent(g),f({translateExtent:g})},resetSelectedElements:()=>{const{edges:g,nodes:w,triggerNodeChanges:m,triggerEdgeChanges:x,elementsSelectable:y}=p();if(!y)return;const b=w.reduce((S,E)=>E.selected?[...S,Un(E.id,!1)]:S,[]),_=g.reduce((S,E)=>E.selected?[...S,Un(E.id,!1)]:S,[]);m(b),x(_)},setNodeExtent:g=>{const{nodes:w,nodeLookup:m,parentLookup:x,nodeOrigin:y,elevateNodesOnSelect:b,nodeExtent:_}=p();g[0][0]===_[0][0]&&g[0][1]===_[0][1]&&g[1][0]===_[1][0]&&g[1][1]===_[1][1]||(Ny(w,m,x,{nodeOrigin:y,nodeExtent:g,elevateNodesOnSelect:b,checkEquality:!1}),f({nodeExtent:g}))},panBy:g=>{const{transform:w,width:m,height:x,panZoom:y,translateExtent:b}=p();return P$({delta:g,panZoom:y,transform:w,translateExtent:b,width:m,height:x})},setCenter:async(g,w,m)=>{const{width:x,height:y,maxZoom:b,panZoom:_}=p();if(!_)return Promise.resolve(!1);const S=typeof(m==null?void 0:m.zoom)<"u"?m.zoom:b;return await _.setViewport({x:x/2-g*S,y:y/2-w*S,zoom:S},{duration:m==null?void 0:m.duration,ease:m==null?void 0:m.ease,interpolate:m==null?void 0:m.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{f({connection:{...bO}})},updateConnection:g=>{f({connection:g})},reset:()=>f({...gb()})}},Object.is);function IR({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:n,initialWidth:i,initialHeight:s,initialMinZoom:o,initialMaxZoom:a,initialFitViewOptions:u,fitView:l,nodeOrigin:c,nodeExtent:d,children:f}){const[p]=D.useState(()=>uq({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:i,height:s,fitView:l,minZoom:o,maxZoom:a,fitViewOptions:u,nodeOrigin:c,nodeExtent:d}));return v.jsx(N3,{value:p,children:v.jsx(Z3,{children:f})})}function lq({children:e,nodes:t,edges:r,defaultNodes:n,defaultEdges:i,width:s,height:o,fitView:a,fitViewOptions:u,minZoom:l,maxZoom:c,nodeOrigin:d,nodeExtent:f}){return D.useContext(Gl)?v.jsx(v.Fragment,{children:e}):v.jsx(IR,{initialNodes:t,initialEdges:r,defaultNodes:n,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:a,initialFitViewOptions:u,initialMinZoom:l,initialMaxZoom:c,nodeOrigin:d,nodeExtent:f,children:e})}const cq={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function dq({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:a,onEdgeClick:u,onInit:l,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:p,onConnectStart:h,onConnectEnd:g,onClickConnectStart:w,onClickConnectEnd:m,onNodeMouseEnter:x,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:_,onNodeDoubleClick:S,onNodeDragStart:E,onNodeDrag:N,onNodeDragStop:R,onNodesDelete:q,onEdgesDelete:P,onDelete:I,onSelectionChange:L,onSelectionDragStart:k,onSelectionDrag:j,onSelectionDragStop:A,onSelectionContextMenu:$,onSelectionStart:C,onSelectionEnd:T,onBeforeDelete:F,connectionMode:B,connectionLineType:H=xn.Bezier,connectionLineStyle:Q,connectionLineComponent:Z,connectionLineContainerStyle:ne,deleteKeyCode:ae="Backspace",selectionKeyCode:te="Shift",selectionOnDrag:X=!1,selectionMode:le=Bo.Full,panActivationKeyCode:xe="Space",multiSelectionKeyCode:pe=Uo()?"Meta":"Control",zoomActivationKeyCode:fe=Uo()?"Meta":"Control",snapToGrid:de,snapGrid:be,onlyRenderVisibleElements:ce=!1,selectNodesOnDrag:ke,nodesDraggable:he,autoPanOnNodeFocus:ut,nodesConnectable:lt,nodesFocusable:O,nodeOrigin:M=nR,edgesFocusable:V,edgesReconnectable:G,elementsSelectable:Y=!0,defaultViewport:U=q3,minZoom:ie=.5,maxZoom:Ce=2,translateExtent:Oe=Vo,preventScrolling:ct=!0,nodeExtent:or,defaultMarkerColor:Kt="#b1b1b7",zoomOnScroll:Ei=!0,zoomOnPinch:Et=!0,panOnScroll:jt=!1,panOnScrollSpeed:Rc=.5,panOnScrollMode:_a=ri.Free,zoomOnDoubleClick:Ic=!0,panOnDrag:Sa=!0,onPaneClick:o2,onPaneMouseEnter:a2,onPaneMouseMove:u2,onPaneMouseLeave:l2,onPaneScroll:c2,onPaneContextMenu:d2,paneClickDistance:f2=0,nodeClickDistance:h2=0,children:p2,onReconnect:g2,onReconnectStart:m2,onReconnectEnd:y2,onEdgeContextMenu:v2,onEdgeDoubleClick:x2,onEdgeMouseEnter:w2,onEdgeMouseMove:b2,onEdgeMouseLeave:_2,reconnectRadius:S2=10,onNodesChange:E2,onEdgesChange:k2,noDragClassName:C2="nodrag",noWheelClassName:N2="nowheel",noPanClassName:J0="nopan",fitView:ex,fitViewOptions:tx,connectOnClick:T2,attributionPosition:O2,proOptions:R2,defaultEdgeOptions:I2,elevateNodesOnSelect:A2,elevateEdgesOnSelect:P2,disableKeyboardA11y:rx=!1,autoPanOnConnect:D2,autoPanOnNodeDrag:j2,autoPanSpeed:M2,connectionRadius:L2,isValidConnection:F2,onError:$2,style:q2,id:nx,nodeDragThreshold:z2,connectionDragThreshold:V2,viewport:B2,onViewportChange:H2,width:U2,height:W2,colorMode:G2="light",debug:K2,onScroll:Ea,ariaLabelConfig:Y2,...Z2},X2){const Ac=nx||"1",Q2=H3(G2),J2=D.useCallback(ix=>{ix.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ea==null||Ea(ix)},[Ea]);return v.jsx("div",{"data-testid":"rf__wrapper",...Z2,onScroll:J2,style:{...q2,...cq},ref:X2,className:tt(["react-flow",i,Q2]),id:nx,role:"application",children:v.jsxs(lq,{nodes:e,edges:t,width:U2,height:W2,fitView:ex,fitViewOptions:tx,minZoom:ie,maxZoom:Ce,nodeOrigin:M,nodeExtent:or,children:[v.jsx(aq,{onInit:l,onNodeClick:a,onEdgeClick:u,onNodeMouseEnter:x,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:_,onNodeDoubleClick:S,nodeTypes:s,edgeTypes:o,connectionLineType:H,connectionLineStyle:Q,connectionLineComponent:Z,connectionLineContainerStyle:ne,selectionKeyCode:te,selectionOnDrag:X,selectionMode:le,deleteKeyCode:ae,multiSelectionKeyCode:pe,panActivationKeyCode:xe,zoomActivationKeyCode:fe,onlyRenderVisibleElements:ce,defaultViewport:U,translateExtent:Oe,minZoom:ie,maxZoom:Ce,preventScrolling:ct,zoomOnScroll:Ei,zoomOnPinch:Et,zoomOnDoubleClick:Ic,panOnScroll:jt,panOnScrollSpeed:Rc,panOnScrollMode:_a,panOnDrag:Sa,onPaneClick:o2,onPaneMouseEnter:a2,onPaneMouseMove:u2,onPaneMouseLeave:l2,onPaneScroll:c2,onPaneContextMenu:d2,paneClickDistance:f2,nodeClickDistance:h2,onSelectionContextMenu:$,onSelectionStart:C,onSelectionEnd:T,onReconnect:g2,onReconnectStart:m2,onReconnectEnd:y2,onEdgeContextMenu:v2,onEdgeDoubleClick:x2,onEdgeMouseEnter:w2,onEdgeMouseMove:b2,onEdgeMouseLeave:_2,reconnectRadius:S2,defaultMarkerColor:Kt,noDragClassName:C2,noWheelClassName:N2,noPanClassName:J0,rfId:Ac,disableKeyboardA11y:rx,nodeExtent:or,viewport:B2,onViewportChange:H2}),v.jsx(B3,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:p,onConnectStart:h,onConnectEnd:g,onClickConnectStart:w,onClickConnectEnd:m,nodesDraggable:he,autoPanOnNodeFocus:ut,nodesConnectable:lt,nodesFocusable:O,edgesFocusable:V,edgesReconnectable:G,elementsSelectable:Y,elevateNodesOnSelect:A2,elevateEdgesOnSelect:P2,minZoom:ie,maxZoom:Ce,nodeExtent:or,onNodesChange:E2,onEdgesChange:k2,snapToGrid:de,snapGrid:be,connectionMode:B,translateExtent:Oe,connectOnClick:T2,defaultEdgeOptions:I2,fitView:ex,fitViewOptions:tx,onNodesDelete:q,onEdgesDelete:P,onDelete:I,onNodeDragStart:E,onNodeDrag:N,onNodeDragStop:R,onSelectionDrag:j,onSelectionDragStart:k,onSelectionDragStop:A,onMove:c,onMoveStart:d,onMoveEnd:f,noPanClassName:J0,nodeOrigin:M,rfId:Ac,autoPanOnConnect:D2,autoPanOnNodeDrag:j2,autoPanSpeed:M2,onError:$2,connectionRadius:L2,isValidConnection:F2,selectNodesOnDrag:ke,nodeDragThreshold:z2,connectionDragThreshold:V2,onBeforeDelete:F,debug:K2,ariaLabelConfig:Y2}),v.jsx($3,{onSelectionChange:L}),p2,v.jsx(D3,{proOptions:R2,position:O2}),v.jsx(P3,{rfId:Ac,disableKeyboardA11y:rx})]})})}var fq=aR(dq);const hq=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function pq({children:e}){const t=Re(hq);return t?VT.createPortal(e,t):null}function gq(e){const[t,r]=D.useState(e),n=D.useCallback(i=>r(s=>sR(i,s)),[]);return[t,r,n]}function mq(e){const[t,r]=D.useState(e),n=D.useCallback(i=>r(s=>oR(i,s)),[]);return[t,r,n]}function yq({dimensions:e,lineWidth:t,variant:r,className:n}){return v.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:tt(["react-flow__background-pattern",r,n])})}function vq({radius:e,className:t}){return v.jsx("circle",{cx:e,cy:e,r:e,className:tt(["react-flow__background-pattern","dots",t])})}var Xr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Xr||(Xr={}));const xq={[Xr.Dots]:1,[Xr.Lines]:1,[Xr.Cross]:6},wq=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function AR({id:e,variant:t=Xr.Dots,gap:r=20,size:n,lineWidth:i=1,offset:s=0,color:o,bgColor:a,style:u,className:l,patternClassName:c}){const d=D.useRef(null),{transform:f,patternId:p}=Re(wq,We),h=n||xq[t],g=t===Xr.Dots,w=t===Xr.Cross,m=Array.isArray(r)?r:[r,r],x=[m[0]*f[2]||1,m[1]*f[2]||1],y=h*f[2],b=Array.isArray(s)?s:[s,s],_=w?[y,y]:x,S=[b[0]*f[2]||1+_[0]/2,b[1]*f[2]||1+_[1]/2],E=`${p}${e||""}`;return v.jsxs("svg",{className:tt(["react-flow__background",l]),style:{...u,...Zl,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:d,"data-testid":"rf__background",children:[v.jsx("pattern",{id:E,x:f[0]%x[0],y:f[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`,children:g?v.jsx(vq,{radius:y/2,className:c}):v.jsx(yq,{dimensions:_,lineWidth:i,variant:t,className:c})}),v.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E})`})]})}AR.displayName="Background";const bq=D.memo(AR);function _q(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:v.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Sq(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:v.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Eq(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:v.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function kq(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:v.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Cq(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:v.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Xa({children:e,className:t,...r}){return v.jsx("button",{type:"button",className:tt(["react-flow__controls-button",t]),...r,children:e})}const Nq=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function PR({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:u,className:l,children:c,position:d="bottom-left",orientation:f="vertical","aria-label":p}){const h=ze(),{isInteractive:g,minZoomReached:w,maxZoomReached:m,ariaLabelConfig:x}=Re(Nq,We),{zoomIn:y,zoomOut:b,fitView:_}=Yl(),S=()=>{y(),s==null||s()},E=()=>{b(),o==null||o()},N=()=>{_(i),a==null||a()},R=()=>{h.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),u==null||u(!g)},q=f==="horizontal"?"horizontal":"vertical";return v.jsxs(Kl,{className:tt(["react-flow__controls",q,l]),position:d,style:e,"data-testid":"rf__controls","aria-label":p??x["controls.ariaLabel"],children:[t&&v.jsxs(v.Fragment,{children:[v.jsx(Xa,{onClick:S,className:"react-flow__controls-zoomin",title:x["controls.zoomIn.ariaLabel"],"aria-label":x["controls.zoomIn.ariaLabel"],disabled:m,children:v.jsx(_q,{})}),v.jsx(Xa,{onClick:E,className:"react-flow__controls-zoomout",title:x["controls.zoomOut.ariaLabel"],"aria-label":x["controls.zoomOut.ariaLabel"],disabled:w,children:v.jsx(Sq,{})})]}),r&&v.jsx(Xa,{className:"react-flow__controls-fitview",onClick:N,title:x["controls.fitView.ariaLabel"],"aria-label":x["controls.fitView.ariaLabel"],children:v.jsx(Eq,{})}),n&&v.jsx(Xa,{className:"react-flow__controls-interactive",onClick:R,title:x["controls.interactive.ariaLabel"],"aria-label":x["controls.interactive.ariaLabel"],children:g?v.jsx(Cq,{}):v.jsx(kq,{})}),c]})}PR.displayName="Controls";const Tq=D.memo(PR);function Oq({id:e,x:t,y:r,width:n,height:i,style:s,color:o,strokeColor:a,strokeWidth:u,className:l,borderRadius:c,shapeRendering:d,selected:f,onClick:p}){const{background:h,backgroundColor:g}=s||{},w=o||h||g;return v.jsx("rect",{className:tt(["react-flow__minimap-node",{selected:f},l]),x:t,y:r,rx:c,ry:c,width:n,height:i,style:{fill:w,stroke:a,strokeWidth:u},shapeRendering:d,onClick:p?m=>p(m,e):void 0})}const Rq=D.memo(Oq),Iq=e=>e.nodes.map(t=>t.id),pd=e=>e instanceof Function?e:()=>e;function Aq({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:i,nodeComponent:s=Rq,onClick:o}){const a=Re(Iq,We),u=pd(t),l=pd(e),c=pd(r),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return v.jsx(v.Fragment,{children:a.map(f=>v.jsx(Dq,{id:f,nodeColorFunc:u,nodeStrokeColorFunc:l,nodeClassNameFunc:c,nodeBorderRadius:n,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:d},f))})}function Pq({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:n,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:a,onClick:u}){const{node:l,x:c,y:d,width:f,height:p}=Re(h=>{const{internals:g}=h.nodeLookup.get(e),w=g.userNode,{x:m,y:x}=g.positionAbsolute,{width:y,height:b}=an(w);return{node:w,x:m,y:x,width:y,height:b}},We);return!l||l.hidden||!TO(l)?null:v.jsx(a,{x:c,y:d,width:f,height:p,style:l.style,selected:!!l.selected,className:n(l),color:t(l),borderRadius:i,strokeColor:r(l),strokeWidth:s,shapeRendering:o,onClick:u,id:l.id})}const Dq=D.memo(Pq);var jq=D.memo(Aq);const Mq=200,Lq=150,Fq=e=>!e.hidden,$q=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?NO(oa(e.nodeLookup,{filter:Fq}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},qq="react-flow__minimap-desc";function DR({style:e,className:t,nodeStrokeColor:r,nodeColor:n,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:u,maskColor:l,maskStrokeColor:c,maskStrokeWidth:d,position:f="bottom-right",onClick:p,onNodeClick:h,pannable:g=!1,zoomable:w=!1,ariaLabel:m,inversePan:x,zoomStep:y=1,offsetScale:b=5}){const _=ze(),S=D.useRef(null),{boundingRect:E,viewBB:N,rfId:R,panZoom:q,translateExtent:P,flowWidth:I,flowHeight:L,ariaLabelConfig:k}=Re($q,We),j=(e==null?void 0:e.width)??Mq,A=(e==null?void 0:e.height)??Lq,$=E.width/j,C=E.height/A,T=Math.max($,C),F=T*j,B=T*A,H=b*T,Q=E.x-(F-E.width)/2-H,Z=E.y-(B-E.height)/2-H,ne=F+H*2,ae=B+H*2,te=`${qq}-${R}`,X=D.useRef(0),le=D.useRef();X.current=T,D.useEffect(()=>{if(S.current&&q)return le.current=V$({domNode:S.current,panZoom:q,getTransform:()=>_.getState().transform,getViewScale:()=>X.current}),()=>{var de;(de=le.current)==null||de.destroy()}},[q]),D.useEffect(()=>{var de;(de=le.current)==null||de.update({translateExtent:P,width:I,height:L,inversePan:x,pannable:g,zoomStep:y,zoomable:w})},[g,w,x,y,P,I,L]);const xe=p?de=>{var ke;const[be,ce]=((ke=le.current)==null?void 0:ke.pointer(de))||[0,0];p(de,{x:be,y:ce})}:void 0,pe=h?D.useCallback((de,be)=>{const ce=_.getState().nodeLookup.get(be).internals.userNode;h(de,ce)},[]):void 0,fe=m??k["minimap.ariaLabel"];return v.jsx(Kl,{position:f,style:{...e,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*T:void 0,"--xy-minimap-node-background-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:tt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:v.jsxs("svg",{width:j,height:A,viewBox:`${Q} ${Z} ${ne} ${ae}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":te,ref:S,onClick:xe,children:[fe&&v.jsx("title",{id:te,children:fe}),v.jsx(jq,{onClick:pe,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),v.jsx("path",{className:"react-flow__minimap-mask",d:`M${Q-H},${Z-H}h${ne+H*2}v${ae+H*2}h${-ne-H*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}DR.displayName="MiniMap";const zq=D.memo(DR),Vq=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,Bq={[gs.Line]:"right",[gs.Handle]:"bottom-right"};function Hq({nodeId:e,position:t,variant:r=gs.Handle,className:n,style:i=void 0,children:s,color:o,minWidth:a=10,minHeight:u=10,maxWidth:l=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:f,autoScale:p=!0,shouldResize:h,onResizeStart:g,onResize:w,onResizeEnd:m}){const x=dR(),y=typeof e=="string"?e:x,b=ze(),_=D.useRef(null),S=r===gs.Handle,E=Re(D.useCallback(Vq(S&&p),[S,p]),We),N=D.useRef(null),R=t??Bq[r];D.useEffect(()=>{if(!(!_.current||!y))return N.current||(N.current=r3({domNode:_.current,nodeId:y,getStoreItems:()=>{const{nodeLookup:P,transform:I,snapGrid:L,snapToGrid:k,nodeOrigin:j,domNode:A}=b.getState();return{nodeLookup:P,transform:I,snapGrid:L,snapToGrid:k,nodeOrigin:j,paneDomNode:A}},onChange:(P,I)=>{const{triggerNodeChanges:L,nodeLookup:k,parentLookup:j,nodeOrigin:A}=b.getState(),$=[],C={x:P.x,y:P.y},T=k.get(y);if(T&&T.expandParent&&T.parentId){const F=T.origin??A,B=P.width??T.measured.width??0,H=P.height??T.measured.height??0,Q={id:T.id,parentId:T.parentId,rect:{width:B,height:H,...OO({x:P.x??T.position.x,y:P.y??T.position.y},{width:B,height:H},T.parentId,k,F)}},Z=f0([Q],k,j,A);$.push(...Z),C.x=P.x?Math.max(F[0]*B,P.x):void 0,C.y=P.y?Math.max(F[1]*H,P.y):void 0}if(C.x!==void 0&&C.y!==void 0){const F={id:y,type:"position",position:{...C}};$.push(F)}if(P.width!==void 0&&P.height!==void 0){const B={id:y,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:P.width,height:P.height}};$.push(B)}for(const F of I){const B={...F,type:"position"};$.push(B)}L($)},onEnd:({width:P,height:I})=>{const L={id:y,type:"dimensions",resizing:!1,dimensions:{width:P,height:I}};b.getState().triggerNodeChanges([L])}})),N.current.update({controlPosition:R,boundaries:{minWidth:a,minHeight:u,maxWidth:l,maxHeight:c},keepAspectRatio:d,resizeDirection:f,onResizeStart:g,onResize:w,onResizeEnd:m,shouldResize:h}),()=>{var P;(P=N.current)==null||P.destroy()}},[R,a,u,l,c,d,g,w,m,h]);const q=R.split("-");return v.jsx("div",{className:tt(["react-flow__resize-control","nodrag",...q,r,n]),ref:_,style:{...i,scale:E,...o&&{[S?"backgroundColor":"borderColor"]:o}},children:s})}D.memo(Hq);const jR={},{useDebugValue:Uq}=we,{useSyncExternalStoreWithSelector:Wq}=XO;let mb=!1;const Gq=e=>e;function Kq(e,t=Gq,r){(jR?"production":void 0)!=="production"&&r&&!mb&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),mb=!0);const n=Wq(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Uq(n),n}const yb=e=>{(jR?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?QO(e):e,r=(n,i)=>Kq(t,n,i);return Object.assign(r,t),r},Yq=e=>e?yb(e):yb,Zq=[{key:"mode",label:"Input Mode",type:"enum",enum:["json","form"],required:!0,help:"JSON: Enter raw JSON | Form: Define fields with name, type, and value"},{key:"jsonPayload",label:"JSON Payload",type:"string",widget:"json-editor",required:!1,placeholder:`{
  "key": "value"
}`,help:"JSON mode: Enter test data in JSON format"},{key:"formFields",label:"Form Fields",type:"array",required:!1,help:"Form mode: Define fields with name, type, and value"}],Xq={key:"manual",name:"Manual Trigger",type:"trigger",inputs:Zq,outputs:[]};async function Qq(e){if(String(e.resolvedConfig.mode??"json")==="json"){const r=String(e.resolvedConfig.jsonPayload??"{}");let n;try{n=r.trim()?JSON.parse(r):{}}catch(i){throw new Error(`Invalid JSON payload: ${i.message}`)}return{output:n}}else{const r=e.resolvedConfig.formFields;if(!Array.isArray(r)||r.length===0)return{output:{}};const n={};return r.forEach(i=>{const s=i,o=String(s.fieldName??"").trim(),a=String(s.fieldType??"string"),u=String(s.fieldValue??"");if(o)switch(a){case"number":n[o]=u?parseFloat(u):0;break;case"boolean":n[o]=u.toLowerCase()==="true"||u==="1";break;case"array":try{const l=u?JSON.parse(u):[];n[o]=Array.isArray(l)?l:[l]}catch{n[o]=u?u.split(",").map(l=>l.trim()):[]}break;case"object":try{const l=u?JSON.parse(u):{};n[o]=l&&typeof l=="object"&&!Array.isArray(l)?l:{}}catch{n[o]={}}break;case"string":default:n[o]=u;break}}),{output:n}}}const Jq={key:"manual",schema:Xq,createInitialConfig:()=>({mode:"json",jsonPayload:`[
  {"id": 1, "name": "Alice", "status": "active", "age": 25},
  {"id": 2, "name": "Bob", "status": "inactive", "age": 30},
  {"id": 3, "name": "Charlie", "status": "active", "age": 35},
  {"id": 4, "name": "David", "status": "pending", "age": 28},
  {"id": 5, "name": "Eve", "status": "active", "age": 22}
]`,formFields:[{fieldName:"users",fieldType:"array",fieldValue:'[{"id":1,"name":"Alice","status":"active"},{"id":2,"name":"Bob","status":"inactive"}]'}]}),run:Qq},e5=[{key:"method",label:"Method",type:"enum",enum:["GET","POST","PUT","PATCH","DELETE"],required:!0,default:"GET",group:"inputs"},{key:"url",label:"Request URL",type:"url",required:!0,placeholder:"https://api.example.com/resource",help:"Full URL or use tokens like {{steps.manual1.apiUrl}}",group:"inputs"},{key:"queryParams",label:"Query Params",type:"array",widget:"keyValue",group:"inputs"},{key:"headers",label:"Headers",type:"array",widget:"keyValueWithType",group:"inputs"},{key:"bodyMode",label:"Body Mode",type:"enum",enum:["none","json","form","multipart"],default:"none",group:"inputs"},{key:"jsonBody",label:"JSON Body",type:"string",widget:"json-editor",help:"Request body as JSON. Tokens are supported.",group:"inputs"},{key:"formBody",label:"Form Body",type:"array",widget:"keyValue",group:"inputs"},{key:"multipartBody",label:"Multipart Body",type:"array",widget:"keyValueWithType",group:"inputs"},{key:"authType",label:"Auth Type",type:"enum",enum:["none","bearer","basic"],default:"none",group:"auth"},{key:"authBearerToken",label:"Bearer Token",type:"string",help:"Can use tokens like {{steps.manual1.apiKey}}",group:"auth"},{key:"authBasicUsername",label:"Basic Auth Username",type:"string",help:"Can use tokens for dynamic username",group:"auth"},{key:"authBasicPassword",label:"Basic Auth Password",type:"string",help:"Can use tokens for dynamic password",group:"auth"},{key:"timeoutMs",label:"Timeout (ms)",type:"number",default:3e4,group:"advanced"},{key:"retryCount",label:"Retry Count",type:"number",default:0,group:"advanced"},{key:"retryBackoff",label:"Retry Backoff",type:"enum",enum:["none","exponential"],default:"none",group:"advanced"},{key:"followRedirects",label:"Follow Redirects",type:"boolean",default:!0,group:"advanced"},{key:"validationNotes",label:"Validation",type:"string",widget:"textarea",help:"Document validation scenarios or notes. Use Fuzz button to auto-fill edge cases.",group:"validation"}],t5={key:"http",name:"HTTP Request",type:"action",inputs:e5,outputs:[{key:"status",type:"number"},{key:"statusText",type:"string"},{key:"durationMs",type:"number"},{key:"size",type:"number"},{key:"headers",type:"object"},{key:"body",type:"object"},{key:"raw",type:"string"}]};function MR(e,t){return function(){return e.apply(t,arguments)}}const{toString:r5}=Object.prototype,{getPrototypeOf:p0}=Object,{iterator:Xl,toStringTag:LR}=Symbol,Ql=(e=>t=>{const r=r5.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Sr=e=>(e=e.toLowerCase(),t=>Ql(t)===e),Jl=e=>t=>typeof t===e,{isArray:ks}=Array,ys=Jl("undefined");function ca(e){return e!==null&&!ys(e)&&e.constructor!==null&&!ys(e.constructor)&&At(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const FR=Sr("ArrayBuffer");function n5(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&FR(e.buffer),t}const i5=Jl("string"),At=Jl("function"),$R=Jl("number"),da=e=>e!==null&&typeof e=="object",s5=e=>e===!0||e===!1,bu=e=>{if(Ql(e)!=="object")return!1;const t=p0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(LR in e)&&!(Xl in e)},o5=e=>{if(!da(e)||ca(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},a5=Sr("Date"),u5=Sr("File"),l5=Sr("Blob"),c5=Sr("FileList"),d5=e=>da(e)&&At(e.pipe),f5=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||At(e.append)&&((t=Ql(e))==="formdata"||t==="object"&&At(e.toString)&&e.toString()==="[object FormData]"))},h5=Sr("URLSearchParams"),[p5,g5,m5,y5]=["ReadableStream","Request","Response","Headers"].map(Sr),v5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fa(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),ks(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(ca(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(n=0;n<o;n++)a=s[n],t.call(null,e[a],a,e)}}function qR(e,t){if(ca(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Zn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zR=e=>!ys(e)&&e!==Zn;function Ry(){const{caseless:e,skipUndefined:t}=zR(this)&&this||{},r={},n=(i,s)=>{const o=e&&qR(r,s)||s;bu(r[o])&&bu(i)?r[o]=Ry(r[o],i):bu(i)?r[o]=Ry({},i):ks(i)?r[o]=i.slice():(!t||!ys(i))&&(r[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&fa(arguments[i],n);return r}const x5=(e,t,r,{allOwnKeys:n}={})=>(fa(t,(i,s)=>{r&&At(i)?e[s]=MR(i,r):e[s]=i},{allOwnKeys:n}),e),w5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),b5=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},_5=(e,t,r,n)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=r!==!1&&p0(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},S5=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},E5=e=>{if(!e)return null;if(ks(e))return e;let t=e.length;if(!$R(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},k5=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&p0(Uint8Array)),C5=(e,t)=>{const n=(e&&e[Xl]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},N5=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},T5=Sr("HTMLFormElement"),O5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),vb=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),R5=Sr("RegExp"),VR=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};fa(r,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(n[s]=o||i)}),Object.defineProperties(e,n)},I5=e=>{VR(e,(t,r)=>{if(At(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(At(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},A5=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return ks(e)?n(e):n(String(e).split(t)),r},P5=()=>{},D5=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function j5(e){return!!(e&&At(e.append)&&e[LR]==="FormData"&&e[Xl])}const M5=e=>{const t=new Array(10),r=(n,i)=>{if(da(n)){if(t.indexOf(n)>=0)return;if(ca(n))return n;if(!("toJSON"in n)){t[i]=n;const s=ks(n)?[]:{};return fa(n,(o,a)=>{const u=r(o,i+1);!ys(u)&&(s[a]=u)}),t[i]=void 0,s}}return n};return r(e,0)},L5=Sr("AsyncFunction"),F5=e=>e&&(da(e)||At(e))&&At(e.then)&&At(e.catch),BR=((e,t)=>e?setImmediate:t?((r,n)=>(Zn.addEventListener("message",({source:i,data:s})=>{i===Zn&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Zn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",At(Zn.postMessage)),$5=typeof queueMicrotask<"u"?queueMicrotask.bind(Zn):typeof process<"u"&&process.nextTick||BR,q5=e=>e!=null&&At(e[Xl]),z={isArray:ks,isArrayBuffer:FR,isBuffer:ca,isFormData:f5,isArrayBufferView:n5,isString:i5,isNumber:$R,isBoolean:s5,isObject:da,isPlainObject:bu,isEmptyObject:o5,isReadableStream:p5,isRequest:g5,isResponse:m5,isHeaders:y5,isUndefined:ys,isDate:a5,isFile:u5,isBlob:l5,isRegExp:R5,isFunction:At,isStream:d5,isURLSearchParams:h5,isTypedArray:k5,isFileList:c5,forEach:fa,merge:Ry,extend:x5,trim:v5,stripBOM:w5,inherits:b5,toFlatObject:_5,kindOf:Ql,kindOfTest:Sr,endsWith:S5,toArray:E5,forEachEntry:C5,matchAll:N5,isHTMLForm:T5,hasOwnProperty:vb,hasOwnProp:vb,reduceDescriptors:VR,freezeMethods:I5,toObjectSet:A5,toCamelCase:O5,noop:P5,toFiniteNumber:D5,findKey:qR,global:Zn,isContextDefined:zR,isSpecCompliantForm:j5,toJSONObject:M5,isAsyncFn:L5,isThenable:F5,setImmediate:BR,asap:$5,isIterable:q5};function _e(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}z.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const HR=_e.prototype,UR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{UR[e]={value:e}});Object.defineProperties(_e,UR);Object.defineProperty(HR,"isAxiosError",{value:!0});_e.from=(e,t,r,n,i,s)=>{const o=Object.create(HR);z.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError");const a=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return _e.call(o,a,u,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const z5=null;function Iy(e){return z.isPlainObject(e)||z.isArray(e)}function WR(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function xb(e,t,r){return e?e.concat(t).map(function(i,s){return i=WR(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function V5(e){return z.isArray(e)&&!e.some(Iy)}const B5=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function ec(e,t,r){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!z.isUndefined(w[g])});const n=r.metaTokens,i=r.visitor||c,s=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(i))throw new TypeError("visitor must be a function");function l(h){if(h===null)return"";if(z.isDate(h))return h.toISOString();if(z.isBoolean(h))return h.toString();if(!u&&z.isBlob(h))throw new _e("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(h)||z.isTypedArray(h)?u&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function c(h,g,w){let m=h;if(h&&!w&&typeof h=="object"){if(z.endsWith(g,"{}"))g=n?g:g.slice(0,-2),h=JSON.stringify(h);else if(z.isArray(h)&&V5(h)||(z.isFileList(h)||z.endsWith(g,"[]"))&&(m=z.toArray(h)))return g=WR(g),m.forEach(function(y,b){!(z.isUndefined(y)||y===null)&&t.append(o===!0?xb([g],b,s):o===null?g:g+"[]",l(y))}),!1}return Iy(h)?!0:(t.append(xb(w,g,s),l(h)),!1)}const d=[],f=Object.assign(B5,{defaultVisitor:c,convertValue:l,isVisitable:Iy});function p(h,g){if(!z.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(h),z.forEach(h,function(m,x){(!(z.isUndefined(m)||m===null)&&i.call(t,m,z.isString(x)?x.trim():x,g,f))===!0&&p(m,g?g.concat(x):[x])}),d.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return p(e),t}function wb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function g0(e,t){this._pairs=[],e&&ec(e,this,t)}const GR=g0.prototype;GR.append=function(t,r){this._pairs.push([t,r])};GR.toString=function(t){const r=t?function(n){return t.call(this,n,wb)}:wb;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function H5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function KR(e,t,r){if(!t)return e;const n=r&&r.encode||H5;z.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=z.isURLSearchParams(t)?t.toString():new g0(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class bb{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(n){n!==null&&t(n)})}}const YR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},U5=typeof URLSearchParams<"u"?URLSearchParams:g0,W5=typeof FormData<"u"?FormData:null,G5=typeof Blob<"u"?Blob:null,K5={isBrowser:!0,classes:{URLSearchParams:U5,FormData:W5,Blob:G5},protocols:["http","https","file","blob","url","data"]},m0=typeof window<"u"&&typeof document<"u",Ay=typeof navigator=="object"&&navigator||void 0,Y5=m0&&(!Ay||["ReactNative","NativeScript","NS"].indexOf(Ay.product)<0),Z5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",X5=m0&&window.location.href||"http://localhost",Q5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:m0,hasStandardBrowserEnv:Y5,hasStandardBrowserWebWorkerEnv:Z5,navigator:Ay,origin:X5},Symbol.toStringTag,{value:"Module"})),yt={...Q5,...K5};function J5(e,t){return ec(e,new yt.classes.URLSearchParams,{visitor:function(r,n,i,s){return yt.isNode&&z.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function ez(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function tz(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function ZR(e){function t(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=s>=r.length;return o=!o&&z.isArray(i)?i.length:o,u?(z.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!z.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],s)&&z.isArray(i[o])&&(i[o]=tz(i[o])),!a)}if(z.isFormData(e)&&z.isFunction(e.entries)){const r={};return z.forEachEntry(e,(n,i)=>{t(ez(n),i,r,0)}),r}return null}function rz(e,t,r){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ha={transitional:YR,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=z.isObject(t);if(s&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return i?JSON.stringify(ZR(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return J5(t,this.formSerializer).toString();if((a=z.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ec(a?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),rz(t)):t}],transformResponse:[function(t){const r=this.transitional||ha.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?_e.from(a,_e.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yt.classes.FormData,Blob:yt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{ha.headers[e]={}});const nz=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iz=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&nz[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},_b=Symbol("internals");function Bs(e){return e&&String(e).trim().toLowerCase()}function _u(e){return e===!1||e==null?e:z.isArray(e)?e.map(_u):String(e)}function sz(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const oz=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function gd(e,t,r,n,i){if(z.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!z.isString(t)){if(z.isString(n))return t.indexOf(n)!==-1;if(z.isRegExp(n))return n.test(t)}}function az(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function uz(e,t){const r=z.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,o){return this[n].call(this,t,i,s,o)},configurable:!0})})}let Pt=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(a,u,l){const c=Bs(u);if(!c)throw new Error("header name must be a non-empty string");const d=z.findKey(i,c);(!d||i[d]===void 0||l===!0||l===void 0&&i[d]!==!1)&&(i[d||u]=_u(a))}const o=(a,u)=>z.forEach(a,(l,c)=>s(l,c,u));if(z.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(z.isString(t)&&(t=t.trim())&&!oz(t))o(iz(t),r);else if(z.isObject(t)&&z.isIterable(t)){let a={},u,l;for(const c of t){if(!z.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[l=c[0]]=(u=a[l])?z.isArray(u)?[...u,c[1]]:[u,c[1]]:c[1]}o(a,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=Bs(t),t){const n=z.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return sz(i);if(z.isFunction(r))return r.call(this,i,n);if(z.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Bs(t),t){const n=z.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||gd(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(o){if(o=Bs(o),o){const a=z.findKey(n,o);a&&(!r||gd(n,n[a],a,r))&&(delete n[a],i=!0)}}return z.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||gd(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return z.forEach(this,(i,s)=>{const o=z.findKey(n,s);if(o){r[o]=_u(i),delete r[s];return}const a=t?az(s):String(s).trim();a!==s&&delete r[s],r[a]=_u(i),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return z.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&z.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[_b]=this[_b]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Bs(o);n[a]||(uz(i,o),n[a]=!0)}return z.isArray(t)?t.forEach(s):s(t),this}};Pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(Pt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});z.freezeMethods(Pt);function md(e,t){const r=this||ha,n=t||r,i=Pt.from(n.headers);let s=n.data;return z.forEach(e,function(a){s=a.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function XR(e){return!!(e&&e.__CANCEL__)}function Cs(e,t,r){_e.call(this,e??"canceled",_e.ERR_CANCELED,t,r),this.name="CanceledError"}z.inherits(Cs,_e,{__CANCEL__:!0});function QR(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new _e("Request failed with status code "+r.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function lz(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function cz(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(u){const l=Date.now(),c=n[s];o||(o=l),r[i]=u,n[i]=l;let d=s,f=0;for(;d!==i;)f+=r[d++],d=d%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-o<t)return;const p=c&&l-c;return p?Math.round(f*1e3/p):void 0}}function dz(e,t){let r=0,n=1e3/t,i,s;const o=(l,c=Date.now())=>{r=c,i=null,s&&(clearTimeout(s),s=null),e(...l)};return[(...l)=>{const c=Date.now(),d=c-r;d>=n?o(l,c):(i=l,s||(s=setTimeout(()=>{s=null,o(i)},n-d)))},()=>i&&o(i)]}const al=(e,t,r=3)=>{let n=0;const i=cz(50,250);return dz(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,u=o-n,l=i(u),c=o<=a;n=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:l||void 0,estimated:l&&a&&c?(a-o)/l:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},r)},Sb=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Eb=e=>(...t)=>z.asap(()=>e(...t)),fz=yt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,yt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(yt.origin),yt.navigator&&/(msie|trident)/i.test(yt.navigator.userAgent)):()=>!0,hz=yt.hasStandardBrowserEnv?{write(e,t,r,n,i,s,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];z.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),z.isString(n)&&a.push(`path=${n}`),z.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),z.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function pz(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function gz(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function JR(e,t,r){let n=!pz(t);return e&&(n||r==!1)?gz(e,t):t}const kb=e=>e instanceof Pt?{...e}:e;function fi(e,t){t=t||{};const r={};function n(l,c,d,f){return z.isPlainObject(l)&&z.isPlainObject(c)?z.merge.call({caseless:f},l,c):z.isPlainObject(c)?z.merge({},c):z.isArray(c)?c.slice():c}function i(l,c,d,f){if(z.isUndefined(c)){if(!z.isUndefined(l))return n(void 0,l,d,f)}else return n(l,c,d,f)}function s(l,c){if(!z.isUndefined(c))return n(void 0,c)}function o(l,c){if(z.isUndefined(c)){if(!z.isUndefined(l))return n(void 0,l)}else return n(void 0,c)}function a(l,c,d){if(d in t)return n(l,c);if(d in e)return n(void 0,l)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,c,d)=>i(kb(l),kb(c),d,!0)};return z.forEach(Object.keys({...e,...t}),function(c){const d=u[c]||i,f=d(e[c],t[c],c);z.isUndefined(f)&&d!==a||(r[c]=f)}),r}const eI=e=>{const t=fi({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;if(t.headers=o=Pt.from(o),t.url=KR(JR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),z.isFormData(r)){if(yt.hasStandardBrowserEnv||yt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(z.isFunction(r.getHeaders)){const u=r.getHeaders(),l=["content-type","content-length"];Object.entries(u).forEach(([c,d])=>{l.includes(c.toLowerCase())&&o.set(c,d)})}}if(yt.hasStandardBrowserEnv&&(n&&z.isFunction(n)&&(n=n(t)),n||n!==!1&&fz(t.url))){const u=i&&s&&hz.read(s);u&&o.set(i,u)}return t},mz=typeof XMLHttpRequest<"u",yz=mz&&function(e){return new Promise(function(r,n){const i=eI(e);let s=i.data;const o=Pt.from(i.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:l}=i,c,d,f,p,h;function g(){p&&p(),h&&h(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function m(){if(!w)return;const y=Pt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:y,config:e,request:w};QR(function(E){r(E),g()},function(E){n(E),g()},_),w=null}"onloadend"in w?w.onloadend=m:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(m)},w.onabort=function(){w&&(n(new _e("Request aborted",_e.ECONNABORTED,e,w)),w=null)},w.onerror=function(b){const _=b&&b.message?b.message:"Network Error",S=new _e(_,_e.ERR_NETWORK,e,w);S.event=b||null,n(S),w=null},w.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||YR;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new _e(b,_.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,e,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&z.forEach(o.toJSON(),function(b,_){w.setRequestHeader(_,b)}),z.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),l&&([f,h]=al(l,!0),w.addEventListener("progress",f)),u&&w.upload&&([d,p]=al(u),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=y=>{w&&(n(!y||y.type?new Cs(null,e,w):y),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const x=lz(i.url);if(x&&yt.protocols.indexOf(x)===-1){n(new _e("Unsupported protocol "+x+":",_e.ERR_BAD_REQUEST,e));return}w.send(s||null)})},vz=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(l){if(!i){i=!0,a();const c=l instanceof Error?l:this.reason;n.abort(c instanceof _e?c:new Cs(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,s(new _e(`timeout ${t} of ms exceeded`,_e.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(s):l.removeEventListener("abort",s)}),e=null)};e.forEach(l=>l.addEventListener("abort",s));const{signal:u}=n;return u.unsubscribe=()=>z.asap(a),u}},xz=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},wz=async function*(e,t){for await(const r of bz(e))yield*xz(r,t)},bz=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Cb=(e,t,r,n)=>{const i=wz(e,t);let s=0,o,a=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:l,value:c}=await i.next();if(l){a(),u.close();return}let d=c.byteLength;if(r){let f=s+=d;r(f)}u.enqueue(new Uint8Array(c))}catch(l){throw a(l),l}},cancel(u){return a(u),i.return()}},{highWaterMark:2})},Nb=64*1024,{isFunction:Qa}=z,_z=(({Request:e,Response:t})=>({Request:e,Response:t}))(z.global),{ReadableStream:Tb,TextEncoder:Ob}=z.global,Rb=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Sz=e=>{e=z.merge.call({skipUndefined:!0},_z,e);const{fetch:t,Request:r,Response:n}=e,i=t?Qa(t):typeof fetch=="function",s=Qa(r),o=Qa(n);if(!i)return!1;const a=i&&Qa(Tb),u=i&&(typeof Ob=="function"?(h=>g=>h.encode(g))(new Ob):async h=>new Uint8Array(await new r(h).arrayBuffer())),l=s&&a&&Rb(()=>{let h=!1;const g=new r(yt.origin,{body:new Tb,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!g}),c=o&&a&&Rb(()=>z.isReadableStream(new n("").body)),d={stream:c&&(h=>h.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!d[h]&&(d[h]=(g,w)=>{let m=g&&g[h];if(m)return m.call(g);throw new _e(`Response type '${h}' is not supported`,_e.ERR_NOT_SUPPORT,w)})});const f=async h=>{if(h==null)return 0;if(z.isBlob(h))return h.size;if(z.isSpecCompliantForm(h))return(await new r(yt.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(z.isArrayBufferView(h)||z.isArrayBuffer(h))return h.byteLength;if(z.isURLSearchParams(h)&&(h=h+""),z.isString(h))return(await u(h)).byteLength},p=async(h,g)=>{const w=z.toFiniteNumber(h.getContentLength());return w??f(g)};return async h=>{let{url:g,method:w,data:m,signal:x,cancelToken:y,timeout:b,onDownloadProgress:_,onUploadProgress:S,responseType:E,headers:N,withCredentials:R="same-origin",fetchOptions:q}=eI(h),P=t||fetch;E=E?(E+"").toLowerCase():"text";let I=vz([x,y&&y.toAbortSignal()],b),L=null;const k=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let j;try{if(S&&l&&w!=="get"&&w!=="head"&&(j=await p(N,m))!==0){let B=new r(g,{method:"POST",body:m,duplex:"half"}),H;if(z.isFormData(m)&&(H=B.headers.get("content-type"))&&N.setContentType(H),B.body){const[Q,Z]=Sb(j,al(Eb(S)));m=Cb(B.body,Nb,Q,Z)}}z.isString(R)||(R=R?"include":"omit");const A=s&&"credentials"in r.prototype,$={...q,signal:I,method:w.toUpperCase(),headers:N.normalize().toJSON(),body:m,duplex:"half",credentials:A?R:void 0};L=s&&new r(g,$);let C=await(s?P(L,q):P(g,$));const T=c&&(E==="stream"||E==="response");if(c&&(_||T&&k)){const B={};["status","statusText","headers"].forEach(ne=>{B[ne]=C[ne]});const H=z.toFiniteNumber(C.headers.get("content-length")),[Q,Z]=_&&Sb(H,al(Eb(_),!0))||[];C=new n(Cb(C.body,Nb,Q,()=>{Z&&Z(),k&&k()}),B)}E=E||"text";let F=await d[z.findKey(d,E)||"text"](C,h);return!T&&k&&k(),await new Promise((B,H)=>{QR(B,H,{data:F,headers:Pt.from(C.headers),status:C.status,statusText:C.statusText,config:h,request:L})})}catch(A){throw k&&k(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,h,L),{cause:A.cause||A}):_e.from(A,A&&A.code,h,L)}}},Ez=new Map,tI=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,s=[n,i,r];let o=s.length,a=o,u,l,c=Ez;for(;a--;)u=s[a],l=c.get(u),l===void 0&&c.set(u,l=a?new Map:Sz(t)),c=l;return l};tI();const y0={http:z5,xhr:yz,fetch:{get:tI}};z.forEach(y0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ib=e=>`- ${e}`,kz=e=>z.isFunction(e)||e===null||e===!1;function Cz(e,t){e=z.isArray(e)?e:[e];const{length:r}=e;let n,i;const s={};for(let o=0;o<r;o++){n=e[o];let a;if(i=n,!kz(n)&&(i=y0[(a=String(n)).toLowerCase()],i===void 0))throw new _e(`Unknown adapter '${a}'`);if(i&&(z.isFunction(i)||(i=i.get(t))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([u,l])=>`adapter ${u} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(Ib).join(`
`):" "+Ib(o[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const rI={getAdapter:Cz,adapters:y0};function yd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cs(null,e)}function Ab(e){return yd(e),e.headers=Pt.from(e.headers),e.data=md.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rI.getAdapter(e.adapter||ha.adapter,e)(e).then(function(n){return yd(e),n.data=md.call(e,e.transformResponse,n),n.headers=Pt.from(n.headers),n},function(n){return XR(n)||(yd(e),n&&n.response&&(n.response.data=md.call(e,e.transformResponse,n.response),n.response.headers=Pt.from(n.response.headers))),Promise.reject(n)})}const nI="1.13.1",tc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tc[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Pb={};tc.transitional=function(t,r,n){function i(s,o){return"[Axios v"+nI+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(t===!1)throw new _e(i(o," has been removed"+(r?" in "+r:"")),_e.ERR_DEPRECATED);return r&&!Pb[o]&&(Pb[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,a):!0}};tc.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Nz(e,t,r){if(typeof e!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],o=t[s];if(o){const a=e[s],u=a===void 0||o(a,s,e);if(u!==!0)throw new _e("option "+s+" must be "+u,_e.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new _e("Unknown option "+s,_e.ERR_BAD_OPTION)}}const Su={assertOptions:Nz,validators:tc},Nr=Su.validators;let ni=class{constructor(t){this.defaults=t||{},this.interceptors={request:new bb,response:new bb}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=fi(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Su.assertOptions(n,{silentJSONParsing:Nr.transitional(Nr.boolean),forcedJSONParsing:Nr.transitional(Nr.boolean),clarifyTimeoutError:Nr.transitional(Nr.boolean)},!1),i!=null&&(z.isFunction(i)?r.paramsSerializer={serialize:i}:Su.assertOptions(i,{encode:Nr.function,serialize:Nr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Su.assertOptions(r,{baseUrl:Nr.spelling("baseURL"),withXsrfToken:Nr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&z.merge(s.common,s[r.method]);s&&z.forEach(["delete","get","head","post","put","patch","common"],h=>{delete s[h]}),r.headers=Pt.concat(o,s);const a=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(u=u&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const l=[];this.interceptors.response.forEach(function(g){l.push(g.fulfilled,g.rejected)});let c,d=0,f;if(!u){const h=[Ab.bind(this),void 0];for(h.unshift(...a),h.push(...l),f=h.length,c=Promise.resolve(r);d<f;)c=c.then(h[d++],h[d++]);return c}f=a.length;let p=r;for(;d<f;){const h=a[d++],g=a[d++];try{p=h(p)}catch(w){g.call(this,w);break}}try{c=Ab.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,f=l.length;d<f;)c=c.then(l[d++],l[d++]);return c}getUri(t){t=fi(this.defaults,t);const r=JR(t.baseURL,t.url,t.allowAbsoluteUrls);return KR(r,t.params,t.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(t){ni.prototype[t]=function(r,n){return this.request(fi(n||{},{method:t,url:r,data:(n||{}).data}))}});z.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,a){return this.request(fi(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ni.prototype[t]=r(),ni.prototype[t+"Form"]=r(!0)});let Tz=class iI{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,a){n.reason||(n.reason=new Cs(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new iI(function(i){t=i}),cancel:t}}};function Oz(e){return function(r){return e.apply(null,r)}}function Rz(e){return z.isObject(e)&&e.isAxiosError===!0}const Py={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Py).forEach(([e,t])=>{Py[t]=e});function sI(e){const t=new ni(e),r=MR(ni.prototype.request,t);return z.extend(r,ni.prototype,t,{allOwnKeys:!0}),z.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return sI(fi(e,i))},r}const Ze=sI(ha);Ze.Axios=ni;Ze.CanceledError=Cs;Ze.CancelToken=Tz;Ze.isCancel=XR;Ze.VERSION=nI;Ze.toFormData=ec;Ze.AxiosError=_e;Ze.Cancel=Ze.CanceledError;Ze.all=function(t){return Promise.all(t)};Ze.spread=Oz;Ze.isAxiosError=Rz;Ze.mergeConfig=fi;Ze.AxiosHeaders=Pt;Ze.formToJSON=e=>ZR(z.isHTMLForm(e)?new FormData(e):e);Ze.getAdapter=rI.getAdapter;Ze.HttpStatusCode=Py;Ze.default=Ze;const{Axios:LK,AxiosError:FK,CanceledError:$K,isCancel:qK,CancelToken:zK,VERSION:VK,all:BK,Cancel:HK,isAxiosError:UK,spread:WK,toFormData:GK,AxiosHeaders:KK,HttpStatusCode:YK,formToJSON:ZK,getAdapter:XK,mergeConfig:QK}=Ze;async function Iz(e){return(await Ze.post("/api/http/run",e,{timeout:e.timeoutMs??15e3})).data.data}const Az=/\{\{\s*steps\.([\w-]+)([^}]*)\}\}/g,Pz=["password","token","authorization","secret","apiKey"];function Dz(e,t){return Dy(e,t)}function Dy(e,t){if(typeof e=="string")return jz(e,t);if(Array.isArray(e))return e.map(r=>Dy(r,t));if(e!==null&&typeof e=="object"){const r=Object.entries(e).map(([n,i])=>[n,Dy(i,t)]);return Object.fromEntries(r)}return e}function jz(e,t){const r=Array.from(e.matchAll(Az));if(r.length===0)return e;const n=r.length===1&&r[0][0].trim()===e.trim();let i=e;for(const s of r){const[o,a,u]=s,l=t[`steps.${a}`];if(typeof l>"u"){i=i.replace(o,"");continue}const c=Mz(l,u),d=typeof c>"u"?"":c;if(n)return d;i=i.replace(o,String(d))}return i}function Mz(e,t){if(!t)return e;const n=t.replace(/^\./,"").split(/\.|\[(\d+)\]/).filter(Boolean).map(s=>s.replace(/^['"]|['"]$/g,""));let i=e;for(const s of n){if(i===null||typeof i!="object")return;if(Array.isArray(i)&&i.length>0){const o=Number(s);if(!Number.isNaN(o))i=i[o];else if(i=i[0],i&&typeof i=="object")i=i[s];else return}else{const o=Number(s);!Number.isNaN(o)&&Array.isArray(i)?i=i[o]:i=i[s]}}return i}function es(e,t){if(typeof e=="string"&&t&&Pz.some(n=>t.toLowerCase().includes(n)))return"";if(Array.isArray(e))return e.map(r=>es(r));if(e!==null&&typeof e=="object"){if("sensitive"in e&&e.sensitive)return{...e,value:""};const r=Object.entries(e).map(([n,i])=>[n,es(i,n)]);return Object.fromEntries(r)}return e}async function Lz(e){const t=Fz(e.resolvedConfig),r=await Iz(t);return{output:{status:r.metadata.status,headers:r.responseHeaders,body:r.responseBody},status:r.metadata.status,durationMs:r.metadata.durationMs,requestPreview:{...r.requestPreview,headers:es(r.requestPreview.headers)},response:r}}function Fz(e){const t=e.method??"GET",r=Ja(e.headers),n=Ja(e.queryParams),i=Ja(e.formBody),s=Ja(e.multipartBody),o=e.bodyMode??"none",a=e.authType??"none",u=e.retryBackoff;return{method:t,url:String(e.url??""),queryParams:n,headers:r,bodyMode:o==="none"?void 0:o,jsonBody:e.jsonBody,formBody:i,multipartBody:s.map(l=>({key:l.key,value:l.value,type:l.type==="file"?"file":"text"})),authType:a,authBearerToken:e.authBearerToken,authBasicUsername:e.authBasicUsername,authBasicPassword:e.authBasicPassword,timeoutMs:e.timeoutMs?Number(e.timeoutMs):void 0,retryCount:e.retryCount?Number(e.retryCount):void 0,retryBackoff:u==="none"?void 0:u,followRedirects:typeof e.followRedirects=="boolean"?e.followRedirects:!0}}function Ja(e){return Array.isArray(e)?e.filter(t=>t&&typeof t=="object"&&"key"in t).map(t=>({key:String(t.key??""),value:String(t.value??""),sensitive:!!t.sensitive,type:t.type})).filter(t=>t.key.length>0):[]}const $z={key:"http",schema:t5,createInitialConfig:()=>({method:"GET",url:"https://jsonplaceholder.typicode.com/users/1",bodyMode:"none",queryParams:[],headers:[],formBody:[],multipartBody:[],authType:"none",timeoutMs:3e4,retryCount:0,retryBackoff:"none",followRedirects:!0}),run:Lz},qz=[{key:"mode",label:"Mode",type:"enum",enum:["simple","multi"],default:"simple",help:"Simple: single condition. Multi: multiple conditions with AND/OR logic",group:"inputs"},{key:"leftValue",label:"Left Value",type:"string",placeholder:"{{steps.http1.output.status}}",group:"inputs"},{key:"operator",label:"Operator",type:"enum",enum:["==","!=",">","<",">=","<=","contains","startsWith","endsWith","isEmpty","isNotEmpty"],default:"==",group:"inputs"},{key:"rightValue",label:"Right Value",type:"string",placeholder:"200",help:"Not needed for isEmpty/isNotEmpty operators",group:"inputs"},{key:"logic",label:"Logic Operator",type:"enum",enum:["AND","OR"],default:"AND",help:"For multi mode: how to combine multiple conditions",group:"inputs"},{key:"conditions",label:"Conditions",type:"array",help:"For multi mode: add multiple conditions to evaluate",group:"inputs"}],zz={key:"if",name:"IF Condition",type:"utility",inputs:qz,outputs:[{key:"TRUE",type:"object",label:"TRUE Branch"},{key:"FALSE",type:"object",label:"FALSE Branch"}]};function rc(e){if(!e||!e.includes("{{"))return e;const t=e.match(/\{\{steps\.[^.]+\.(.+?)\}\}/);return t&&t[1]?t[1].trim():e}function Db(e){const t=rc(e),r=t.match(/^([^.\[]+)/);return r?r[1]:t}function ul(e,t){if(!e||typeof e!="object")return;if(!t)return e;const r=t.split(/\.|\[(\d+)\]/).filter(Boolean).map(i=>i.replace(/^['"]|['"]$/g,""));let n=e;for(const i of r){if(n==null)return;const s=Number(i);!Number.isNaN(s)&&Array.isArray(n)?n=n[s]:n=n[i]}return n}function pa(e,t){if(e==null)return null;if(typeof e!="object"||Array.isArray(e))return e;const r=e;return t==="switch"||Vz(r)?Hz(r):t==="if"||Bz(r)?Uz(r):e}function Vz(e){return Object.keys(e).some(t=>t.startsWith("case_")||t==="default")}function Bz(e){return"TRUE"in e||"FALSE"in e}function Hz(e){for(let t=0;t<10;t++){const r=`case_${t}`,n=e[r];if(n!=null&&(Array.isArray(n)&&n.length>0||n!=null))return n}return e.default!=null?e.default:e}function Uz(e){const t=e.TRUE,r=e.FALSE;return Array.isArray(t)&&Array.isArray(r)?[...t,...r]:t!=null&&(r==null||Array.isArray(r)&&r.length===0)?t:r!=null&&(t==null||Array.isArray(t)&&t.length===0)?r:e}async function Wz(e){return String(e.resolvedConfig.mode??"simple")==="simple"?Gz(e):Kz(e)}function Gz(e){const t=String(e.resolvedConfig.leftValue??""),r=String(e.resolvedConfig.operator??"=="),n=String(e.resolvedConfig.rightValue??"");let i=e.resolvedConfig.__previousOutput||{};if(i=pa(i,e.previousNodeType),Array.isArray(i)||typeof i=="object"&&i!==null&&Object.values(i).some(o=>Array.isArray(o))){const o=String(e.config.leftValue??"");return Yz(i,o,r,n)}else{const o=v0(t,r,n);return{output:{TRUE:o?i:{},FALSE:o?{}:i}}}}function Kz(e){const t=String(e.resolvedConfig.logic??"AND"),r=e.resolvedConfig.conditions;let n=[];if(Array.isArray(r))n=r;else if(typeof r=="string"&&r.trim())try{if(n=JSON.parse(r),!Array.isArray(n))throw new Error("Conditions must be an array")}catch(o){throw new Error(`Invalid conditions JSON: ${o.message}`)}if(n.length===0)throw new Error("Multi mode requires at least one condition");const i=n.map(o=>{const a=String(o.leftValue??""),u=String(o.operator??"=="),l=String(o.rightValue??"");return v0(a,u,l)});if(t==="AND")i.every(Boolean);else if(t==="OR")i.some(Boolean);else throw new Error(`Unsupported logic operator: ${t}`);const s=e.resolvedConfig.__previousOutput||{};return{output:{TRUE:s,FALSE:s}}}function Yz(e,t,r,n){const i=rc(t);let s=[];if(Array.isArray(e))s=e;else if(typeof e=="object"&&e!==null){const u=Object.values(e).find(l=>Array.isArray(l));u&&(s=u)}const o=[],a=[];for(const u of s)if(u&&typeof u=="object"){const l=String(ul(u,i)??"");v0(l,r,n)?o.push(u):a.push(u)}return{output:{TRUE:o,FALSE:a}}}function v0(e,t,r){switch(t){case"==":return e===r;case"!=":return e!==r;case">":return Number(e)>Number(r);case"<":return Number(e)<Number(r);case">=":return Number(e)>=Number(r);case"<=":return Number(e)<=Number(r);case"contains":return e.includes(r);case"startsWith":return e.startsWith(r);case"endsWith":return e.endsWith(r);case"isEmpty":return e.trim()==="";case"isNotEmpty":return e.trim()!=="";default:throw new Error(`Unsupported operator: ${t}`)}}const Zz={key:"if",schema:zz,createInitialConfig:()=>({mode:"simple",leftValue:"",operator:"==",rightValue:"",logic:"AND",conditions:[]}),run:Wz},Xz=[{key:"mode",label:"Mode",type:"enum",enum:["single","filter"],required:!0,help:"Single: match one value | Filter: split array by field value"},{key:"value",label:"Value / Array",type:"string",required:!0,placeholder:"{{steps.setVariable1}} or {{steps.http1.status}}",help:"Single mode: value to match | Filter mode: array to split"},{key:"filterPath",label:"Filter Path",type:"string",required:!1,placeholder:"status",help:"Filter mode only: object property to check (e.g., 'status', 'type')"},{key:"cases",label:"Cases",type:"array",required:!0,help:"List of case values. Each case will create an output handle."},{key:"defaultCase",label:"Default Case",type:"string",required:!1,placeholder:"default",help:"Label for the default case when no match is found"}],Qz={key:"switch",name:"Switch",type:"utility",inputs:Xz,outputs:[]};async function Jz(e){const t=String(e.resolvedConfig.mode??"single"),r=e.resolvedConfig.value,n=e.resolvedConfig.cases,i=String(e.resolvedConfig.defaultCase??"default"),s=String(e.config.filterPath??"");if(!Array.isArray(n)||n.length===0)throw new Error("Switch node requires at least one case");const o=n.map(a=>String(a??""));return t==="filter"?tV(r,o,s):eV(r,o,i)}function eV(e,t,r){const n=String(e??""),i=t.findIndex(a=>a===n),s=i>=0?t[i]:null,o={};return t.forEach((a,u)=>{const l=`case_${u}`;o[l]=a===s?{value:n,matchedCase:a}:null}),o.default=s===null?{value:n,matchedCase:r}:null,{output:o}}function tV(e,t,r,n){if(!Array.isArray(e))throw new Error("Filter mode requires an array input");if(!r)throw new Error("Filter mode requires a filterPath (e.g., 'status', 'type')");const i=rc(r),s={};return t.forEach((o,a)=>{const u=`case_${a}`;s[u]=[]}),s.default=[],e.forEach(o=>{if(o&&typeof o=="object"){const a=String(ul(o,i)??""),u=t.findIndex(l=>l===a);if(u>=0){const l=`case_${u}`;s[l].push(o)}else s.default.push(o)}}),{output:s}}const rV={key:"switch",schema:Qz,createInitialConfig:()=>({mode:"filter",value:"",filterPath:"status",cases:["active","inactive","pending"],defaultCase:"other"}),run:Jz},nV=[{key:"conditions",label:"Filter Conditions",type:"array",help:"List of conditions. Each has: field (token), fieldType (string/number/etc), operator, value",group:"inputs"},{key:"logic",label:"Logic Operator",type:"enum",enum:["AND","OR"],default:"AND",help:"AND: all conditions must pass | OR: at least one condition must pass",group:"inputs"},{key:"mode",label:"Filter Mode",type:"enum",enum:["include","exclude"],default:"include",help:"Include: keep matching items | Exclude: remove matching items",group:"inputs"}],iV={key:"filter",name:"Filter",type:"utility",inputs:nV,outputs:[{key:"filtered",type:"array",label:"Filtered Items"},{key:"removed",type:"array",label:"Removed Items"},{key:"summary",type:"object",label:"Summary Stats"}]};async function sV(e){console.log("[Filter Runtime] Starting execution"),console.log("[Filter Runtime] Raw config:",e.config),console.log("[Filter Runtime] Resolved config:",e.resolvedConfig);const t=e.resolvedConfig.conditions??[],r=String(e.resolvedConfig.mode??"include"),n=String(e.resolvedConfig.logic??"AND");console.log("[Filter Runtime] Parsed conditions:",t),console.log("[Filter Runtime] Mode:",r,"Logic:",n);let i=e.resolvedConfig.__previousOutput||{};i=pa(i,e.previousNodeType),console.log("[Filter Runtime] Previous data (after smart unwrap):",i),console.log("[Filter Runtime] Previous node type:",e.previousNodeType);const s=e.config.conditions??[];if(console.log("[Filter Runtime] Raw conditions (with tokens):",s),!Array.isArray(s)||s.length===0)throw new Error("Filter node requires at least one condition");let o=[];if(Array.isArray(i))o=i,console.log("[Filter Runtime] Using previous data as array, length:",o.length);else if(i&&typeof i=="object"){const l=Object.values(i).find(c=>Array.isArray(c));l?(o=l,console.log("[Filter Runtime] Found array field in previous data, length:",o.length)):console.log("[Filter Runtime] No array found in previous data, object keys:",Object.keys(i))}else console.log("[Filter Runtime] Previous data is not object or array, type:",typeof i);if(o.length===0)return console.warn(`[Filter Runtime] No data to filter. Previous node type: ${e.previousNodeType||"unknown"}. Expected array input, got: ${Array.isArray(i)?"empty array":typeof i}`),{output:{filtered:[],removed:[],summary:{total:0,filtered:0,removed:0}}};const a=oV(o,s,r,n);return console.log("[Filter Runtime] Filter result:",a),console.log("[Filter Runtime] Filtered count:",a.filtered.length),console.log("[Filter Runtime] Removed count:",a.removed.length),{output:a.filtered}}function oV(e,t,r,n){const i=d=>{if(d==null)return"unknown";if(Array.isArray(d))return"array";if(typeof d=="boolean")return"boolean";if(typeof d=="number")return"number";if(typeof d=="string"){const f=new Date(d);return!isNaN(f.getTime())&&d.match(/\d{4}-\d{2}-\d{2}/)?"date":"string"}return typeof d=="object"?"object":"string"},s=(d,f)=>{if(!d)return d;switch(f){case"number":const p=Number(d);return isNaN(p)?(console.warn(`[Filter] Invalid number value: "${d}"`),0):p;case"boolean":const h=String(d).toLowerCase();return h==="true"||h==="1";case"date":const g=new Date(d);return isNaN(g.getTime())?(console.warn(`[Filter] Invalid date value: "${d}"`),new Date):g;default:return String(d)}},o=(d,f)=>{console.log("[Filter Eval] ===== Evaluating Condition ====="),console.log("[Filter Eval] Raw condition:",JSON.stringify(f));const p=rc(f.field);console.log(`[Filter Eval] Field: "${f.field}" -> Extracted path: "${p}"`);const h=ul(d,p),g=f.value,w=f.fieldType||"string",m=s(g,w);console.log(`[Filter Eval] Item value from field "${p}": ${h} (type: ${typeof h})`),console.log(`[Filter Eval] Raw compare value: "${g}" -> Converted: ${m} (type: ${typeof m})`),console.log(`[Filter Eval] Field type: ${w}, Operator: "${f.operator}"`);const x=i(h);if(["exists","does not exist","is empty","is not empty"].includes(f.operator)||x!=="unknown"&&x!==w&&w!=="object"&&console.warn(`[Filter] Type mismatch for field "${p}": expected ${w}, got ${x}. This may cause incorrect filtering results.`),w==="string"){const b=String(h??""),_=String(m);switch(f.operator){case"==":case"is equal to":return b===_;case"!=":case"is not equal to":return b!==_;case"contains":return b.includes(_);case"does not contain":return!b.includes(_);case"startsWith":case"starts with":return b.startsWith(_);case"does not start with":return!b.startsWith(_);case"endsWith":case"ends with":return b.endsWith(_);case"does not end with":return!b.endsWith(_);case"isEmpty":case"is empty":return b==="";case"isNotEmpty":case"is not empty":return b!=="";case"exists":return h!=null;case"does not exist":return h==null;case"matches regex":try{return new RegExp(_).test(b)}catch{return!1}case"does not match regex":try{return!new RegExp(_).test(b)}catch{return!0}default:return!1}}if(w==="number"){const b=Number(h),_=m;switch(console.log(`[Filter Number] numValue: ${b} (${typeof b}), numCompare: ${_} (${typeof _})`),f.operator){case"==":case"is equal to":const S=b===_;return console.log(`[Filter Number] ${b} === ${_} = ${S}`),S;case"!=":case"is not equal to":return b!==_;case">":case"is greater than":return b>_;case"<":case"is less than":return b<_;case">=":case"is greater than or equal to":return b>=_;case"<=":case"is less than or equal to":return b<=_;case"exists":return h!=null;case"does not exist":return h==null;case"is empty":return h==null||h==="";case"is not empty":return h!=null&&h!=="";default:return!1}}if(w==="boolean"){const b=!!h,_=m;switch(f.operator){case"is true":return b===!0;case"is false":return b===!1;case"==":case"is equal to":return b===_;case"!=":case"is not equal to":return b!==_;case"exists":return h!=null;case"does not exist":return h==null;case"is empty":return h==null||h==="";case"is not empty":return h!=null&&h!=="";default:return!1}}if(w==="date"||w==="datetime"){const b=new Date(h),_=m;if(isNaN(b.getTime()))return console.warn(`[Filter Date] Invalid date value: ${h}`),!1;if(!(_ instanceof Date)||isNaN(_.getTime()))return console.warn(`[Filter Date] Invalid compare date: ${m}`),!1;switch(f.operator){case"==":case"is equal to":return b.getTime()===_.getTime();case"!=":case"is not equal to":return b.getTime()!==_.getTime();case">":case"is after":return b>_;case"<":case"is before":return b<_;case">=":case"is after or equal to":return b>=_;case"<=":case"is before or equal to":return b<=_;case"exists":return h!=null;case"does not exist":return h==null;case"is empty":return h==null||h==="";case"is not empty":return h!=null&&h!=="";default:return!1}}if(w==="array"){const b=Array.isArray(h)?h:[];switch(f.operator){case"contains":return b.includes(m);case"does not contain":return!b.includes(m);case"length equal to":return b.length===Number(m);case"length not equal to":return b.length!==Number(m);case"length greater than":return b.length>Number(m);case"length less than":return b.length<Number(m);case"length greater than or equal to":return b.length>=Number(m);case"length less than or equal to":return b.length<=Number(m);case"is empty":return b.length===0;case"is not empty":return b.length>0;case"exists":return h!=null;case"does not exist":return h==null;default:return!1}}switch(f.operator){case"exists":return h!=null;case"does not exist":return h==null;case"is empty":return h==null||h===""||typeof h=="object"&&Object.keys(h).length===0;case"is not empty":return h!=null&&h!==""&&!(typeof h=="object"&&Object.keys(h).length===0);default:return!1}},a=[],u=[],l=[];e.length>0&&t.forEach(d=>{const f=d.field.match(/\{\{steps\.[^.]+\.(.+?)\}\}/),p=f?f[1]:d.field,h=ul(e[0],p),g=i(h),w=d.fieldType;["exists","does not exist","is empty","is not empty"].includes(d.operator)||g!=="unknown"&&g!==w&&w!=="object"&&l.push(`Field "${p}": expected type "${w}" but got "${g}"`)}),console.log(`
[Filter] ========== Starting to filter items ==========`),console.log("[Filter] Total items to process:",e.length),console.log("[Filter] Conditions to apply:",t),e.forEach((d,f)=>{console.log(`
[Filter] ========== Item ${f} ==========`),console.log("[Filter] Item data:",JSON.stringify(d));let p;n==="AND"?p=t.every((h,g)=>{console.log(`
[Filter AND] Evaluating condition ${g+1}/${t.length}`);const w=o(d,h);return console.log(`[Filter AND] Condition ${g+1} result: ${w}`),w}):p=t.some((h,g)=>{console.log(`
[Filter OR] Evaluating condition ${g+1}/${t.length}`);const w=o(d,h);return console.log(`[Filter OR] Condition ${g+1} result: ${w}`),w}),console.log(`
[Filter] Item ${f} FINAL: conditions pass = ${p} (logic: ${n})`),r==="include"?p?a.push(d):u.push(d):p?u.push(d):a.push(d)});const c={filtered:a,removed:u,summary:{total:e.length,filtered:a.length,removed:u.length}};return l.length>0&&(c.summary.warnings=l),c}const aV={key:"filter",schema:iV,createInitialConfig:()=>({conditions:[{field:"",fieldType:"string",operator:"is equal to",value:""}],logic:"AND",mode:"include"}),run:sV};var Pe;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Pe||(Pe={}));var jb;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(jb||(jb={}));const se=Pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mn=e=>{switch(typeof e){case"undefined":return se.undefined;case"string":return se.string;case"number":return Number.isNaN(e)?se.nan:se.number;case"boolean":return se.boolean;case"function":return se.function;case"bigint":return se.bigint;case"symbol":return se.symbol;case"object":return Array.isArray(e)?se.array:e===null?se.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?se.promise:typeof Map<"u"&&e instanceof Map?se.map:typeof Set<"u"&&e instanceof Set?se.set:typeof Date<"u"&&e instanceof Date?se.date:se.object;default:return se.unknown}},K=Pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class nn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){const l=o.path[u];u===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],u++}}};return i(this),n}static assert(t){if(!(t instanceof nn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}nn.create=e=>new nn(e);const jy=(e,t)=>{let r;switch(e.code){case K.invalid_type:e.received===se.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case K.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Pe.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:r=`Unrecognized key(s) in object: ${Pe.joinValues(e.keys,", ")}`;break;case K.invalid_union:r="Invalid input";break;case K.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Pe.joinValues(e.options)}`;break;case K.invalid_enum_value:r=`Invalid enum value. Expected ${Pe.joinValues(e.options)}, received '${e.received}'`;break;case K.invalid_arguments:r="Invalid function arguments";break;case K.invalid_return_type:r="Invalid function return type";break;case K.invalid_date:r="Invalid date";break;case K.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Pe.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case K.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case K.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case K.custom:r="Invalid input";break;case K.invalid_intersection_types:r="Intersection results could not be merged";break;case K.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case K.not_finite:r="Number must be finite";break;default:r=t.defaultError,Pe.assertNever(e)}return{message:r}};let uV=jy;function lV(){return uV}const cV=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const u=n.filter(l=>!!l).slice().reverse();for(const l of u)a=l(o,{data:t,defaultError:a}).message;return{...i,path:s,message:a}};function ee(e,t){const r=lV(),n=cV({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===jy?void 0:jy].filter(i=>!!i)});e.common.issues.push(n)}class Ut{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return ye;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return Ut.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return ye;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const ye=Object.freeze({status:"aborted"}),Xs=e=>({status:"dirty",value:e}),nr=e=>({status:"valid",value:e}),Mb=e=>e.status==="aborted",Lb=e=>e.status==="dirty",vs=e=>e.status==="valid",ll=e=>typeof Promise<"u"&&e instanceof Promise;var ue;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ue||(ue={}));class Mn{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Fb=(e,t)=>{if(vs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new nn(e.common.issues);return this._error=r,this._error}}};function Ne(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,a)=>{const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:u??n??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:u??r??a.defaultError}},description:i}}class Ae{get description(){return this._def.description}_getType(t){return mn(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:mn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ut,ctx:{common:t.parent.common,data:t.data,parsedType:mn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ll(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mn(t)},i=this._parseSync({data:t,path:n.path,parent:n});return Fb(n,i)}"~validate"(t){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mn(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return vs(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(i=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>vs(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mn(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(ll(i)?i:Promise.resolve(i));return Fb(n,s)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=t(i),a=()=>s.addIssue({code:K.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new pi({schema:this,typeName:ve.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return An.create(this,this._def)}nullable(){return bs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mr.create(this)}promise(){return hl.create(this,this._def)}or(t){return dl.create([this,t],this._def)}and(t){return fl.create(this,t,this._def)}transform(t){return new pi({...Ne(this._def),schema:this,typeName:ve.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new $y({...Ne(this._def),innerType:this,defaultValue:r,typeName:ve.ZodDefault})}brand(){return new PV({typeName:ve.ZodBranded,type:this,...Ne(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new qy({...Ne(this._def),innerType:this,catchValue:r,typeName:ve.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return x0.create(this,t)}readonly(){return zy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dV=/^c[^\s-]{8,}$/i,fV=/^[0-9a-z]+$/,hV=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pV=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gV=/^[a-z0-9_-]{21}$/i,mV=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,yV=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vV=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let vd;const wV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_V=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,SV=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,EV=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kV=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",CV=new RegExp(`^${oI}$`);function aI(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function NV(e){return new RegExp(`^${aI(e)}$`)}function TV(e){let t=`${oI}T${aI(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function OV(e,t){return!!((t==="v4"||!t)&&wV.test(e)||(t==="v6"||!t)&&_V.test(e))}function RV(e,t){if(!mV.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function IV(e,t){return!!((t==="v4"||!t)&&bV.test(e)||(t==="v6"||!t)&&SV.test(e))}class Sn extends Ae{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==se.string){const s=this._getOrReturnCtx(t);return ee(s,{code:K.invalid_type,expected:se.string,received:s.parsedType}),ye}const n=new Ut;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),ee(i,{code:K.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),ee(i,{code:K.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,a=t.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(t,i),o?ee(i,{code:K.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&ee(i,{code:K.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")vV.test(t.data)||(i=this._getOrReturnCtx(t,i),ee(i,{validation:"email",code:K.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")vd||(vd=new RegExp(xV,"u")),vd.test(t.data)||(i=this._getOrReturnCtx(t,i),ee(i,{validation:"emoji",code:K.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")pV.test(t.data)||(i=this._getOrReturnCtx(t,i),ee(i,{validation:"uuid",code:K.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")gV.test(t.data)||(i=this._getOrReturnCtx(t,i),ee(i,{validation:"nanoid",code:K.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")dV.test(t.data)||(i=this._getOrReturnCtx(t,i),ee(i,{validation:"cuid",code:K.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")fV.test(t.data)||(i=this._getOrReturnCtx(t,i),ee(i,{validation:"cuid2",code:K.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")hV.test(t.data)||(i=this._getOrReturnCtx(t,i),ee(i,{validation:"ulid",code:K.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),ee(i,{validation:"url",code:K.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),ee(i,{validation:"regex",code:K.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),ee(i,{code:K.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),ee(i,{code:K.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),ee(i,{code:K.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?TV(s).test(t.data)||(i=this._getOrReturnCtx(t,i),ee(i,{code:K.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?CV.test(t.data)||(i=this._getOrReturnCtx(t,i),ee(i,{code:K.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?NV(s).test(t.data)||(i=this._getOrReturnCtx(t,i),ee(i,{code:K.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?yV.test(t.data)||(i=this._getOrReturnCtx(t,i),ee(i,{validation:"duration",code:K.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?OV(t.data,s.version)||(i=this._getOrReturnCtx(t,i),ee(i,{validation:"ip",code:K.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?RV(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),ee(i,{validation:"jwt",code:K.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?IV(t.data,s.version)||(i=this._getOrReturnCtx(t,i),ee(i,{validation:"cidr",code:K.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?EV.test(t.data)||(i=this._getOrReturnCtx(t,i),ee(i,{validation:"base64",code:K.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?kV.test(t.data)||(i=this._getOrReturnCtx(t,i),ee(i,{validation:"base64url",code:K.invalid_string,message:s.message}),n.dirty()):Pe.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:K.invalid_string,...ue.errToObj(n)})}_addCheck(t){return new Sn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ue.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ue.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ue.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ue.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ue.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ue.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ue.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ue.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ue.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ue.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ue.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ue.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ue.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ue.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ue.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ue.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ue.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ue.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ue.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ue.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ue.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ue.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ue.errToObj(r)})}nonempty(t){return this.min(1,ue.errToObj(t))}trim(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Sn.create=e=>new Sn({checks:[],typeName:ve.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ne(e)});function AV(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return s%o/10**i}class xs extends Ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==se.number){const s=this._getOrReturnCtx(t);return ee(s,{code:K.invalid_type,expected:se.number,received:s.parsedType}),ye}let n;const i=new Ut;for(const s of this._def.checks)s.kind==="int"?Pe.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ee(n,{code:K.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),ee(n,{code:K.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),ee(n,{code:K.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?AV(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),ee(n,{code:K.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ee(n,{code:K.not_finite,message:s.message}),i.dirty()):Pe.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ue.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ue.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ue.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ue.toString(r))}setLimit(t,r,n,i){return new xs({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ue.toString(i)}]})}_addCheck(t){return new xs({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ue.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ue.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ue.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ue.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ue.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ue.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Pe.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}xs.create=e=>new xs({checks:[],typeName:ve.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ne(e)});class Ko extends Ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==se.bigint)return this._getInvalidInput(t);let n;const i=new Ut;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),ee(n,{code:K.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),ee(n,{code:K.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ee(n,{code:K.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Pe.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ee(r,{code:K.invalid_type,expected:se.bigint,received:r.parsedType}),ye}gte(t,r){return this.setLimit("min",t,!0,ue.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ue.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ue.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ue.toString(r))}setLimit(t,r,n,i){return new Ko({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ue.toString(i)}]})}_addCheck(t){return new Ko({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ue.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ue.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ko.create=e=>new Ko({checks:[],typeName:ve.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ne(e)});class My extends Ae{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==se.boolean){const n=this._getOrReturnCtx(t);return ee(n,{code:K.invalid_type,expected:se.boolean,received:n.parsedType}),ye}return nr(t.data)}}My.create=e=>new My({typeName:ve.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ne(e)});class cl extends Ae{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==se.date){const s=this._getOrReturnCtx(t);return ee(s,{code:K.invalid_type,expected:se.date,received:s.parsedType}),ye}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return ee(s,{code:K.invalid_date}),ye}const n=new Ut;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),ee(i,{code:K.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),ee(i,{code:K.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Pe.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new cl({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ue.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ue.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}cl.create=e=>new cl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ve.ZodDate,...Ne(e)});class $b extends Ae{_parse(t){if(this._getType(t)!==se.symbol){const n=this._getOrReturnCtx(t);return ee(n,{code:K.invalid_type,expected:se.symbol,received:n.parsedType}),ye}return nr(t.data)}}$b.create=e=>new $b({typeName:ve.ZodSymbol,...Ne(e)});class qb extends Ae{_parse(t){if(this._getType(t)!==se.undefined){const n=this._getOrReturnCtx(t);return ee(n,{code:K.invalid_type,expected:se.undefined,received:n.parsedType}),ye}return nr(t.data)}}qb.create=e=>new qb({typeName:ve.ZodUndefined,...Ne(e)});class zb extends Ae{_parse(t){if(this._getType(t)!==se.null){const n=this._getOrReturnCtx(t);return ee(n,{code:K.invalid_type,expected:se.null,received:n.parsedType}),ye}return nr(t.data)}}zb.create=e=>new zb({typeName:ve.ZodNull,...Ne(e)});class Ly extends Ae{constructor(){super(...arguments),this._any=!0}_parse(t){return nr(t.data)}}Ly.create=e=>new Ly({typeName:ve.ZodAny,...Ne(e)});class Vb extends Ae{constructor(){super(...arguments),this._unknown=!0}_parse(t){return nr(t.data)}}Vb.create=e=>new Vb({typeName:ve.ZodUnknown,...Ne(e)});class Ln extends Ae{_parse(t){const r=this._getOrReturnCtx(t);return ee(r,{code:K.invalid_type,expected:se.never,received:r.parsedType}),ye}}Ln.create=e=>new Ln({typeName:ve.ZodNever,...Ne(e)});class Bb extends Ae{_parse(t){if(this._getType(t)!==se.undefined){const n=this._getOrReturnCtx(t);return ee(n,{code:K.invalid_type,expected:se.void,received:n.parsedType}),ye}return nr(t.data)}}Bb.create=e=>new Bb({typeName:ve.ZodVoid,...Ne(e)});class Mr extends Ae{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==se.array)return ee(r,{code:K.invalid_type,expected:se.array,received:r.parsedType}),ye;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(ee(r,{code:o?K.too_big:K.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(ee(r,{code:K.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(ee(r,{code:K.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Mn(r,o,r.path,a)))).then(o=>Ut.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new Mn(r,o,r.path,a)));return Ut.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Mr({...this._def,minLength:{value:t,message:ue.toString(r)}})}max(t,r){return new Mr({...this._def,maxLength:{value:t,message:ue.toString(r)}})}length(t,r){return new Mr({...this._def,exactLength:{value:t,message:ue.toString(r)}})}nonempty(t){return this.min(1,t)}}Mr.create=(e,t)=>new Mr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ve.ZodArray,...Ne(t)});function Oi(e){if(e instanceof Qe){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=An.create(Oi(n))}return new Qe({...e._def,shape:()=>t})}else return e instanceof Mr?new Mr({...e._def,type:Oi(e.element)}):e instanceof An?An.create(Oi(e.unwrap())):e instanceof bs?bs.create(Oi(e.unwrap())):e instanceof hi?hi.create(e.items.map(t=>Oi(t))):e}class Qe extends Ae{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Pe.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==se.object){const l=this._getOrReturnCtx(t);return ee(l,{code:K.invalid_type,expected:se.object,received:l.parsedType}),ye}const{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ln&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const u=[];for(const l of o){const c=s[l],d=i.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new Mn(i,d,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Ln){const l=this._def.unknownKeys;if(l==="passthrough")for(const c of a)u.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(l==="strict")a.length>0&&(ee(i,{code:K.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const c of a){const d=i.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new Mn(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const c of u){const d=await c.key,f=await c.value;l.push({key:d,value:f,alwaysSet:c.alwaysSet})}return l}).then(l=>Ut.mergeObjectSync(n,l)):Ut.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(t){return ue.errToObj,new Qe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ue.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new Qe({...this._def,unknownKeys:"strip"})}passthrough(){return new Qe({...this._def,unknownKeys:"passthrough"})}extend(t){return new Qe({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Qe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ve.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Qe({...this._def,catchall:t})}pick(t){const r={};for(const n of Pe.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Qe({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Pe.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Qe({...this._def,shape:()=>r})}deepPartial(){return Oi(this)}partial(t){const r={};for(const n of Pe.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new Qe({...this._def,shape:()=>r})}required(t){const r={};for(const n of Pe.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof An;)s=s._def.innerType;r[n]=s}return new Qe({...this._def,shape:()=>r})}keyof(){return uI(Pe.objectKeys(this.shape))}}Qe.create=(e,t)=>new Qe({shape:()=>e,unknownKeys:"strip",catchall:Ln.create(),typeName:ve.ZodObject,...Ne(t)});Qe.strictCreate=(e,t)=>new Qe({shape:()=>e,unknownKeys:"strict",catchall:Ln.create(),typeName:ve.ZodObject,...Ne(t)});Qe.lazycreate=(e,t)=>new Qe({shape:e,unknownKeys:"strip",catchall:Ln.create(),typeName:ve.ZodObject,...Ne(t)});class dl extends Ae{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new nn(a.ctx.common.issues));return ee(r,{code:K.invalid_union,unionErrors:o}),ye}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of n){const l={...r,common:{...r.common,issues:[]},parent:null},c=u._parseSync({data:r.data,path:r.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(u=>new nn(u));return ee(r,{code:K.invalid_union,unionErrors:a}),ye}}get options(){return this._def.options}}dl.create=(e,t)=>new dl({options:e,typeName:ve.ZodUnion,...Ne(t)});function Fy(e,t){const r=mn(e),n=mn(t);if(e===t)return{valid:!0,data:e};if(r===se.object&&n===se.object){const i=Pe.objectKeys(t),s=Pe.objectKeys(e).filter(a=>i.indexOf(a)!==-1),o={...e,...t};for(const a of s){const u=Fy(e[a],t[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(r===se.array&&n===se.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],a=t[s],u=Fy(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===se.date&&n===se.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class fl extends Ae{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(s,o)=>{if(Mb(s)||Mb(o))return ye;const a=Fy(s.value,o.value);return a.valid?((Lb(s)||Lb(o))&&r.dirty(),{status:r.value,value:a.data}):(ee(n,{code:K.invalid_intersection_types}),ye)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}fl.create=(e,t,r)=>new fl({left:e,right:t,typeName:ve.ZodIntersection,...Ne(r)});class hi extends Ae{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==se.array)return ee(n,{code:K.invalid_type,expected:se.array,received:n.parsedType}),ye;if(n.data.length<this._def.items.length)return ee(n,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ye;!this._def.rest&&n.data.length>this._def.items.length&&(ee(n,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new Mn(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Ut.mergeArray(r,o)):Ut.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new hi({...this._def,rest:t})}}hi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hi({items:e,typeName:ve.ZodTuple,rest:null,...Ne(t)})};class Hb extends Ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==se.map)return ee(n,{code:K.invalid_type,expected:se.map,received:n.parsedType}),ye;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,u],l)=>({key:i._parse(new Mn(n,a,n.path,[l,"key"])),value:s._parse(new Mn(n,u,n.path,[l,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const l=await u.key,c=await u.value;if(l.status==="aborted"||c.status==="aborted")return ye;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(l.value,c.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const u of o){const l=u.key,c=u.value;if(l.status==="aborted"||c.status==="aborted")return ye;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(l.value,c.value)}return{status:r.value,value:a}}}}Hb.create=(e,t,r)=>new Hb({valueType:t,keyType:e,typeName:ve.ZodMap,...Ne(r)});class Yo extends Ae{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==se.set)return ee(n,{code:K.invalid_type,expected:se.set,received:n.parsedType}),ye;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(ee(n,{code:K.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(ee(n,{code:K.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(u){const l=new Set;for(const c of u){if(c.status==="aborted")return ye;c.status==="dirty"&&r.dirty(),l.add(c.value)}return{status:r.value,value:l}}const a=[...n.data.values()].map((u,l)=>s._parse(new Mn(n,u,n.path,l)));return n.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(t,r){return new Yo({...this._def,minSize:{value:t,message:ue.toString(r)}})}max(t,r){return new Yo({...this._def,maxSize:{value:t,message:ue.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Yo.create=(e,t)=>new Yo({valueType:e,minSize:null,maxSize:null,typeName:ve.ZodSet,...Ne(t)});class Ub extends Ae{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Ub.create=(e,t)=>new Ub({getter:e,typeName:ve.ZodLazy,...Ne(t)});class Wb extends Ae{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ee(r,{received:r.data,code:K.invalid_literal,expected:this._def.value}),ye}return{status:"valid",value:t.data}}get value(){return this._def.value}}Wb.create=(e,t)=>new Wb({value:e,typeName:ve.ZodLiteral,...Ne(t)});function uI(e,t){return new ws({values:e,typeName:ve.ZodEnum,...Ne(t)})}class ws extends Ae{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ee(r,{expected:Pe.joinValues(n),received:r.parsedType,code:K.invalid_type}),ye}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ee(r,{received:r.data,code:K.invalid_enum_value,options:n}),ye}return nr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ws.create(t,{...this._def,...r})}exclude(t,r=this._def){return ws.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ws.create=uI;class Gb extends Ae{_parse(t){const r=Pe.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==se.string&&n.parsedType!==se.number){const i=Pe.objectValues(r);return ee(n,{expected:Pe.joinValues(i),received:n.parsedType,code:K.invalid_type}),ye}if(this._cache||(this._cache=new Set(Pe.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=Pe.objectValues(r);return ee(n,{received:n.data,code:K.invalid_enum_value,options:i}),ye}return nr(t.data)}get enum(){return this._def.values}}Gb.create=(e,t)=>new Gb({values:e,typeName:ve.ZodNativeEnum,...Ne(t)});class hl extends Ae{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==se.promise&&r.common.async===!1)return ee(r,{code:K.invalid_type,expected:se.promise,received:r.parsedType}),ye;const n=r.parsedType===se.promise?r.data:Promise.resolve(r.data);return nr(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}hl.create=(e,t)=>new hl({type:e,typeName:ve.ZodPromise,...Ne(t)});class pi extends Ae{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{ee(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return ye;const u=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return u.status==="aborted"?ye:u.status==="dirty"||r.value==="dirty"?Xs(u.value):u});{if(r.value==="aborted")return ye;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?ye:a.status==="dirty"||r.value==="dirty"?Xs(a.value):a}}if(i.type==="refinement"){const o=a=>{const u=i.refinement(a,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ye:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ye:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!vs(o))return ye;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>vs(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):ye);Pe.assertNever(i)}}pi.create=(e,t,r)=>new pi({schema:e,typeName:ve.ZodEffects,effect:t,...Ne(r)});pi.createWithPreprocess=(e,t,r)=>new pi({schema:t,effect:{type:"preprocess",transform:e},typeName:ve.ZodEffects,...Ne(r)});class An extends Ae{_parse(t){return this._getType(t)===se.undefined?nr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}An.create=(e,t)=>new An({innerType:e,typeName:ve.ZodOptional,...Ne(t)});class bs extends Ae{_parse(t){return this._getType(t)===se.null?nr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bs.create=(e,t)=>new bs({innerType:e,typeName:ve.ZodNullable,...Ne(t)});class $y extends Ae{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===se.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}$y.create=(e,t)=>new $y({innerType:e,typeName:ve.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ne(t)});class qy extends Ae{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ll(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new nn(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new nn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}qy.create=(e,t)=>new qy({innerType:e,typeName:ve.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ne(t)});class Kb extends Ae{_parse(t){if(this._getType(t)!==se.nan){const n=this._getOrReturnCtx(t);return ee(n,{code:K.invalid_type,expected:se.nan,received:n.parsedType}),ye}return{status:"valid",value:t.data}}}Kb.create=e=>new Kb({typeName:ve.ZodNaN,...Ne(e)});class PV extends Ae{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class x0 extends Ae{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ye:s.status==="dirty"?(r.dirty(),Xs(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ye:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new x0({in:t,out:r,typeName:ve.ZodPipeline})}}class zy extends Ae{_parse(t){const r=this._def.innerType._parse(t),n=i=>(vs(i)&&(i.value=Object.freeze(i.value)),i);return ll(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}zy.create=(e,t)=>new zy({innerType:e,typeName:ve.ZodReadonly,...Ne(t)});var ve;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ve||(ve={}));const fr=Sn.create,DV=xs.create,Vy=My.create,xd=Ly.create;Ln.create;const ts=Mr.create,ga=Qe.create;dl.create;fl.create;hi.create;const lI=ws.create;hl.create;An.create;bs.create;const jV=pi.createWithPreprocess,MV=ga({key:fr(),value:fr(),type:fr().optional()});ga({includeOtherFields:Vy().default(!0),fields:ts(MV).default([])});const LV=[{key:"fields",label:"Fields to Set",type:"array",widget:"keyValueWithType",default:[],help:"Set field values. Drag fields from DATA panel or use static values."},{key:"includeOtherFields",label:"Include Other Input Fields",type:"boolean",default:!0,help:"If enabled, keeps all fields from input and adds/updates the fields you set. If disabled, output will only contain the fields you set."}],FV=/\{\{\s*steps\.([\w-]+)([^}]*)\}\}/g;function $V(e,t,r){const n=Array.from(e.matchAll(FV));if(n.length===0)return e;const i=n.length===1&&n[0][0].trim()===e.trim();let s=e;for(const o of n){const[a,u,l]=o,c=t[`steps.${u}`];let d;Array.isArray(c)&&r&&typeof r=="object"?d=Yb(r,l):d=Yb(c,l);const f=typeof d>"u"?"":d;if(i)return f;s=s.replace(a,String(f))}return s}function Yb(e,t){if(!t)return e;const n=t.replace(/^\./,"").split(/\.|\[(\d+)\]/).filter(Boolean).map(s=>s.replace(/^['"]|['"]$/g,""));let i=e;for(const s of n){if(i===null||typeof i!="object")return;const o=Number(s);!Number.isNaN(o)&&Array.isArray(i)?i=i[o]:i=i[s]}return i}async function qV(e){console.log("[SET Runtime] Starting execution"),console.log("[SET Runtime] Raw config:",e.config),console.log("[SET Runtime] Resolved config:",e.resolvedConfig);const t=!!(e.config.includeOtherFields??!0),r=e.config.fields??[],n=e.resolvedConfig.__previousOutput||null;console.log("[SET Runtime] Include other fields:",t),console.log("[SET Runtime] Raw fields:",r),console.log("[SET Runtime] Previous data:",n);const i=e.resolvedConfig.__stepOutputs||{};if(Array.isArray(n)){const o=n.map((a,u)=>(console.log(`[SET] Processing item ${u}:`,a),wd(a,r,t,i)));return console.log("[SET] Transformed array, count:",o.length),{output:o}}if(n&&typeof n=="object"){const o=wd(n,r,t,i);return console.log("[SET] Transformed object:",o),{output:o}}const s=wd({},r,t,i);return console.log("[SET] Created new object:",s),{output:s}}function wd(e,t,r,n){const i=r?e&&typeof e=="object"?{...e}:{}:{};return t.forEach(s=>{if(!s.key){console.warn("[SET] Skipping field with no key:",s);return}let o=s.value;typeof s.value=="string"&&(o=$V(s.value,n,e)),s.type&&(o=zV(o,s.type),console.log(`[SET] Converting "${s.key}" to ${s.type}: ${s.value} -> ${o}`)),i[s.key]=o,console.log(`[SET] Set field "${s.key}" = ${o}`)}),i}function zV(e,t){if(e==null)return null;switch(t.toLowerCase()){case"string":return e===""?"":String(e);case"number":if(typeof e=="number")return e;const r=String(e);if(r==="")return null;const n=Number(r);return isNaN(n)?0:n;case"boolean":if(typeof e=="boolean")return e;const i=String(e).toLowerCase();return i==="true"||i==="1"||i==="yes";case"array":if(Array.isArray(e))return e;const s=String(e);try{const a=JSON.parse(s);return Array.isArray(a)?a:[e]}catch{return[e]}case"object":if(e&&typeof e=="object"&&!Array.isArray(e))return e;const o=String(e);try{const a=JSON.parse(o);return typeof a=="object"&&!Array.isArray(a)?a:{value:e}}catch{return{value:e}}default:return e}}const VV={key:"set",name:"SET",type:"utility",inputs:LV,outputs:[{key:"transformed",type:"object"}]},BV={key:"set",schema:VV,run:qV,createInitialConfig:()=>({includeOtherFields:!0,fields:[]})},HV=ga({fields:ts(fr()).default([]),includeMode:lI(["none","all","selected"]).default("all"),selectedFields:ts(fr()).default([])}),UV=[{key:"fields",type:"array",label:"Fields To Split Out",widget:"chips",placeholder:"Type field names and press Enter"},{key:"includeMode",type:"string",label:"Include (none/all/selected)",widget:"text",placeholder:"all"},{key:"selectedFields",type:"array",label:"Select Other Fields (if mode=selected)",widget:"chips",placeholder:"Type field names to keep"}],WV={key:"split",name:"Split Out",type:"utility",inputs:UV,outputs:[{key:"split",type:"object"}]};async function GV(e){console.log("[SPLIT Runtime] Starting execution"),console.log("[SPLIT Runtime] Config:",e.config);const t=e.config.fields??[],r=e.config.includeMode??"all",n=e.config.selectedFields??[];let i=e.resolvedConfig.__previousOutput||null;i=pa(i,e.previousNodeType),console.log("[SPLIT Runtime] Fields to split:",t),console.log("[SPLIT Runtime] Include mode:",r),console.log("[SPLIT Runtime] Selected fields:",n),console.log("[SPLIT Runtime] Previous data (after unwrap):",i),console.log("[SPLIT Runtime] Previous node type:",e.previousNodeType);const s=t.filter(Boolean).map(Db),o=n.filter(Boolean).map(Db);if(s.length===0)return console.warn("[SPLIT] No fields specified to split out"),{output:i};if(Array.isArray(i)){const a=i.map((u,l)=>(console.log(`[SPLIT] Processing item ${l}:`,u),Zb(u,s,r,o)));return console.log("[SPLIT] Split array, count:",a.length),{output:a}}if(i&&typeof i=="object"){const a=Zb(i,s,r,o);if(console.log("[SPLIT] Split object:",a),s.length===1&&r==="none"){const u=s[0],l=a[u];if(Array.isArray(l))return console.log(`[SPLIT] Smart unwrap: Returning array field "${u}" directly (${l.length} items)`),{output:l}}return{output:a}}return console.warn("[SPLIT] No input data to split"),{output:null}}function Zb(e,t,r,n){if(!e||typeof e!="object"||Array.isArray(e))return console.warn("[SPLIT] Item is not a valid object:",e),{};const i=e,s={};switch(t.forEach(o=>{o in i?(s[o]=i[o],console.log(`[SPLIT] Split out field "${o}":`,i[o])):console.warn(`[SPLIT] Field "${o}" not found in item`)}),r){case"none":console.log("[SPLIT] Include mode: none - Only split fields included");break;case"all":Object.keys(i).forEach(o=>{t.includes(o)||(s[o]=i[o])}),console.log("[SPLIT] Include mode: all - All other fields included");break;case"selected":n.forEach(o=>{o in i&&!t.includes(o)&&(s[o]=i[o],console.log(`[SPLIT] Including selected field "${o}"`))}),console.log("[SPLIT] Include mode: selected - Only selected fields included");break;default:console.warn(`[SPLIT] Unknown include mode: ${r}`)}return s}const KV={key:"split",schema:WV,createInitialConfig:()=>HV.parse({fields:[],includeMode:"all",selectedFields:[]}),run:GV},YV=[{key:"mode",label:"Merge Mode",type:"enum",enum:["append","merge","join"],required:!0,default:"append",help:"append: Concatenate arrays | merge: Combine objects | join: SQL-like join",group:"inputs"},{key:"input1",label:"Input 1",type:"string",widget:"textarea",placeholder:"{{steps.xxx}} or leave empty to use previous output",help:"First array or object (supports tokens)",group:"inputs"},{key:"input2",label:"Input 2",type:"string",widget:"textarea",placeholder:"{{steps.xxx}}",help:"Second array or object (supports tokens)",group:"inputs"},{key:"input3",label:"Input 3 (Optional)",type:"string",widget:"textarea",placeholder:"{{steps.xxx}}",help:"Third array or object (append/merge mode only)",group:"inputs"},{key:"input4",label:"Input 4 (Optional)",type:"string",widget:"textarea",placeholder:"{{steps.xxx}}",help:"Fourth array or object (append/merge mode only)",group:"inputs"},{key:"joinKey1",label:"Join Key (Input 1)",type:"string",default:"id",placeholder:"id",help:"Field name to match in first array (join mode)",group:"inputs"},{key:"joinKey2",label:"Join Key (Input 2)",type:"string",default:"id",placeholder:"userId",help:"Field name to match in second array (join mode)",group:"inputs"},{key:"joinType",label:"Join Type",type:"enum",enum:["inner","left","outer"],default:"inner",help:"inner: Only matches | left: All from Input 1 | outer: All from both (join mode)",group:"inputs"},{key:"flattenJoined",label:"Flatten Joined Objects",type:"boolean",default:!0,help:"Merge properties into one object vs nested left/right (join mode)",group:"inputs"},{key:"mergeStrategy",label:"Conflict Strategy",type:"enum",enum:["last-wins","first-wins","array"],default:"last-wins",help:"How to handle duplicate keys (merge mode): last-wins/first-wins/array",group:"inputs"},{key:"removeDuplicates",label:"Remove Duplicates",type:"boolean",default:!1,help:"Remove duplicate items after concatenating (append mode)",group:"inputs"}],ZV={key:"merge",name:"Merge",type:"utility",inputs:YV,outputs:[{key:"output",type:"object"}]};async function XV(e){const{resolvedConfig:t,previousOutput:r}=e,n=t.mode||"append",i=t.input1,s=t.input2,o=t.input3,a=t.input4,u=pa(r,e.previousNodeType);console.log(`[MERGE] Mode: ${n}`),console.log("[MERGE] Inputs provided:",{input1:!!i,input2:!!s,input3:!!o,input4:!!a,previousOutput:!!u});const l=[];if(i!=null&&i!==""?l.push(i):u!=null&&(l.push(u),console.log("[MERGE]  Auto-using previous output as Input 1")),s!=null&&s!==""&&l.push(s),o!=null&&o!==""&&l.push(o),a!=null&&a!==""&&l.push(a),l.length<2)throw new Error(`MERGE requires at least 2 inputs. Provided: ${l.length}. Use tokens like {{steps.xxx}} to reference other node outputs.`);switch(console.log(`[MERGE] Processing ${l.length} inputs with mode: ${n}`),n){case"append":return QV(l,t);case"merge":return JV(l,t);case"join":return eB(l,t);default:throw new Error(`Unknown merge mode: ${n}`)}}function QV(e,t){const r=t.removeDuplicates||!1,n=[];for(let s=0;s<e.length;s++){const o=e[s];if(!Array.isArray(o))throw new Error(`APPEND mode requires all inputs to be arrays. Input ${s+1} is ${typeof o}. Use SPLIT node to extract arrays first.`);n.push(o)}let i=n.flat();if(console.log(`[MERGE:APPEND] Concatenated ${n.length} arrays: ${i.length} total items`),r){const s=new Set;i=i.filter(o=>{const a=JSON.stringify(o);return s.has(a)?!1:(s.add(a),!0)}),console.log(`[MERGE:APPEND] After removing duplicates: ${i.length} items`)}return{output:i}}function JV(e,t){const r=t.mergeStrategy||"last-wins",n=[];for(let o=0;o<e.length;o++){const a=e[o];if(typeof a!="object"||a===null||Array.isArray(a))throw new Error(`MERGE mode requires all inputs to be objects. Input ${o+1} is ${Array.isArray(a)?"array":typeof a}.`);n.push(a)}console.log(`[MERGE:MERGE] Merging ${n.length} objects with strategy: ${r}`);const i={};for(const o of n)for(const[a,u]of Object.entries(o))if(!(a in i))i[a]=u;else switch(r){case"last-wins":i[a]=u;break;case"first-wins":break;case"array":Array.isArray(i[a])?i[a].push(u):i[a]=[i[a],u];break}const s=Object.keys(i).length;return console.log(`[MERGE:MERGE] Result has ${s} unique keys`),{output:i}}function eB(e,t){if(e.length!==2)throw new Error(`JOIN mode requires exactly 2 inputs. Provided: ${e.length}`);const[r,n]=e;if(!Array.isArray(r)||!Array.isArray(n))throw new Error(`JOIN mode requires both inputs to be arrays. Got: ${typeof r}, ${typeof n}`);const i=t.joinKey1||"id",s=t.joinKey2||"id",o=t.joinType||"inner",a=t.flattenJoined??!0;console.log(`[MERGE:JOIN] ${o.toUpperCase()} JOIN on ${i} = ${s}`),console.log(`[MERGE:JOIN] Left: ${r.length} items, Right: ${n.length} items`);const u=new Map;for(const d of n)if(typeof d=="object"&&d!==null&&!Array.isArray(d)){const p=d[s];u.set(p,d)}const l=[],c=new Set;for(const d of r){if(typeof d!="object"||d===null||Array.isArray(d)){console.warn("[MERGE:JOIN] Skipping non-object item in Input 1");continue}const f=d,p=f[i],h=u.get(p);if(h)if(c.add(p),a){const g=h;l.push({...f,...g})}else l.push({left:f,right:h});else(o==="left"||o==="outer")&&(a?l.push(f):l.push({left:f,right:null}))}if(o==="outer")for(const d of n){if(typeof d!="object"||d===null||Array.isArray(d))continue;const f=d,p=f[s];c.has(p)||(a?l.push(f):l.push({left:null,right:f}))}return console.log(`[MERGE:JOIN] Result: ${l.length} items after ${o} join`),{output:l}}const tB={key:"merge",schema:ZV,createInitialConfig:()=>({mode:"append",input1:"",input2:"",input3:"",input4:"",joinKey1:"id",joinKey2:"id",joinType:"inner",mergeStrategy:"last-wins",removeDuplicates:!1,flattenJoined:!0}),run:XV},rB=[{key:"items",label:"Items to Loop Over",type:"string",widget:"textarea",required:!0,placeholder:"{{steps.xxx}} - Must be an array",help:"Array to iterate over. Each item will be processed individually.",group:"inputs"},{key:"batchSize",label:"Batch Size",type:"number",default:1,min:1,max:100,placeholder:"1",help:"Number of items to process in each batch (1 = one at a time)",group:"inputs"},{key:"pauseBetweenBatches",label:"Pause Between Batches (ms)",type:"number",default:0,min:0,placeholder:"0",help:"Delay in milliseconds between batches (useful for rate limiting)",group:"inputs"},{key:"continueOnError",label:"Continue on Error",type:"boolean",default:!1,help:"If true, continue processing remaining items even if one fails",group:"inputs"}],nB={key:"loop",name:"Loop Over Items",type:"utility",inputs:rB,outputs:[{key:"items",type:"array",label:"Processed Items"},{key:"successCount",type:"number",label:"Success Count"},{key:"errorCount",type:"number",label:"Error Count"},{key:"totalCount",type:"number",label:"Total Count"}]};async function iB(e){const{resolvedConfig:t,previousOutput:r}=e;let n=t.items;const i=t.batchSize||1,s=t.pauseBetweenBatches||0,o=t.continueOnError||!1;if(console.log(`[LOOP] Starting loop with batch size: ${i}`),(n==null||n==="")&&(n=pa(r,e.previousNodeType),console.log("[LOOP]  Using previous output as items")),!Array.isArray(n))throw new Error(`LOOP requires an array input. Got: ${typeof n}. Use {{steps.xxx}} to reference an array from a previous node, or use SPLIT node first.`);if(n.length===0)return console.log("[LOOP]  Empty array provided, nothing to loop over"),{output:{items:[],successCount:0,errorCount:0,totalCount:0,batches:[]}};console.log(`[LOOP] Processing ${n.length} items in batches of ${i}`);const a=[];for(let d=0;d<n.length;d+=i)a.push(n.slice(d,d+i));console.log(`[LOOP] Created ${a.length} batches`);const u=[];let l=0,c=0;for(let d=0;d<a.length;d++){const f=a[d];console.log(`[LOOP] Processing batch ${d+1}/${a.length} (${f.length} items)`);for(const p of f)try{u.push(p),l++}catch(h){if(c++,!o)throw new Error(`LOOP failed at item ${l+c}/${n.length}: ${h}`);console.warn(`[LOOP] Error processing item ${l+c}, continuing...`)}s>0&&d<a.length-1&&(console.log(`[LOOP] Pausing ${s}ms before next batch...`),await new Promise(p=>setTimeout(p,s)))}return console.log(`[LOOP]  Completed: ${l} success, ${c} errors, ${n.length} total`),{output:{items:u,successCount:l,errorCount:c,totalCount:n.length,batches:a.map((d,f)=>({batchIndex:f+1,itemCount:d.length,items:d}))}}}const sB={key:"loop",schema:nB,createInitialConfig:()=>({items:"",batchSize:1,pauseBetweenBatches:0,continueOnError:!1}),run:iB},cI=[Jq,$z,Zz,rV,aV,BV,KV,tB,sB],mo=cI.reduce((e,t)=>(e[t.key]=t,e),{}),oB=cI.map(e=>e.schema),aB={steps:[],customEdges:[],selectedStepKey:void 0,stepOutputs:{},stepRunStates:{},runTimeline:[],samples:[],isRunningFlow:!1,showConfigPanel:!1,showResultPanel:!1,layoutTrigger:0,layoutDirection:"TB"},uB=(e,t)=>({...aB,addStep:r=>{const n=mo[r];if(!n)throw new Error(`Unknown node type: ${r}`);if(r==="manual"&&t().steps.some(o=>o.schemaKey==="manual")){alert(" Only one Manual Trigger node is allowed per workflow");return}e(i=>{const s=i.steps.filter(l=>l.schemaKey===r).length+1,o=`${r}${s}`,a=new Date().toISOString(),u={key:o,schemaKey:r,name:`${n.schema.name} ${s}`,config:n.createInitialConfig(),createdAt:a};return{steps:[...i.steps,u],selectedStepKey:o,stepRunStates:{...i.stepRunStates,[o]:{status:"idle"}}}})},removeStep:r=>{e(n=>{const i=n.steps.filter(d=>d.key!==r),{[r]:s,...o}=n.stepOutputs,{[r]:a,...u}=n.stepRunStates,l=n.runTimeline.filter(d=>d.stepKey!==r),c=n.samples.filter(d=>d.stepKey!==r);return{steps:i,selectedStepKey:i.length?i[i.length-1].key:void 0,stepOutputs:o,stepRunStates:u,runTimeline:l,samples:c}})},reorderSteps:(r,n)=>{e(i=>{if(r<0||r>=i.steps.length||n<0||n>=i.steps.length)return{};const s=[...i.steps],[o]=s.splice(r,1);return s.splice(n,0,o),{steps:s}})},selectStep:r=>e({selectedStepKey:r}),updateConfig:(r,n)=>{e(i=>({steps:i.steps.map(s=>s.key===r?{...s,config:{...s.config,...n}}:s)}))},runStep:async(r,n=!1,i)=>{const s=t(),o=s.steps.find(h=>h.key===r);if(!o)throw new Error(`Step ${r} not found`);const a=i||r;if(!n){const h=s.steps.findIndex(g=>g.key===r);if(h>0)for(let g=0;g<h;g++){const w=s.steps[g],m=t().stepRunStates[w.key];if(!m||m.status!=="success"){await t().runStep(w.key,!0,a);const x=t().stepRunStates[w.key];if((x==null?void 0:x.status)==="error")throw new Error(`Cannot run ${r}: dependency ${w.key} failed`)}}}const u=mo[o.schemaKey];if(!u)throw new Error(`Node definition missing for ${o.schemaKey}`);e(h=>{var g;return{stepRunStates:{...h.stepRunStates,[r]:{status:"running",lastRun:(g=h.stepRunStates[r])==null?void 0:g.lastRun}}}});const l=performance.now(),c={};Object.entries(s.stepOutputs).forEach(([h,g])=>{c[`steps.${h}`]=g});let d=Dz(o.config,c),f,p;if(o.schemaKey!=="manual"){const h=s.steps.findIndex(g=>g.key===r);if(h>0){const g=s.steps[h-1];f=s.stepOutputs[g.key],p=g.schemaKey,f!==void 0&&(d={...d,__previousOutput:f})}}d={...d,__stepOutputs:c};try{const h=await u.run({config:o.config,resolvedConfig:d,previousOutput:f,previousNodeType:p,currentNodeKey:r,allStepOutputs:s.stepOutputs}),g=h.durationMs??performance.now()-l,w={stepKey:o.key,resolvedInput:es(d),output:es(h.output),status:h.status,durationMs:g,at:new Date().toISOString()};e(m=>({stepOutputs:{...m.stepOutputs,[o.key]:h.output},stepRunStates:{...m.stepRunStates,[o.key]:{status:"success",lastRun:w,requestPreview:h.requestPreview,response:h.response}},runTimeline:[...m.runTimeline,w],showResultPanel:!0,selectedStepKey:r===a?a:m.selectedStepKey}))}catch(h){const g=h instanceof Error?h.message:String(h),w=performance.now()-l,m={stepKey:o.key,resolvedInput:es(d),error:{code:"runtime",message:g},durationMs:w,at:new Date().toISOString()};e(x=>({stepRunStates:{...x.stepRunStates,[o.key]:{status:"error",errorMessage:g,lastRun:m}},runTimeline:[...x.runTimeline,m]}))}},runFlow:async()=>{const r=t();if(r.steps.length){e({isRunningFlow:!0});for(const n of r.steps){await t().runStep(n.key);const i=t().stepRunStates[n.key];if((i==null?void 0:i.status)==="error")break}e({isRunningFlow:!1})}},markSample:r=>{var c;const{stepOutputs:n,steps:i,stepRunStates:s}=t(),o=n[r];if(typeof o>"u")return;const a=i.find(d=>d.key===r);if(!a)return;const u=(c=s[r])==null?void 0:c.lastRun,l={stepKey:r,schemaKey:a.schemaKey,label:`${a.name} sample ${new Date().toLocaleTimeString()}`,createdAt:new Date().toISOString(),data:o,metadata:{durationMs:u==null?void 0:u.durationMs,status:u==null?void 0:u.status}};e(d=>({samples:[l,...d.samples]}))},exportFlow:()=>{const r=t();return{steps:r.steps.map(i=>({key:i.key,type:i.schemaKey,config:i.config})),mappings:lB(r.steps)}},importFlow:r=>{var s;const n=r.steps.map(o=>{const a=mo[o.type],u=a?a.schema.name:o.type;return{key:o.key,schemaKey:o.type,name:u,config:o.config,createdAt:new Date().toISOString()}}),i={};n.forEach(o=>{i[o.key]={status:"idle"}}),e({steps:n,selectedStepKey:(s=n[0])==null?void 0:s.key,stepOutputs:{},stepRunStates:i,runTimeline:[]})},clearLogs:r=>{if(!r){e({runTimeline:[]});return}e(n=>({runTimeline:n.runTimeline.filter(i=>i.stepKey!==r),stepRunStates:{...n.stepRunStates,[r]:{status:"idle"}}}))},setShowConfigPanel:r=>{e({showConfigPanel:r})},setShowResultPanel:r=>{e({showResultPanel:r})},triggerAutoLayout:()=>{e(r=>({layoutTrigger:r.layoutTrigger+1}))},toggleLayoutDirection:()=>{e(r=>({layoutDirection:r.layoutDirection==="TB"?"LR":"TB",layoutTrigger:r.layoutTrigger+1}))},updateEdges:r=>{e({customEdges:r})},addEdge:r=>{e(n=>({customEdges:[...n.customEdges,r]}))},removeEdge:r=>{e(n=>({customEdges:n.customEdges.filter(i=>i.id!==r)}))}}),ge=Yq(uB);function lB(e){const t={};return e.forEach(r=>{const n=By(r.config);Object.keys(n).length&&(t[r.key]=n)}),t}function By(e,t=[]){const r={};if(typeof e=="string"){const n=e.match(/\{\{\s*steps\.[^}]+\}\}/g);return n&&(r[t.join(".")]=n),r}return Array.isArray(e)?(e.forEach((n,i)=>{const s=By(n,[...t,String(i)]);Xb(r,s)}),r):(e&&typeof e=="object"&&Object.entries(e).forEach(([n,i])=>{const s=By(i,[...t,n]);Xb(r,s)}),r)}function Xb(e,t){Object.entries(t).forEach(([r,n])=>{e[r]||(e[r]=[]),e[r]=Array.from(new Set([...e[r],...n]))})}const Eu={trigger:{bg:"bg-amber-100",border:"border-amber-400",borderHover:"hover:border-amber-500",text:"text-amber-700",icon:"bg-amber-50",description:"Workflow triggers and starters (Manual, Webhook, Schedule, etc.)"},action:{bg:"bg-blue-100",border:"border-blue-400",borderHover:"hover:border-blue-500",text:"text-blue-700",icon:"bg-blue-50",description:"External app integrations (HTTP, Database, APIs, CRM, etc.)"},utility:{bg:"bg-purple-100",border:"border-purple-400",borderHover:"hover:border-purple-500",text:"text-purple-700",icon:"bg-purple-50",description:"Data transformation and logic (IF, SWITCH, FILTER, SET, SPLIT, etc.)"}};function cB(e){const t=Eu[e];return`${t.bg} ${t.border} ${t.borderHover}`}function dB(e){switch(e){case"trigger":return"trigger";case"action":return"action";case"utility":return"utility";default:return"utility"}}function fB(){const e=ge(u=>u.addStep),t=ge(u=>u.runFlow),r=ge(u=>u.exportFlow),n=ge(u=>u.importFlow),i=D.useMemo(()=>{const u={trigger:[],action:[],utility:[]};return oB.forEach(l=>{const c=l.type;u[c].push(l)}),u},[]),s=u=>{(u==="manual"||u==="http"||u==="if"||u==="switch"||u==="filter"||u==="set"||u==="split")&&e(u)},o=()=>{const u=r(),l=new Blob([JSON.stringify(u,null,2)],{type:"application/json"}),c=URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.download="flow.json",d.click(),URL.revokeObjectURL(c)},a=()=>{const u=document.createElement("input");u.type="file",u.accept="application/json",u.onchange=async l=>{var p;const c=(p=l.target.files)==null?void 0:p[0];if(!c)return;const d=await c.text(),f=JSON.parse(d);n(f)},u.click()};return v.jsxs("aside",{className:"flex w-72 flex-col bg-gradient-to-b from-slate-800 to-slate-900 text-white shadow-2xl",children:[v.jsxs("div",{className:"border-b-2 border-slate-700 bg-gradient-to-r from-indigo-600 to-purple-600 px-4 py-4 shadow-lg",children:[v.jsx("h1",{className:"mb-1 text-lg font-black uppercase tracking-wider text-white",children:" Node Playground"}),v.jsx("p",{className:"text-xs text-indigo-100",children:"Build & Test Workflows"})]}),v.jsxs("div",{className:"border-b-2 border-slate-700 bg-slate-800 px-4 py-4",children:[v.jsx("h2",{className:"mb-3 text-xs font-bold uppercase tracking-wider text-slate-400",children:" Flow Controls"}),v.jsx("button",{type:"button",onClick:()=>void t(),className:"w-full rounded-lg bg-gradient-to-r from-emerald-500 to-teal-500 px-4 py-3 text-sm font-bold text-white shadow-lg transition hover:from-emerald-600 hover:to-teal-600 hover:shadow-xl",children:" RUN ENTIRE FLOW"}),v.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[v.jsx("button",{type:"button",onClick:o,className:"rounded-md border-2 border-slate-600 bg-slate-700 px-3 py-2 text-xs font-bold text-slate-200 transition hover:bg-slate-600 hover:text-white",children:" Export"}),v.jsx("button",{type:"button",onClick:a,className:"rounded-md border-2 border-slate-600 bg-slate-700 px-3 py-2 text-xs font-bold text-slate-200 transition hover:bg-slate-600 hover:text-white",children:" Import"})]})]}),v.jsxs("section",{className:"flex-1 overflow-y-auto px-4 pb-4 pt-4",children:[v.jsx("h2",{className:"mb-4 text-xs font-bold uppercase tracking-wider text-slate-400",children:" Add Nodes"}),i.trigger.length>0&&v.jsxs("div",{className:"mb-6",children:[v.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-xs font-bold text-amber-400",children:[" TRIGGERS",v.jsxs("span",{className:"text-[9px] text-slate-500",children:["(",i.trigger.length,")"]})]}),v.jsx("p",{className:"mb-3 text-[10px] text-slate-400",children:Eu.trigger.description}),v.jsx("ul",{className:"space-y-2",children:i.trigger.map(u=>v.jsx("li",{children:v.jsxs("button",{type:"button",onClick:()=>s(u.key),className:"group flex w-full items-center gap-3 rounded-lg border-2 border-amber-600/30 bg-gradient-to-r from-amber-900/20 to-amber-800/20 px-3 py-2.5 text-left shadow-md transition hover:border-amber-400 hover:from-amber-600 hover:to-amber-500 hover:shadow-xl",children:[v.jsx("span",{className:"text-xl",children:bd(u.key)}),v.jsx("div",{className:"flex-1",children:v.jsx("p",{className:"text-sm font-bold text-white",children:u.name})}),v.jsx("span",{className:"text-lg text-slate-600 group-hover:text-white",children:"+"})]})},u.key))})]}),i.action.length>0&&v.jsxs("div",{className:"mb-6",children:[v.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-xs font-bold text-blue-400",children:[" APPS",v.jsxs("span",{className:"text-[9px] text-slate-500",children:["(",i.action.length,")"]})]}),v.jsx("p",{className:"mb-3 text-[10px] text-slate-400",children:Eu.action.description}),v.jsx("ul",{className:"space-y-2",children:i.action.map(u=>v.jsx("li",{children:v.jsxs("button",{type:"button",onClick:()=>s(u.key),className:"group flex w-full items-center gap-3 rounded-lg border-2 border-blue-600/30 bg-gradient-to-r from-blue-900/20 to-blue-800/20 px-3 py-2.5 text-left shadow-md transition hover:border-blue-400 hover:from-blue-600 hover:to-blue-500 hover:shadow-xl",children:[v.jsx("span",{className:"text-xl",children:bd(u.key)}),v.jsx("div",{className:"flex-1",children:v.jsx("p",{className:"text-sm font-bold text-white",children:u.name})}),v.jsx("span",{className:"text-lg text-slate-600 group-hover:text-white",children:"+"})]})},u.key))})]}),i.utility.length>0&&v.jsxs("div",{className:"mb-6",children:[v.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-xs font-bold text-purple-400",children:[" TRANSFORM",v.jsxs("span",{className:"text-[9px] text-slate-500",children:["(",i.utility.length,")"]})]}),v.jsx("p",{className:"mb-3 text-[10px] text-slate-400",children:Eu.utility.description}),v.jsx("ul",{className:"space-y-2",children:i.utility.map(u=>v.jsx("li",{children:v.jsxs("button",{type:"button",onClick:()=>s(u.key),className:"group flex w-full items-center gap-3 rounded-lg border-2 border-purple-600/30 bg-gradient-to-r from-purple-900/20 to-purple-800/20 px-3 py-2.5 text-left shadow-md transition hover:border-purple-400 hover:from-purple-600 hover:to-purple-500 hover:shadow-xl",children:[v.jsx("span",{className:"text-xl",children:bd(u.key)}),v.jsx("div",{className:"flex-1",children:v.jsx("p",{className:"text-sm font-bold text-white",children:u.name})}),v.jsx("span",{className:"text-lg text-slate-600 group-hover:text-white",children:"+"})]})},u.key))})]})]}),v.jsx("div",{className:"border-t-2 border-slate-700 bg-slate-900 px-4 py-3",children:v.jsxs("p",{className:"text-[10px] text-slate-400",children:[" ",v.jsx("strong",{children:"Tip:"})," Click nodes on canvas to configure"]})})]})}function bd(e){switch(e){case"manual":return"";case"http":return"";case"if":return"";case"switch":return"";case"filter":return"";case"set":return"";case"split":return"";default:return""}}var dI={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,n(a)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(dI);var hB=dI.exports;const yo=Xo(hB);function pB(e){switch(e){case"manual":return"";case"http":return"";case"if":return"";case"switch":return"";case"filter":return"";case"set":return"";case"split":return"";default:return""}}const fI=D.memo(({data:e,selected:t})=>{const r=ge(m=>m.stepRunStates),n=ge(m=>m.steps),i=ge(m=>m.removeStep),s=ge(m=>m.runStep),o=e,a=r[o.stepKey],u=(a==null?void 0:a.status)??"idle",l=mo[o.schemaKey],c=pB(o.schemaKey),d=n.find(m=>m.key===o.stepKey),f=o.schemaKey==="switch"&&d?d.config.cases||[]:[],p=m=>{m.stopPropagation(),s(o.stepKey)},h=m=>{m.stopPropagation(),i(o.stepKey)},g=dB(l==null?void 0:l.schema.type),w=cB(g);return v.jsxs("div",{className:yo("workflow-node relative rounded-xl border-2 shadow-lg transition-all hover:shadow-xl",w,{"ring-4 ring-indigo-300 scale-105":t,"hover:scale-102":!t}),style:{width:"240px"},children:[o.schemaKey!=="manual"&&v.jsx(Rr,{type:"target",position:oe.Top,className:"!w-3 !h-3 !bg-indigo-500 !border-2 !border-white",style:{top:-6}}),v.jsxs("div",{className:"px-3 py-3 flex items-center gap-3",children:[v.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-white shadow-md flex items-center justify-center text-xl",children:c}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"text-xs font-medium uppercase tracking-wider text-gray-600",children:(l==null?void 0:l.schema.type)??"node"}),v.jsx("p",{className:"text-sm font-bold text-gray-800 truncate",children:o.name})]}),v.jsx("button",{type:"button",onClick:h,className:"flex-shrink-0 w-6 h-6 rounded-full bg-white/50 hover:bg-red-100 flex items-center justify-center text-gray-400 hover:text-red-600 transition-colors",title:"Delete node",children:""})]}),v.jsxs("div",{className:"px-3 pb-2 flex items-center gap-2",children:[v.jsx("div",{className:yo("h-2 w-2 rounded-full",{"bg-gray-300":u==="idle","animate-pulse bg-blue-500":u==="running","bg-green-500":u==="success","bg-red-500":u==="error"})}),v.jsxs("span",{className:"text-xs font-medium text-gray-600",children:[u==="idle"&&"Not executed",u==="running"&&"Executing...",u==="success"&&" Success",u==="error"&&" Failed"]})]}),(a==null?void 0:a.lastRun)&&v.jsx("p",{className:"mb-2 text-[11px] text-ink-400",children:a.lastRun.durationMs?`${a.lastRun.durationMs.toFixed(0)}ms`:""}),v.jsx("div",{className:"px-3 pb-3 flex gap-2",children:v.jsx("button",{type:"button",onClick:p,disabled:u==="running",className:yo("flex-1 rounded-lg px-3 py-2 text-xs font-bold transition-all shadow-sm",{"bg-white text-indigo-600 hover:bg-indigo-50 border border-indigo-300":u!=="running","cursor-not-allowed bg-gray-200 text-gray-500 border border-gray-300":u==="running"}),children:u==="running"?" Running...":" Execute"})}),o.schemaKey==="if"?v.jsxs(v.Fragment,{children:[v.jsx(Rr,{type:"source",position:oe.Bottom,id:"TRUE",style:{left:"35%"},className:"!w-3 !h-3 !bg-green-500 !border-2 !border-white"}),v.jsx("div",{className:"absolute bottom-[-20px] left-[calc(35%-20px)] text-[10px] font-bold text-green-700",style:{pointerEvents:"none"},children:"TRUE"}),v.jsx(Rr,{type:"source",position:oe.Bottom,id:"FALSE",style:{left:"65%"},className:"!w-3 !h-3 !bg-red-500 !border-2 !border-white"}),v.jsx("div",{className:"absolute bottom-[-20px] left-[calc(65%-25px)] text-[10px] font-bold text-red-700",style:{pointerEvents:"none"},children:"FALSE"})]}):o.schemaKey==="switch"&&f.length>0?v.jsxs(v.Fragment,{children:[f.map((m,x)=>{const y=f.length+1,b=(x+1)/(y+1)*100,_=String(m??""),S=["!bg-blue-500","!bg-purple-500","!bg-pink-500","!bg-orange-500","!bg-teal-500"],E=S[x%S.length];return v.jsxs("div",{children:[v.jsx(Rr,{type:"source",position:oe.Bottom,id:`case_${x}`,style:{left:`${b}%`},className:`!w-3 !h-3 ${E} !border-2 !border-white`}),v.jsx("div",{className:"absolute bottom-[-20px] text-[10px] font-bold",style:{left:`calc(${b}% - 15px)`,pointerEvents:"none"},children:_})]},x)}),v.jsx(Rr,{type:"source",position:oe.Bottom,id:"default",style:{left:`${(f.length+1)/(f.length+2)*100}%`},className:"!w-3 !h-3 !bg-gray-500 !border-2 !border-white"}),v.jsx("div",{className:"absolute bottom-[-20px] text-[10px] font-bold text-gray-700",style:{left:`calc(${(f.length+1)/(f.length+2)*100}% - 15px)`,pointerEvents:"none"},children:"default"})]}):v.jsx(Rr,{type:"source",position:oe.Bottom,className:"!w-3 !h-3 !bg-indigo-500 !border-2 !border-white",style:{bottom:-6}})]})});fI.displayName="WorkflowNode";function w0(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _d,Qb;function gB(){if(Qb)return _d;Qb=1;function e(){this.__data__=[],this.size=0}return _d=e,_d}var Sd,Jb;function Ns(){if(Jb)return Sd;Jb=1;function e(t,r){return t===r||t!==t&&r!==r}return Sd=e,Sd}var Ed,e_;function nc(){if(e_)return Ed;e_=1;var e=Ns();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return Ed=t,Ed}var kd,t_;function mB(){if(t_)return kd;t_=1;var e=nc(),t=Array.prototype,r=t.splice;function n(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():r.call(s,o,1),--this.size,!0}return kd=n,kd}var Cd,r_;function yB(){if(r_)return Cd;r_=1;var e=nc();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Cd=t,Cd}var Nd,n_;function vB(){if(n_)return Nd;n_=1;var e=nc();function t(r){return e(this.__data__,r)>-1}return Nd=t,Nd}var Td,i_;function xB(){if(i_)return Td;i_=1;var e=nc();function t(r,n){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return Td=t,Td}var Od,s_;function ic(){if(s_)return Od;s_=1;var e=gB(),t=mB(),r=yB(),n=vB(),i=xB();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Od=s,Od}var Rd,o_;function wB(){if(o_)return Rd;o_=1;var e=ic();function t(){this.__data__=new e,this.size=0}return Rd=t,Rd}var Id,a_;function bB(){if(a_)return Id;a_=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Id=e,Id}var Ad,u_;function _B(){if(u_)return Ad;u_=1;function e(t){return this.__data__.get(t)}return Ad=e,Ad}var Pd,l_;function SB(){if(l_)return Pd;l_=1;function e(t){return this.__data__.has(t)}return Pd=e,Pd}var Dd,c_;function hI(){if(c_)return Dd;c_=1;var e=typeof ka=="object"&&ka&&ka.Object===Object&&ka;return Dd=e,Dd}var jd,d_;function Er(){if(d_)return jd;d_=1;var e=hI(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return jd=r,jd}var Md,f_;function Ts(){if(f_)return Md;f_=1;var e=Er(),t=e.Symbol;return Md=t,Md}var Ld,h_;function EB(){if(h_)return Ld;h_=1;var e=Ts(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function s(o){var a=r.call(o,i),u=o[i];try{o[i]=void 0;var l=!0}catch{}var c=n.call(o);return l&&(a?o[i]=u:delete o[i]),c}return Ld=s,Ld}var Fd,p_;function kB(){if(p_)return Fd;p_=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Fd=r,Fd}var $d,g_;function xi(){if(g_)return $d;g_=1;var e=Ts(),t=EB(),r=kB(),n="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?i:n:s&&s in Object(a)?t(a):r(a)}return $d=o,$d}var qd,m_;function ir(){if(m_)return qd;m_=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return qd=e,qd}var zd,y_;function ma(){if(y_)return zd;y_=1;var e=xi(),t=ir(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var u=e(a);return u==n||u==i||u==r||u==s}return zd=o,zd}var Vd,v_;function CB(){if(v_)return Vd;v_=1;var e=Er(),t=e["__core-js_shared__"];return Vd=t,Vd}var Bd,x_;function NB(){if(x_)return Bd;x_=1;var e=CB(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return Bd=r,Bd}var Hd,w_;function pI(){if(w_)return Hd;w_=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Hd=r,Hd}var Ud,b_;function TB(){if(b_)return Ud;b_=1;var e=ma(),t=NB(),r=ir(),n=pI(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,u=o.toString,l=a.hasOwnProperty,c=RegExp("^"+u.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!r(f)||t(f))return!1;var p=e(f)?c:s;return p.test(n(f))}return Ud=d,Ud}var Wd,__;function OB(){if(__)return Wd;__=1;function e(t,r){return t==null?void 0:t[r]}return Wd=e,Wd}var Gd,S_;function wi(){if(S_)return Gd;S_=1;var e=TB(),t=OB();function r(n,i){var s=t(n,i);return e(s)?s:void 0}return Gd=r,Gd}var Kd,E_;function b0(){if(E_)return Kd;E_=1;var e=wi(),t=Er(),r=e(t,"Map");return Kd=r,Kd}var Yd,k_;function sc(){if(k_)return Yd;k_=1;var e=wi(),t=e(Object,"create");return Yd=t,Yd}var Zd,C_;function RB(){if(C_)return Zd;C_=1;var e=sc();function t(){this.__data__=e?e(null):{},this.size=0}return Zd=t,Zd}var Xd,N_;function IB(){if(N_)return Xd;N_=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Xd=e,Xd}var Qd,T_;function AB(){if(T_)return Qd;T_=1;var e=sc(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return n.call(o,s)?o[s]:void 0}return Qd=i,Qd}var Jd,O_;function PB(){if(O_)return Jd;O_=1;var e=sc(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return Jd=n,Jd}var ef,R_;function DB(){if(R_)return ef;R_=1;var e=sc(),t="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&i===void 0?t:i,this}return ef=r,ef}var tf,I_;function jB(){if(I_)return tf;I_=1;var e=RB(),t=IB(),r=AB(),n=PB(),i=DB();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,tf=s,tf}var rf,A_;function MB(){if(A_)return rf;A_=1;var e=jB(),t=ic(),r=b0();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return rf=n,rf}var nf,P_;function LB(){if(P_)return nf;P_=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return nf=e,nf}var sf,D_;function oc(){if(D_)return sf;D_=1;var e=LB();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return sf=t,sf}var of,j_;function FB(){if(j_)return of;j_=1;var e=oc();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return of=t,of}var af,M_;function $B(){if(M_)return af;M_=1;var e=oc();function t(r){return e(this,r).get(r)}return af=t,af}var uf,L_;function qB(){if(L_)return uf;L_=1;var e=oc();function t(r){return e(this,r).has(r)}return uf=t,uf}var lf,F_;function zB(){if(F_)return lf;F_=1;var e=oc();function t(r,n){var i=e(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return lf=t,lf}var cf,$_;function _0(){if($_)return cf;$_=1;var e=MB(),t=FB(),r=$B(),n=qB(),i=zB();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,cf=s,cf}var df,q_;function VB(){if(q_)return df;q_=1;var e=ic(),t=b0(),r=_0(),n=200;function i(s,o){var a=this.__data__;if(a instanceof e){var u=a.__data__;if(!t||u.length<n-1)return u.push([s,o]),this.size=++a.size,this;a=this.__data__=new r(u)}return a.set(s,o),this.size=a.size,this}return df=i,df}var ff,z_;function ac(){if(z_)return ff;z_=1;var e=ic(),t=wB(),r=bB(),n=_B(),i=SB(),s=VB();function o(a){var u=this.__data__=new e(a);this.size=u.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,ff=o,ff}var hf,V_;function S0(){if(V_)return hf;V_=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i&&r(t[n],n,t)!==!1;);return t}return hf=e,hf}var pf,B_;function gI(){if(B_)return pf;B_=1;var e=wi(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return pf=t,pf}var gf,H_;function uc(){if(H_)return gf;H_=1;var e=gI();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return gf=t,gf}var mf,U_;function lc(){if(U_)return mf;U_=1;var e=uc(),t=Ns(),r=Object.prototype,n=r.hasOwnProperty;function i(s,o,a){var u=s[o];(!(n.call(s,o)&&t(u,a))||a===void 0&&!(o in s))&&e(s,o,a)}return mf=i,mf}var yf,W_;function ya(){if(W_)return yf;W_=1;var e=lc(),t=uc();function r(n,i,s,o){var a=!s;s||(s={});for(var u=-1,l=i.length;++u<l;){var c=i[u],d=o?o(s[c],n[c],c,s,n):void 0;d===void 0&&(d=n[c]),a?t(s,c,d):e(s,c,d)}return s}return yf=r,yf}var vf,G_;function BB(){if(G_)return vf;G_=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return vf=e,vf}var xf,K_;function $r(){if(K_)return xf;K_=1;function e(t){return t!=null&&typeof t=="object"}return xf=e,xf}var wf,Y_;function HB(){if(Y_)return wf;Y_=1;var e=xi(),t=$r(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return wf=n,wf}var bf,Z_;function va(){if(Z_)return bf;Z_=1;var e=HB(),t=$r(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return bf=s,bf}var _f,X_;function rt(){if(X_)return _f;X_=1;var e=Array.isArray;return _f=e,_f}var Qs={exports:{}},Sf,Q_;function UB(){if(Q_)return Sf;Q_=1;function e(){return!1}return Sf=e,Sf}Qs.exports;var J_;function Os(){return J_||(J_=1,function(e,t){var r=Er(),n=UB(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?r.Buffer:void 0,u=a?a.isBuffer:void 0,l=u||n;e.exports=l}(Qs,Qs.exports)),Qs.exports}var Ef,e1;function cc(){if(e1)return Ef;e1=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return Ef=r,Ef}var kf,t1;function E0(){if(t1)return kf;t1=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return kf=t,kf}var Cf,r1;function WB(){if(r1)return Cf;r1=1;var e=xi(),t=E0(),r=$r(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",d="[object Object]",f="[object RegExp]",p="[object Set]",h="[object String]",g="[object WeakMap]",w="[object ArrayBuffer]",m="[object DataView]",x="[object Float32Array]",y="[object Float64Array]",b="[object Int8Array]",_="[object Int16Array]",S="[object Int32Array]",E="[object Uint8Array]",N="[object Uint8ClampedArray]",R="[object Uint16Array]",q="[object Uint32Array]",P={};P[x]=P[y]=P[b]=P[_]=P[S]=P[E]=P[N]=P[R]=P[q]=!0,P[n]=P[i]=P[w]=P[s]=P[m]=P[o]=P[a]=P[u]=P[l]=P[c]=P[d]=P[f]=P[p]=P[h]=P[g]=!1;function I(L){return r(L)&&t(L.length)&&!!P[e(L)]}return Cf=I,Cf}var Nf,n1;function dc(){if(n1)return Nf;n1=1;function e(t){return function(r){return t(r)}}return Nf=e,Nf}var Js={exports:{}};Js.exports;var i1;function k0(){return i1||(i1=1,function(e,t){var r=hI(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}(Js,Js.exports)),Js.exports}var Tf,s1;function xa(){if(s1)return Tf;s1=1;var e=WB(),t=dc(),r=k0(),n=r&&r.isTypedArray,i=n?t(n):e;return Tf=i,Tf}var Of,o1;function mI(){if(o1)return Of;o1=1;var e=BB(),t=va(),r=rt(),n=Os(),i=cc(),s=xa(),o=Object.prototype,a=o.hasOwnProperty;function u(l,c){var d=r(l),f=!d&&t(l),p=!d&&!f&&n(l),h=!d&&!f&&!p&&s(l),g=d||f||p||h,w=g?e(l.length,String):[],m=w.length;for(var x in l)(c||a.call(l,x))&&!(g&&(x=="length"||p&&(x=="offset"||x=="parent")||h&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,m)))&&w.push(x);return w}return Of=u,Of}var Rf,a1;function fc(){if(a1)return Rf;a1=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return Rf=t,Rf}var If,u1;function yI(){if(u1)return If;u1=1;function e(t,r){return function(n){return t(r(n))}}return If=e,If}var Af,l1;function GB(){if(l1)return Af;l1=1;var e=yI(),t=e(Object.keys,Object);return Af=t,Af}var Pf,c1;function C0(){if(c1)return Pf;c1=1;var e=fc(),t=GB(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))n.call(s,a)&&a!="constructor"&&o.push(a);return o}return Pf=i,Pf}var Df,d1;function un(){if(d1)return Df;d1=1;var e=ma(),t=E0();function r(n){return n!=null&&t(n.length)&&!e(n)}return Df=r,Df}var jf,f1;function Vn(){if(f1)return jf;f1=1;var e=mI(),t=C0(),r=un();function n(i){return r(i)?e(i):t(i)}return jf=n,jf}var Mf,h1;function KB(){if(h1)return Mf;h1=1;var e=ya(),t=Vn();function r(n,i){return n&&e(i,t(i),n)}return Mf=r,Mf}var Lf,p1;function YB(){if(p1)return Lf;p1=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return Lf=e,Lf}var Ff,g1;function ZB(){if(g1)return Ff;g1=1;var e=ir(),t=fc(),r=YB(),n=Object.prototype,i=n.hasOwnProperty;function s(o){if(!e(o))return r(o);var a=t(o),u=[];for(var l in o)l=="constructor"&&(a||!i.call(o,l))||u.push(l);return u}return Ff=s,Ff}var $f,m1;function bi(){if(m1)return $f;m1=1;var e=mI(),t=ZB(),r=un();function n(i){return r(i)?e(i,!0):t(i)}return $f=n,$f}var qf,y1;function XB(){if(y1)return qf;y1=1;var e=ya(),t=bi();function r(n,i){return n&&e(i,t(i),n)}return qf=r,qf}var eo={exports:{}};eo.exports;var v1;function vI(){return v1||(v1=1,function(e,t){var r=Er(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var d=l.length,f=a?a(d):new l.constructor(d);return l.copy(f),f}e.exports=u}(eo,eo.exports)),eo.exports}var zf,x1;function xI(){if(x1)return zf;x1=1;function e(t,r){var n=-1,i=t.length;for(r||(r=Array(i));++n<i;)r[n]=t[n];return r}return zf=e,zf}var Vf,w1;function wI(){if(w1)return Vf;w1=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=0,o=[];++n<i;){var a=t[n];r(a,n,t)&&(o[s++]=a)}return o}return Vf=e,Vf}var Bf,b1;function bI(){if(b1)return Bf;b1=1;function e(){return[]}return Bf=e,Bf}var Hf,_1;function N0(){if(_1)return Hf;_1=1;var e=wI(),t=bI(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(a){return n.call(o,a)}))}:t;return Hf=s,Hf}var Uf,S1;function QB(){if(S1)return Uf;S1=1;var e=ya(),t=N0();function r(n,i){return e(n,t(n),i)}return Uf=r,Uf}var Wf,E1;function T0(){if(E1)return Wf;E1=1;function e(t,r){for(var n=-1,i=r.length,s=t.length;++n<i;)t[s+n]=r[n];return t}return Wf=e,Wf}var Gf,k1;function hc(){if(k1)return Gf;k1=1;var e=yI(),t=e(Object.getPrototypeOf,Object);return Gf=t,Gf}var Kf,C1;function _I(){if(C1)return Kf;C1=1;var e=T0(),t=hc(),r=N0(),n=bI(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)e(a,r(o)),o=t(o);return a}:n;return Kf=s,Kf}var Yf,N1;function JB(){if(N1)return Yf;N1=1;var e=ya(),t=_I();function r(n,i){return e(n,t(n),i)}return Yf=r,Yf}var Zf,T1;function SI(){if(T1)return Zf;T1=1;var e=T0(),t=rt();function r(n,i,s){var o=i(n);return t(n)?o:e(o,s(n))}return Zf=r,Zf}var Xf,O1;function EI(){if(O1)return Xf;O1=1;var e=SI(),t=N0(),r=Vn();function n(i){return e(i,r,t)}return Xf=n,Xf}var Qf,R1;function e6(){if(R1)return Qf;R1=1;var e=SI(),t=_I(),r=bi();function n(i){return e(i,r,t)}return Qf=n,Qf}var Jf,I1;function t6(){if(I1)return Jf;I1=1;var e=wi(),t=Er(),r=e(t,"DataView");return Jf=r,Jf}var eh,A1;function r6(){if(A1)return eh;A1=1;var e=wi(),t=Er(),r=e(t,"Promise");return eh=r,eh}var th,P1;function kI(){if(P1)return th;P1=1;var e=wi(),t=Er(),r=e(t,"Set");return th=r,th}var rh,D1;function n6(){if(D1)return rh;D1=1;var e=wi(),t=Er(),r=e(t,"WeakMap");return rh=r,rh}var nh,j1;function Rs(){if(j1)return nh;j1=1;var e=t6(),t=b0(),r=r6(),n=kI(),i=n6(),s=xi(),o=pI(),a="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",d="[object WeakMap]",f="[object DataView]",p=o(e),h=o(t),g=o(r),w=o(n),m=o(i),x=s;return(e&&x(new e(new ArrayBuffer(1)))!=f||t&&x(new t)!=a||r&&x(r.resolve())!=l||n&&x(new n)!=c||i&&x(new i)!=d)&&(x=function(y){var b=s(y),_=b==u?y.constructor:void 0,S=_?o(_):"";if(S)switch(S){case p:return f;case h:return a;case g:return l;case w:return c;case m:return d}return b}),nh=x,nh}var ih,M1;function i6(){if(M1)return ih;M1=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var i=n.length,s=new n.constructor(i);return i&&typeof n[0]=="string"&&t.call(n,"index")&&(s.index=n.index,s.input=n.input),s}return ih=r,ih}var sh,L1;function CI(){if(L1)return sh;L1=1;var e=Er(),t=e.Uint8Array;return sh=t,sh}var oh,F1;function O0(){if(F1)return oh;F1=1;var e=CI();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return oh=t,oh}var ah,$1;function s6(){if($1)return ah;$1=1;var e=O0();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return ah=t,ah}var uh,q1;function o6(){if(q1)return uh;q1=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return uh=t,uh}var lh,z1;function a6(){if(z1)return lh;z1=1;var e=Ts(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return lh=n,lh}var ch,V1;function NI(){if(V1)return ch;V1=1;var e=O0();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return ch=t,ch}var dh,B1;function u6(){if(B1)return dh;B1=1;var e=O0(),t=s6(),r=o6(),n=a6(),i=NI(),s="[object Boolean]",o="[object Date]",a="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",d="[object String]",f="[object Symbol]",p="[object ArrayBuffer]",h="[object DataView]",g="[object Float32Array]",w="[object Float64Array]",m="[object Int8Array]",x="[object Int16Array]",y="[object Int32Array]",b="[object Uint8Array]",_="[object Uint8ClampedArray]",S="[object Uint16Array]",E="[object Uint32Array]";function N(R,q,P){var I=R.constructor;switch(q){case p:return e(R);case s:case o:return new I(+R);case h:return t(R,P);case g:case w:case m:case x:case y:case b:case _:case S:case E:return i(R,P);case a:return new I;case u:case d:return new I(R);case l:return r(R);case c:return new I;case f:return n(R)}}return dh=N,dh}var fh,H1;function TI(){if(H1)return fh;H1=1;var e=ir(),t=Object.create,r=function(){function n(){}return function(i){if(!e(i))return{};if(t)return t(i);n.prototype=i;var s=new n;return n.prototype=void 0,s}}();return fh=r,fh}var hh,U1;function OI(){if(U1)return hh;U1=1;var e=TI(),t=hc(),r=fc();function n(i){return typeof i.constructor=="function"&&!r(i)?e(t(i)):{}}return hh=n,hh}var ph,W1;function l6(){if(W1)return ph;W1=1;var e=Rs(),t=$r(),r="[object Map]";function n(i){return t(i)&&e(i)==r}return ph=n,ph}var gh,G1;function c6(){if(G1)return gh;G1=1;var e=l6(),t=dc(),r=k0(),n=r&&r.isMap,i=n?t(n):e;return gh=i,gh}var mh,K1;function d6(){if(K1)return mh;K1=1;var e=Rs(),t=$r(),r="[object Set]";function n(i){return t(i)&&e(i)==r}return mh=n,mh}var yh,Y1;function f6(){if(Y1)return yh;Y1=1;var e=d6(),t=dc(),r=k0(),n=r&&r.isSet,i=n?t(n):e;return yh=i,yh}var vh,Z1;function RI(){if(Z1)return vh;Z1=1;var e=ac(),t=S0(),r=lc(),n=KB(),i=XB(),s=vI(),o=xI(),a=QB(),u=JB(),l=EI(),c=e6(),d=Rs(),f=i6(),p=u6(),h=OI(),g=rt(),w=Os(),m=c6(),x=ir(),y=f6(),b=Vn(),_=bi(),S=1,E=2,N=4,R="[object Arguments]",q="[object Array]",P="[object Boolean]",I="[object Date]",L="[object Error]",k="[object Function]",j="[object GeneratorFunction]",A="[object Map]",$="[object Number]",C="[object Object]",T="[object RegExp]",F="[object Set]",B="[object String]",H="[object Symbol]",Q="[object WeakMap]",Z="[object ArrayBuffer]",ne="[object DataView]",ae="[object Float32Array]",te="[object Float64Array]",X="[object Int8Array]",le="[object Int16Array]",xe="[object Int32Array]",pe="[object Uint8Array]",fe="[object Uint8ClampedArray]",de="[object Uint16Array]",be="[object Uint32Array]",ce={};ce[R]=ce[q]=ce[Z]=ce[ne]=ce[P]=ce[I]=ce[ae]=ce[te]=ce[X]=ce[le]=ce[xe]=ce[A]=ce[$]=ce[C]=ce[T]=ce[F]=ce[B]=ce[H]=ce[pe]=ce[fe]=ce[de]=ce[be]=!0,ce[L]=ce[k]=ce[Q]=!1;function ke(he,ut,lt,O,M,V){var G,Y=ut&S,U=ut&E,ie=ut&N;if(lt&&(G=M?lt(he,O,M,V):lt(he)),G!==void 0)return G;if(!x(he))return he;var Ce=g(he);if(Ce){if(G=f(he),!Y)return o(he,G)}else{var Oe=d(he),ct=Oe==k||Oe==j;if(w(he))return s(he,Y);if(Oe==C||Oe==R||ct&&!M){if(G=U||ct?{}:h(he),!Y)return U?u(he,i(G,he)):a(he,n(G,he))}else{if(!ce[Oe])return M?he:{};G=p(he,Oe,Y)}}V||(V=new e);var or=V.get(he);if(or)return or;V.set(he,G),y(he)?he.forEach(function(Et){G.add(ke(Et,ut,lt,Et,he,V))}):m(he)&&he.forEach(function(Et,jt){G.set(jt,ke(Et,ut,lt,jt,he,V))});var Kt=ie?U?c:l:U?_:b,Ei=Ce?void 0:Kt(he);return t(Ei||he,function(Et,jt){Ei&&(jt=Et,Et=he[jt]),r(G,jt,ke(Et,ut,lt,jt,he,V))}),G}return vh=ke,vh}var xh,X1;function h6(){if(X1)return xh;X1=1;var e=RI(),t=4;function r(n){return e(n,t)}return xh=r,xh}var wh,Q1;function R0(){if(Q1)return wh;Q1=1;function e(t){return function(){return t}}return wh=e,wh}var bh,J1;function p6(){if(J1)return bh;J1=1;function e(t){return function(r,n,i){for(var s=-1,o=Object(r),a=i(r),u=a.length;u--;){var l=a[t?u:++s];if(n(o[l],l,o)===!1)break}return r}}return bh=e,bh}var _h,eS;function I0(){if(eS)return _h;eS=1;var e=p6(),t=e();return _h=t,_h}var Sh,tS;function A0(){if(tS)return Sh;tS=1;var e=I0(),t=Vn();function r(n,i){return n&&e(n,i,t)}return Sh=r,Sh}var Eh,rS;function g6(){if(rS)return Eh;rS=1;var e=un();function t(r,n){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var o=i.length,a=n?o:-1,u=Object(i);(n?a--:++a<o)&&s(u[a],a,u)!==!1;);return i}}return Eh=t,Eh}var kh,nS;function pc(){if(nS)return kh;nS=1;var e=A0(),t=g6(),r=t(e);return kh=r,kh}var Ch,iS;function _i(){if(iS)return Ch;iS=1;function e(t){return t}return Ch=e,Ch}var Nh,sS;function II(){if(sS)return Nh;sS=1;var e=_i();function t(r){return typeof r=="function"?r:e}return Nh=t,Nh}var Th,oS;function AI(){if(oS)return Th;oS=1;var e=S0(),t=pc(),r=II(),n=rt();function i(s,o){var a=n(s)?e:t;return a(s,r(o))}return Th=i,Th}var Oh,aS;function PI(){return aS||(aS=1,Oh=AI()),Oh}var Rh,uS;function m6(){if(uS)return Rh;uS=1;var e=pc();function t(r,n){var i=[];return e(r,function(s,o,a){n(s,o,a)&&i.push(s)}),i}return Rh=t,Rh}var Ih,lS;function y6(){if(lS)return Ih;lS=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Ih=t,Ih}var Ah,cS;function v6(){if(cS)return Ah;cS=1;function e(t){return this.__data__.has(t)}return Ah=e,Ah}var Ph,dS;function DI(){if(dS)return Ph;dS=1;var e=_0(),t=y6(),r=v6();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Ph=n,Ph}var Dh,fS;function x6(){if(fS)return Dh;fS=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return Dh=e,Dh}var jh,hS;function jI(){if(hS)return jh;hS=1;function e(t,r){return t.has(r)}return jh=e,jh}var Mh,pS;function MI(){if(pS)return Mh;pS=1;var e=DI(),t=x6(),r=jI(),n=1,i=2;function s(o,a,u,l,c,d){var f=u&n,p=o.length,h=a.length;if(p!=h&&!(f&&h>p))return!1;var g=d.get(o),w=d.get(a);if(g&&w)return g==a&&w==o;var m=-1,x=!0,y=u&i?new e:void 0;for(d.set(o,a),d.set(a,o);++m<p;){var b=o[m],_=a[m];if(l)var S=f?l(_,b,m,a,o,d):l(b,_,m,o,a,d);if(S!==void 0){if(S)continue;x=!1;break}if(y){if(!t(a,function(E,N){if(!r(y,N)&&(b===E||c(b,E,u,l,d)))return y.push(N)})){x=!1;break}}else if(!(b===_||c(b,_,u,l,d))){x=!1;break}}return d.delete(o),d.delete(a),x}return Mh=s,Mh}var Lh,gS;function w6(){if(gS)return Lh;gS=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,s){n[++r]=[s,i]}),n}return Lh=e,Lh}var Fh,mS;function P0(){if(mS)return Fh;mS=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return Fh=e,Fh}var $h,yS;function b6(){if(yS)return $h;yS=1;var e=Ts(),t=CI(),r=Ns(),n=MI(),i=w6(),s=P0(),o=1,a=2,u="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Map]",f="[object Number]",p="[object RegExp]",h="[object Set]",g="[object String]",w="[object Symbol]",m="[object ArrayBuffer]",x="[object DataView]",y=e?e.prototype:void 0,b=y?y.valueOf:void 0;function _(S,E,N,R,q,P,I){switch(N){case x:if(S.byteLength!=E.byteLength||S.byteOffset!=E.byteOffset)return!1;S=S.buffer,E=E.buffer;case m:return!(S.byteLength!=E.byteLength||!P(new t(S),new t(E)));case u:case l:case f:return r(+S,+E);case c:return S.name==E.name&&S.message==E.message;case p:case g:return S==E+"";case d:var L=i;case h:var k=R&o;if(L||(L=s),S.size!=E.size&&!k)return!1;var j=I.get(S);if(j)return j==E;R|=a,I.set(S,E);var A=n(L(S),L(E),R,q,P,I);return I.delete(S),A;case w:if(b)return b.call(S)==b.call(E)}return!1}return $h=_,$h}var qh,vS;function _6(){if(vS)return qh;vS=1;var e=EI(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,a,u,l,c){var d=a&t,f=e(s),p=f.length,h=e(o),g=h.length;if(p!=g&&!d)return!1;for(var w=p;w--;){var m=f[w];if(!(d?m in o:n.call(o,m)))return!1}var x=c.get(s),y=c.get(o);if(x&&y)return x==o&&y==s;var b=!0;c.set(s,o),c.set(o,s);for(var _=d;++w<p;){m=f[w];var S=s[m],E=o[m];if(u)var N=d?u(E,S,m,o,s,c):u(S,E,m,s,o,c);if(!(N===void 0?S===E||l(S,E,a,u,c):N)){b=!1;break}_||(_=m=="constructor")}if(b&&!_){var R=s.constructor,q=o.constructor;R!=q&&"constructor"in s&&"constructor"in o&&!(typeof R=="function"&&R instanceof R&&typeof q=="function"&&q instanceof q)&&(b=!1)}return c.delete(s),c.delete(o),b}return qh=i,qh}var zh,xS;function S6(){if(xS)return zh;xS=1;var e=ac(),t=MI(),r=b6(),n=_6(),i=Rs(),s=rt(),o=Os(),a=xa(),u=1,l="[object Arguments]",c="[object Array]",d="[object Object]",f=Object.prototype,p=f.hasOwnProperty;function h(g,w,m,x,y,b){var _=s(g),S=s(w),E=_?c:i(g),N=S?c:i(w);E=E==l?d:E,N=N==l?d:N;var R=E==d,q=N==d,P=E==N;if(P&&o(g)){if(!o(w))return!1;_=!0,R=!1}if(P&&!R)return b||(b=new e),_||a(g)?t(g,w,m,x,y,b):r(g,w,E,m,x,y,b);if(!(m&u)){var I=R&&p.call(g,"__wrapped__"),L=q&&p.call(w,"__wrapped__");if(I||L){var k=I?g.value():g,j=L?w.value():w;return b||(b=new e),y(k,j,m,x,b)}}return P?(b||(b=new e),n(g,w,m,x,y,b)):!1}return zh=h,zh}var Vh,wS;function LI(){if(wS)return Vh;wS=1;var e=S6(),t=$r();function r(n,i,s,o,a){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,s,o,r,a)}return Vh=r,Vh}var Bh,bS;function E6(){if(bS)return Bh;bS=1;var e=ac(),t=LI(),r=1,n=2;function i(s,o,a,u){var l=a.length,c=l,d=!u;if(s==null)return!c;for(s=Object(s);l--;){var f=a[l];if(d&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++l<c;){f=a[l];var p=f[0],h=s[p],g=f[1];if(d&&f[2]){if(h===void 0&&!(p in s))return!1}else{var w=new e;if(u)var m=u(h,g,p,s,o,w);if(!(m===void 0?t(g,h,r|n,u,w):m))return!1}}return!0}return Bh=i,Bh}var Hh,_S;function FI(){if(_S)return Hh;_S=1;var e=ir();function t(r){return r===r&&!e(r)}return Hh=t,Hh}var Uh,SS;function k6(){if(SS)return Uh;SS=1;var e=FI(),t=Vn();function r(n){for(var i=t(n),s=i.length;s--;){var o=i[s],a=n[o];i[s]=[o,a,e(a)]}return i}return Uh=r,Uh}var Wh,ES;function $I(){if(ES)return Wh;ES=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Wh=e,Wh}var Gh,kS;function C6(){if(kS)return Gh;kS=1;var e=E6(),t=k6(),r=$I();function n(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return Gh=n,Gh}var Kh,CS;function Is(){if(CS)return Kh;CS=1;var e=xi(),t=$r(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return Kh=n,Kh}var Yh,NS;function D0(){if(NS)return Yh;NS=1;var e=rt(),t=Is(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(e(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return Yh=i,Yh}var Zh,TS;function N6(){if(TS)return Zh;TS=1;var e=_0(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],u=s.cache;if(u.has(a))return u.get(a);var l=n.apply(this,o);return s.cache=u.set(a,l)||u,l};return s.cache=new(r.Cache||e),s}return r.Cache=e,Zh=r,Zh}var Xh,OS;function T6(){if(OS)return Xh;OS=1;var e=N6(),t=500;function r(n){var i=e(n,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return Xh=r,Xh}var Qh,RS;function O6(){if(RS)return Qh;RS=1;var e=T6(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,u,l){s.push(u?l.replace(r,"$1"):a||o)}),s});return Qh=n,Qh}var Jh,IS;function gc(){if(IS)return Jh;IS=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=r(t[n],n,t);return s}return Jh=e,Jh}var ep,AS;function R6(){if(AS)return ep;AS=1;var e=Ts(),t=gc(),r=rt(),n=Is(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(r(a))return t(a,o)+"";if(n(a))return s?s.call(a):"";var u=a+"";return u=="0"&&1/a==-1/0?"-0":u}return ep=o,ep}var tp,PS;function qI(){if(PS)return tp;PS=1;var e=R6();function t(r){return r==null?"":e(r)}return tp=t,tp}var rp,DS;function mc(){if(DS)return rp;DS=1;var e=rt(),t=D0(),r=O6(),n=qI();function i(s,o){return e(s)?s:t(s,o)?[s]:r(n(s))}return rp=i,rp}var np,jS;function wa(){if(jS)return np;jS=1;var e=Is();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return np=t,np}var ip,MS;function yc(){if(MS)return ip;MS=1;var e=mc(),t=wa();function r(n,i){i=e(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[t(i[s++])];return s&&s==o?n:void 0}return ip=r,ip}var sp,LS;function I6(){if(LS)return sp;LS=1;var e=yc();function t(r,n,i){var s=r==null?void 0:e(r,n);return s===void 0?i:s}return sp=t,sp}var op,FS;function A6(){if(FS)return op;FS=1;function e(t,r){return t!=null&&r in Object(t)}return op=e,op}var ap,$S;function zI(){if($S)return ap;$S=1;var e=mc(),t=va(),r=rt(),n=cc(),i=E0(),s=wa();function o(a,u,l){u=e(u,a);for(var c=-1,d=u.length,f=!1;++c<d;){var p=s(u[c]);if(!(f=a!=null&&l(a,p)))break;a=a[p]}return f||++c!=d?f:(d=a==null?0:a.length,!!d&&i(d)&&n(p,d)&&(r(a)||t(a)))}return ap=o,ap}var up,qS;function VI(){if(qS)return up;qS=1;var e=A6(),t=zI();function r(n,i){return n!=null&&t(n,i,e)}return up=r,up}var lp,zS;function P6(){if(zS)return lp;zS=1;var e=LI(),t=I6(),r=VI(),n=D0(),i=FI(),s=$I(),o=wa(),a=1,u=2;function l(c,d){return n(c)&&i(d)?s(o(c),d):function(f){var p=t(f,c);return p===void 0&&p===d?r(f,c):e(d,p,a|u)}}return lp=l,lp}var cp,VS;function BI(){if(VS)return cp;VS=1;function e(t){return function(r){return r==null?void 0:r[t]}}return cp=e,cp}var dp,BS;function D6(){if(BS)return dp;BS=1;var e=yc();function t(r){return function(n){return e(n,r)}}return dp=t,dp}var fp,HS;function j6(){if(HS)return fp;HS=1;var e=BI(),t=D6(),r=D0(),n=wa();function i(s){return r(s)?e(n(s)):t(s)}return fp=i,fp}var hp,US;function ln(){if(US)return hp;US=1;var e=C6(),t=P6(),r=_i(),n=rt(),i=j6();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return hp=s,hp}var pp,WS;function HI(){if(WS)return pp;WS=1;var e=wI(),t=m6(),r=ln(),n=rt();function i(s,o){var a=n(s)?e:t;return a(s,r(o,3))}return pp=i,pp}var gp,GS;function M6(){if(GS)return gp;GS=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n,i){return n!=null&&t.call(n,i)}return gp=r,gp}var mp,KS;function UI(){if(KS)return mp;KS=1;var e=M6(),t=zI();function r(n,i){return n!=null&&t(n,i,e)}return mp=r,mp}var yp,YS;function L6(){if(YS)return yp;YS=1;var e=C0(),t=Rs(),r=va(),n=rt(),i=un(),s=Os(),o=fc(),a=xa(),u="[object Map]",l="[object Set]",c=Object.prototype,d=c.hasOwnProperty;function f(p){if(p==null)return!0;if(i(p)&&(n(p)||typeof p=="string"||typeof p.splice=="function"||s(p)||a(p)||r(p)))return!p.length;var h=t(p);if(h==u||h==l)return!p.size;if(o(p))return!e(p).length;for(var g in p)if(d.call(p,g))return!1;return!0}return yp=f,yp}var vp,ZS;function WI(){if(ZS)return vp;ZS=1;function e(t){return t===void 0}return vp=e,vp}var xp,XS;function GI(){if(XS)return xp;XS=1;var e=pc(),t=un();function r(n,i){var s=-1,o=t(n)?Array(n.length):[];return e(n,function(a,u,l){o[++s]=i(a,u,l)}),o}return xp=r,xp}var wp,QS;function KI(){if(QS)return wp;QS=1;var e=gc(),t=ln(),r=GI(),n=rt();function i(s,o){var a=n(s)?e:r;return a(s,t(o,3))}return wp=i,wp}var bp,JS;function F6(){if(JS)return bp;JS=1;function e(t,r,n,i){var s=-1,o=t==null?0:t.length;for(i&&o&&(n=t[++s]);++s<o;)n=r(n,t[s],s,t);return n}return bp=e,bp}var _p,eE;function $6(){if(eE)return _p;eE=1;function e(t,r,n,i,s){return s(t,function(o,a,u){n=i?(i=!1,o):r(n,o,a,u)}),n}return _p=e,_p}var Sp,tE;function YI(){if(tE)return Sp;tE=1;var e=F6(),t=pc(),r=ln(),n=$6(),i=rt();function s(o,a,u){var l=i(o)?e:n,c=arguments.length<3;return l(o,r(a,4),u,c,t)}return Sp=s,Sp}var Ep,rE;function q6(){if(rE)return Ep;rE=1;var e=xi(),t=rt(),r=$r(),n="[object String]";function i(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return Ep=i,Ep}var kp,nE;function z6(){if(nE)return kp;nE=1;var e=BI(),t=e("length");return kp=t,kp}var Cp,iE;function V6(){if(iE)return Cp;iE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+e+i+s+"]");function u(l){return a.test(l)}return Cp=u,Cp}var Np,sE;function B6(){if(sE)return Np;sE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="["+e+"]",a="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+a+"|"+u+")",c="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",h=l+"?",g="["+s+"]?",w="(?:"+p+"(?:"+[c,d,f].join("|")+")"+g+h+")*",m=g+h+w,x="(?:"+[c+a+"?",a,d,f,o].join("|")+")",y=RegExp(u+"(?="+u+")|"+x+m,"g");function b(_){for(var S=y.lastIndex=0;y.test(_);)++S;return S}return Np=b,Np}var Tp,oE;function H6(){if(oE)return Tp;oE=1;var e=z6(),t=V6(),r=B6();function n(i){return t(i)?r(i):e(i)}return Tp=n,Tp}var Op,aE;function U6(){if(aE)return Op;aE=1;var e=C0(),t=Rs(),r=un(),n=q6(),i=H6(),s="[object Map]",o="[object Set]";function a(u){if(u==null)return 0;if(r(u))return n(u)?i(u):u.length;var l=t(u);return l==s||l==o?u.size:e(u).length}return Op=a,Op}var Rp,uE;function W6(){if(uE)return Rp;uE=1;var e=S0(),t=TI(),r=A0(),n=ln(),i=hc(),s=rt(),o=Os(),a=ma(),u=ir(),l=xa();function c(d,f,p){var h=s(d),g=h||o(d)||l(d);if(f=n(f,4),p==null){var w=d&&d.constructor;g?p=h?new w:[]:u(d)?p=a(w)?t(i(d)):{}:p={}}return(g?e:r)(d,function(m,x,y){return f(p,m,x,y)}),p}return Rp=c,Rp}var Ip,lE;function G6(){if(lE)return Ip;lE=1;var e=Ts(),t=va(),r=rt(),n=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(n&&s&&s[n])}return Ip=i,Ip}var Ap,cE;function j0(){if(cE)return Ap;cE=1;var e=T0(),t=G6();function r(n,i,s,o,a){var u=-1,l=n.length;for(s||(s=t),a||(a=[]);++u<l;){var c=n[u];i>0&&s(c)?i>1?r(c,i-1,s,o,a):e(a,c):o||(a[a.length]=c)}return a}return Ap=r,Ap}var Pp,dE;function K6(){if(dE)return Pp;dE=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Pp=e,Pp}var Dp,fE;function ZI(){if(fE)return Dp;fE=1;var e=K6(),t=Math.max;function r(n,i,s){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,a=-1,u=t(o.length-i,0),l=Array(u);++a<u;)l[a]=o[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=o[a];return c[i]=s(l),e(n,this,c)}}return Dp=r,Dp}var jp,hE;function Y6(){if(hE)return jp;hE=1;var e=R0(),t=gI(),r=_i(),n=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return jp=n,jp}var Mp,pE;function Z6(){if(pE)return Mp;pE=1;var e=800,t=16,r=Date.now;function n(i){var s=0,o=0;return function(){var a=r(),u=t-(a-o);if(o=a,u>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Mp=n,Mp}var Lp,gE;function XI(){if(gE)return Lp;gE=1;var e=Y6(),t=Z6(),r=t(e);return Lp=r,Lp}var Fp,mE;function vc(){if(mE)return Fp;mE=1;var e=_i(),t=ZI(),r=XI();function n(i,s){return r(t(i,s,e),i+"")}return Fp=n,Fp}var $p,yE;function QI(){if(yE)return $p;yE=1;function e(t,r,n,i){for(var s=t.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(t[o],o,t))return o;return-1}return $p=e,$p}var qp,vE;function X6(){if(vE)return qp;vE=1;function e(t){return t!==t}return qp=e,qp}var zp,xE;function Q6(){if(xE)return zp;xE=1;function e(t,r,n){for(var i=n-1,s=t.length;++i<s;)if(t[i]===r)return i;return-1}return zp=e,zp}var Vp,wE;function J6(){if(wE)return Vp;wE=1;var e=QI(),t=X6(),r=Q6();function n(i,s,o){return s===s?r(i,s,o):e(i,t,o)}return Vp=n,Vp}var Bp,bE;function eH(){if(bE)return Bp;bE=1;var e=J6();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return Bp=t,Bp}var Hp,_E;function tH(){if(_E)return Hp;_E=1;function e(t,r,n){for(var i=-1,s=t==null?0:t.length;++i<s;)if(n(r,t[i]))return!0;return!1}return Hp=e,Hp}var Up,SE;function rH(){if(SE)return Up;SE=1;function e(){}return Up=e,Up}var Wp,EE;function nH(){if(EE)return Wp;EE=1;var e=kI(),t=rH(),r=P0(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return Wp=i,Wp}var Gp,kE;function iH(){if(kE)return Gp;kE=1;var e=DI(),t=eH(),r=tH(),n=jI(),i=nH(),s=P0(),o=200;function a(u,l,c){var d=-1,f=t,p=u.length,h=!0,g=[],w=g;if(c)h=!1,f=r;else if(p>=o){var m=l?null:i(u);if(m)return s(m);h=!1,f=n,w=new e}else w=l?[]:g;e:for(;++d<p;){var x=u[d],y=l?l(x):x;if(x=c||x!==0?x:0,h&&y===y){for(var b=w.length;b--;)if(w[b]===y)continue e;l&&w.push(y),g.push(x)}else f(w,y,c)||(w!==g&&w.push(y),g.push(x))}return g}return Gp=a,Gp}var Kp,CE;function JI(){if(CE)return Kp;CE=1;var e=un(),t=$r();function r(n){return t(n)&&e(n)}return Kp=r,Kp}var Yp,NE;function sH(){if(NE)return Yp;NE=1;var e=j0(),t=vc(),r=iH(),n=JI(),i=t(function(s){return r(e(s,1,n,!0))});return Yp=i,Yp}var Zp,TE;function oH(){if(TE)return Zp;TE=1;var e=gc();function t(r,n){return e(n,function(i){return r[i]})}return Zp=t,Zp}var Xp,OE;function eA(){if(OE)return Xp;OE=1;var e=oH(),t=Vn();function r(n){return n==null?[]:e(n,t(n))}return Xp=r,Xp}var Qp,RE;function sr(){if(RE)return Qp;RE=1;var e;if(typeof w0=="function")try{e={clone:h6(),constant:R0(),each:PI(),filter:HI(),has:UI(),isArray:rt(),isEmpty:L6(),isFunction:ma(),isUndefined:WI(),keys:Vn(),map:KI(),reduce:YI(),size:U6(),transform:W6(),union:sH(),values:eA()}}catch{}return e||(e=window._),Qp=e,Qp}var Jp,IE;function M0(){if(IE)return Jp;IE=1;var e=sr();Jp=i;var t="\0",r="\0",n="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._in[d])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._out[d])})},i.prototype.setNodes=function(c,d){var f=arguments,p=this;return e.each(c,function(h){f.length>1?p.setNode(h,d):p.setNode(h)}),this},i.prototype.setNode=function(c,d){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=r,this._children[c]={},this._children[r][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var d=this;if(e.has(this._nodes,c)){var f=function(p){d.removeEdge(d._edgeObjs[p])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(p){d.setParent(p)}),delete this._children[c]),e.each(e.keys(this._in[c]),f),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),f),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=r;else{d+="";for(var f=d;!e.isUndefined(f);f=this.parent(f))if(f===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var d=this._parent[c];if(d!==r)return d}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=r),this._isCompound){var d=this._children[c];if(d)return e.keys(d)}else{if(c===r)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var d=this._preds[c];if(d)return e.keys(d)},i.prototype.successors=function(c){var d=this._sucs[c];if(d)return e.keys(d)},i.prototype.neighbors=function(c){var d=this.predecessors(c);if(d)return e.union(d,this.successors(c))},i.prototype.isLeaf=function(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0},i.prototype.filterNodes=function(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;e.each(this._nodes,function(g,w){c(w)&&d.setNode(w,g)}),e.each(this._edgeObjs,function(g){d.hasNode(g.v)&&d.hasNode(g.w)&&d.setEdge(g,f.edge(g))});var p={};function h(g){var w=f.parent(g);return w===void 0||d.hasNode(w)?(p[g]=w,w):w in p?p[w]:h(w)}return this._isCompound&&e.each(d.nodes(),function(g){d.setParent(g,h(g))}),d},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,d){var f=this,p=arguments;return e.reduce(c,function(h,g){return p.length>1?f.setEdge(h,g,d):f.setEdge(h,g),g}),this},i.prototype.setEdge=function(){var c,d,f,p,h=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(c=g.v,d=g.w,f=g.name,arguments.length===2&&(p=arguments[1],h=!0)):(c=g,d=arguments[1],f=arguments[3],arguments.length>2&&(p=arguments[2],h=!0)),c=""+c,d=""+d,e.isUndefined(f)||(f=""+f);var w=a(this._isDirected,c,d,f);if(e.has(this._edgeLabels,w))return h&&(this._edgeLabels[w]=p),this;if(!e.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[w]=h?p:this._defaultEdgeLabelFn(c,d,f);var m=u(this._isDirected,c,d,f);return c=m.v,d=m.w,Object.freeze(m),this._edgeObjs[w]=m,s(this._preds[d],c),s(this._sucs[c],d),this._in[d][w]=m,this._out[c][w]=m,this._edgeCount++,this},i.prototype.edge=function(c,d,f){var p=arguments.length===1?l(this._isDirected,arguments[0]):a(this._isDirected,c,d,f);return this._edgeLabels[p]},i.prototype.hasEdge=function(c,d,f){var p=arguments.length===1?l(this._isDirected,arguments[0]):a(this._isDirected,c,d,f);return e.has(this._edgeLabels,p)},i.prototype.removeEdge=function(c,d,f){var p=arguments.length===1?l(this._isDirected,arguments[0]):a(this._isDirected,c,d,f),h=this._edgeObjs[p];return h&&(c=h.v,d=h.w,delete this._edgeLabels[p],delete this._edgeObjs[p],o(this._preds[d],c),o(this._sucs[c],d),delete this._in[d][p],delete this._out[c][p],this._edgeCount--),this},i.prototype.inEdges=function(c,d){var f=this._in[c];if(f){var p=e.values(f);return d?e.filter(p,function(h){return h.v===d}):p}},i.prototype.outEdges=function(c,d){var f=this._out[c];if(f){var p=e.values(f);return d?e.filter(p,function(h){return h.w===d}):p}},i.prototype.nodeEdges=function(c,d){var f=this.inEdges(c,d);if(f)return f.concat(this.outEdges(c,d))};function s(c,d){c[d]?c[d]++:c[d]=1}function o(c,d){--c[d]||delete c[d]}function a(c,d,f,p){var h=""+d,g=""+f;if(!c&&h>g){var w=h;h=g,g=w}return h+n+g+n+(e.isUndefined(p)?t:p)}function u(c,d,f,p){var h=""+d,g=""+f;if(!c&&h>g){var w=h;h=g,g=w}var m={v:h,w:g};return p&&(m.name=p),m}function l(c,d){return a(c,d.v,d.w,d.name)}return Jp}var eg,AE;function aH(){return AE||(AE=1,eg="2.1.8"),eg}var tg,PE;function uH(){return PE||(PE=1,tg={Graph:M0(),version:aH()}),tg}var rg,DE;function lH(){if(DE)return rg;DE=1;var e=sr(),t=M0();rg={write:r,read:s};function r(o){var a={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:n(o),edges:i(o)};return e.isUndefined(o.graph())||(a.value=e.clone(o.graph())),a}function n(o){return e.map(o.nodes(),function(a){var u=o.node(a),l=o.parent(a),c={v:a};return e.isUndefined(u)||(c.value=u),e.isUndefined(l)||(c.parent=l),c})}function i(o){return e.map(o.edges(),function(a){var u=o.edge(a),l={v:a.v,w:a.w};return e.isUndefined(a.name)||(l.name=a.name),e.isUndefined(u)||(l.value=u),l})}function s(o){var a=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(u){a.setNode(u.v,u.value),u.parent&&a.setParent(u.v,u.parent)}),e.each(o.edges,function(u){a.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),a}return rg}var ng,jE;function cH(){if(jE)return ng;jE=1;var e=sr();ng=t;function t(r){var n={},i=[],s;function o(a){e.has(n,a)||(n[a]=!0,s.push(a),e.each(r.successors(a),o),e.each(r.predecessors(a),o))}return e.each(r.nodes(),function(a){s=[],o(a),s.length&&i.push(s)}),i}return ng}var ig,ME;function tA(){if(ME)return ig;ME=1;var e=sr();ig=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(r){return r.key})},t.prototype.has=function(r){return e.has(this._keyIndices,r)},t.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(r,n){var i=this._keyIndices;if(r=String(r),!e.has(i,r)){var s=this._arr,o=s.length;return i[r]=o,s.push({key:r,priority:n}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},t.prototype.decrease=function(r,n){var i=this._keyIndices[r];if(n>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[i].priority+" New: "+n);this._arr[i].priority=n,this._decrease(i)},t.prototype._heapify=function(r){var n=this._arr,i=2*r,s=i+1,o=r;i<n.length&&(o=n[i].priority<n[o].priority?i:o,s<n.length&&(o=n[s].priority<n[o].priority?s:o),o!==r&&(this._swap(r,o),this._heapify(o)))},t.prototype._decrease=function(r){for(var n=this._arr,i=n[r].priority,s;r!==0&&(s=r>>1,!(n[s].priority<i));)this._swap(r,s),r=s},t.prototype._swap=function(r,n){var i=this._arr,s=this._keyIndices,o=i[r],a=i[n];i[r]=a,i[n]=o,s[a.key]=r,s[o.key]=n},ig}var sg,LE;function rA(){if(LE)return sg;LE=1;var e=sr(),t=tA();sg=n;var r=e.constant(1);function n(s,o,a,u){return i(s,String(o),a||r,u||function(l){return s.outEdges(l)})}function i(s,o,a,u){var l={},c=new t,d,f,p=function(h){var g=h.v!==d?h.v:h.w,w=l[g],m=a(h),x=f.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+m);x<w.distance&&(w.distance=x,w.predecessor=d,c.decrease(g,x))};for(s.nodes().forEach(function(h){var g=h===o?0:Number.POSITIVE_INFINITY;l[h]={distance:g},c.add(h,g)});c.size()>0&&(d=c.removeMin(),f=l[d],f.distance!==Number.POSITIVE_INFINITY);)u(d).forEach(p);return l}return sg}var og,FE;function dH(){if(FE)return og;FE=1;var e=rA(),t=sr();og=r;function r(n,i,s){return t.transform(n.nodes(),function(o,a){o[a]=e(n,a,i,s)},{})}return og}var ag,$E;function nA(){if($E)return ag;$E=1;var e=sr();ag=t;function t(r){var n=0,i=[],s={},o=[];function a(u){var l=s[u]={onStack:!0,lowlink:n,index:n++};if(i.push(u),r.successors(u).forEach(function(f){e.has(s,f)?s[f].onStack&&(l.lowlink=Math.min(l.lowlink,s[f].index)):(a(f),l.lowlink=Math.min(l.lowlink,s[f].lowlink))}),l.lowlink===l.index){var c=[],d;do d=i.pop(),s[d].onStack=!1,c.push(d);while(u!==d);o.push(c)}}return r.nodes().forEach(function(u){e.has(s,u)||a(u)}),o}return ag}var ug,qE;function fH(){if(qE)return ug;qE=1;var e=sr(),t=nA();ug=r;function r(n){return e.filter(t(n),function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return ug}var lg,zE;function hH(){if(zE)return lg;zE=1;var e=sr();lg=r;var t=e.constant(1);function r(i,s,o){return n(i,s||t,o||function(a){return i.outEdges(a)})}function n(i,s,o){var a={},u=i.nodes();return u.forEach(function(l){a[l]={},a[l][l]={distance:0},u.forEach(function(c){l!==c&&(a[l][c]={distance:Number.POSITIVE_INFINITY})}),o(l).forEach(function(c){var d=c.v===l?c.w:c.v,f=s(c);a[l][d]={distance:f,predecessor:l}})}),u.forEach(function(l){var c=a[l];u.forEach(function(d){var f=a[d];u.forEach(function(p){var h=f[l],g=c[p],w=f[p],m=h.distance+g.distance;m<w.distance&&(w.distance=m,w.predecessor=g.predecessor)})})}),a}return lg}var cg,VE;function iA(){if(VE)return cg;VE=1;var e=sr();cg=t,t.CycleException=r;function t(n){var i={},s={},o=[];function a(u){if(e.has(s,u))throw new r;e.has(i,u)||(s[u]=!0,i[u]=!0,e.each(n.predecessors(u),a),delete s[u],o.push(u))}if(e.each(n.sinks(),a),e.size(i)!==n.nodeCount())throw new r;return o}function r(){}return r.prototype=new Error,cg}var dg,BE;function pH(){if(BE)return dg;BE=1;var e=iA();dg=t;function t(r){try{e(r)}catch(n){if(n instanceof e.CycleException)return!1;throw n}return!0}return dg}var fg,HE;function sA(){if(HE)return fg;HE=1;var e=sr();fg=t;function t(n,i,s){e.isArray(i)||(i=[i]);var o=(n.isDirected()?n.successors:n.neighbors).bind(n),a=[],u={};return e.each(i,function(l){if(!n.hasNode(l))throw new Error("Graph does not have node: "+l);r(n,l,s==="post",u,o,a)}),a}function r(n,i,s,o,a,u){e.has(o,i)||(o[i]=!0,s||u.push(i),e.each(a(i),function(l){r(n,l,s,o,a,u)}),s&&u.push(i))}return fg}var hg,UE;function gH(){if(UE)return hg;UE=1;var e=sA();hg=t;function t(r,n){return e(r,n,"post")}return hg}var pg,WE;function mH(){if(WE)return pg;WE=1;var e=sA();pg=t;function t(r,n){return e(r,n,"pre")}return pg}var gg,GE;function yH(){if(GE)return gg;GE=1;var e=sr(),t=M0(),r=tA();gg=n;function n(i,s){var o=new t,a={},u=new r,l;function c(f){var p=f.v===l?f.w:f.v,h=u.priority(p);if(h!==void 0){var g=s(f);g<h&&(a[p]=l,u.decrease(p,g))}}if(i.nodeCount()===0)return o;e.each(i.nodes(),function(f){u.add(f,Number.POSITIVE_INFINITY),o.setNode(f)}),u.decrease(i.nodes()[0],0);for(var d=!1;u.size()>0;){if(l=u.removeMin(),e.has(a,l))o.setEdge(l,a[l]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(l).forEach(c)}return o}return gg}var mg,KE;function vH(){return KE||(KE=1,mg={components:cH(),dijkstra:rA(),dijkstraAll:dH(),findCycles:fH(),floydWarshall:hH(),isAcyclic:pH(),postorder:gH(),preorder:mH(),prim:yH(),tarjan:nA(),topsort:iA()}),mg}var yg,YE;function xH(){if(YE)return yg;YE=1;var e=uH();return yg={Graph:e.Graph,json:lH(),alg:vH(),version:e.version},yg}var pl;if(typeof w0=="function")try{pl=xH()}catch{}pl||(pl=window.graphlib);var kr=pl,vg,ZE;function wH(){if(ZE)return vg;ZE=1;var e=RI(),t=1,r=4;function n(i){return e(i,t|r)}return vg=n,vg}var xg,XE;function xc(){if(XE)return xg;XE=1;var e=Ns(),t=un(),r=cc(),n=ir();function i(s,o,a){if(!n(a))return!1;var u=typeof o;return(u=="number"?t(a)&&r(o,a.length):u=="string"&&o in a)?e(a[o],s):!1}return xg=i,xg}var wg,QE;function bH(){if(QE)return wg;QE=1;var e=vc(),t=Ns(),r=xc(),n=bi(),i=Object.prototype,s=i.hasOwnProperty,o=e(function(a,u){a=Object(a);var l=-1,c=u.length,d=c>2?u[2]:void 0;for(d&&r(u[0],u[1],d)&&(c=1);++l<c;)for(var f=u[l],p=n(f),h=-1,g=p.length;++h<g;){var w=p[h],m=a[w];(m===void 0||t(m,i[w])&&!s.call(a,w))&&(a[w]=f[w])}return a});return wg=o,wg}var bg,JE;function _H(){if(JE)return bg;JE=1;var e=ln(),t=un(),r=Vn();function n(i){return function(s,o,a){var u=Object(s);if(!t(s)){var l=e(o,3);s=r(s),o=function(d){return l(u[d],d,u)}}var c=i(s,o,a);return c>-1?u[l?s[c]:c]:void 0}}return bg=n,bg}var _g,ek;function SH(){if(ek)return _g;ek=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return _g=t,_g}var Sg,tk;function EH(){if(tk)return Sg;tk=1;var e=SH(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Sg=r,Sg}var Eg,rk;function kH(){if(rk)return Eg;rk=1;var e=EH(),t=ir(),r=Is(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function u(l){if(typeof l=="number")return l;if(r(l))return n;if(t(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=t(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=e(l);var d=s.test(l);return d||o.test(l)?a(l.slice(2),d?2:8):i.test(l)?n:+l}return Eg=u,Eg}var kg,nk;function oA(){if(nk)return kg;nk=1;var e=kH(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return kg=n,kg}var Cg,ik;function CH(){if(ik)return Cg;ik=1;var e=oA();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return Cg=t,Cg}var Ng,sk;function NH(){if(sk)return Ng;sk=1;var e=QI(),t=ln(),r=CH(),n=Math.max;function i(s,o,a){var u=s==null?0:s.length;if(!u)return-1;var l=a==null?0:r(a);return l<0&&(l=n(u+l,0)),e(s,t(o,3),l)}return Ng=i,Ng}var Tg,ok;function TH(){if(ok)return Tg;ok=1;var e=_H(),t=NH(),r=e(t);return Tg=r,Tg}var Og,ak;function aA(){if(ak)return Og;ak=1;var e=j0();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return Og=t,Og}var Rg,uk;function OH(){if(uk)return Rg;uk=1;var e=I0(),t=II(),r=bi();function n(i,s){return i==null?i:e(i,t(s),r)}return Rg=n,Rg}var Ig,lk;function RH(){if(lk)return Ig;lk=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Ig=e,Ig}var Ag,ck;function IH(){if(ck)return Ag;ck=1;var e=uc(),t=A0(),r=ln();function n(i,s){var o={};return s=r(s,3),t(i,function(a,u,l){e(o,u,s(a,u,l))}),o}return Ag=n,Ag}var Pg,dk;function L0(){if(dk)return Pg;dk=1;var e=Is();function t(r,n,i){for(var s=-1,o=r.length;++s<o;){var a=r[s],u=n(a);if(u!=null&&(l===void 0?u===u&&!e(u):i(u,l)))var l=u,c=a}return c}return Pg=t,Pg}var Dg,fk;function AH(){if(fk)return Dg;fk=1;function e(t,r){return t>r}return Dg=e,Dg}var jg,hk;function PH(){if(hk)return jg;hk=1;var e=L0(),t=AH(),r=_i();function n(i){return i&&i.length?e(i,r,t):void 0}return jg=n,jg}var Mg,pk;function uA(){if(pk)return Mg;pk=1;var e=uc(),t=Ns();function r(n,i,s){(s!==void 0&&!t(n[i],s)||s===void 0&&!(i in n))&&e(n,i,s)}return Mg=r,Mg}var Lg,gk;function DH(){if(gk)return Lg;gk=1;var e=xi(),t=hc(),r=$r(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,u=o.call(Object);function l(c){if(!r(c)||e(c)!=n)return!1;var d=t(c);if(d===null)return!0;var f=a.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==u}return Lg=l,Lg}var Fg,mk;function lA(){if(mk)return Fg;mk=1;function e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}return Fg=e,Fg}var $g,yk;function jH(){if(yk)return $g;yk=1;var e=ya(),t=bi();function r(n){return e(n,t(n))}return $g=r,$g}var qg,vk;function MH(){if(vk)return qg;vk=1;var e=uA(),t=vI(),r=NI(),n=xI(),i=OI(),s=va(),o=rt(),a=JI(),u=Os(),l=ma(),c=ir(),d=DH(),f=xa(),p=lA(),h=jH();function g(w,m,x,y,b,_,S){var E=p(w,x),N=p(m,x),R=S.get(N);if(R){e(w,x,R);return}var q=_?_(E,N,x+"",w,m,S):void 0,P=q===void 0;if(P){var I=o(N),L=!I&&u(N),k=!I&&!L&&f(N);q=N,I||L||k?o(E)?q=E:a(E)?q=n(E):L?(P=!1,q=t(N,!0)):k?(P=!1,q=r(N,!0)):q=[]:d(N)||s(N)?(q=E,s(E)?q=h(E):(!c(E)||l(E))&&(q=i(N))):P=!1}P&&(S.set(N,q),b(q,N,y,_,S),S.delete(N)),e(w,x,q)}return qg=g,qg}var zg,xk;function LH(){if(xk)return zg;xk=1;var e=ac(),t=uA(),r=I0(),n=MH(),i=ir(),s=bi(),o=lA();function a(u,l,c,d,f){u!==l&&r(l,function(p,h){if(f||(f=new e),i(p))n(u,l,h,c,a,d,f);else{var g=d?d(o(u,h),p,h+"",u,l,f):void 0;g===void 0&&(g=p),t(u,h,g)}},s)}return zg=a,zg}var Vg,wk;function FH(){if(wk)return Vg;wk=1;var e=vc(),t=xc();function r(n){return e(function(i,s){var o=-1,a=s.length,u=a>1?s[a-1]:void 0,l=a>2?s[2]:void 0;for(u=n.length>3&&typeof u=="function"?(a--,u):void 0,l&&t(s[0],s[1],l)&&(u=a<3?void 0:u,a=1),i=Object(i);++o<a;){var c=s[o];c&&n(i,c,o,u)}return i})}return Vg=r,Vg}var Bg,bk;function $H(){if(bk)return Bg;bk=1;var e=LH(),t=FH(),r=t(function(n,i,s){e(n,i,s)});return Bg=r,Bg}var Hg,_k;function cA(){if(_k)return Hg;_k=1;function e(t,r){return t<r}return Hg=e,Hg}var Ug,Sk;function qH(){if(Sk)return Ug;Sk=1;var e=L0(),t=cA(),r=_i();function n(i){return i&&i.length?e(i,r,t):void 0}return Ug=n,Ug}var Wg,Ek;function zH(){if(Ek)return Wg;Ek=1;var e=L0(),t=ln(),r=cA();function n(i,s){return i&&i.length?e(i,t(s,2),r):void 0}return Wg=n,Wg}var Gg,kk;function VH(){if(kk)return Gg;kk=1;var e=Er(),t=function(){return e.Date.now()};return Gg=t,Gg}var Kg,Ck;function BH(){if(Ck)return Kg;Ck=1;var e=lc(),t=mc(),r=cc(),n=ir(),i=wa();function s(o,a,u,l){if(!n(o))return o;a=t(a,o);for(var c=-1,d=a.length,f=d-1,p=o;p!=null&&++c<d;){var h=i(a[c]),g=u;if(h==="__proto__"||h==="constructor"||h==="prototype")return o;if(c!=f){var w=p[h];g=l?l(w,h,p):void 0,g===void 0&&(g=n(w)?w:r(a[c+1])?[]:{})}e(p,h,g),p=p[h]}return o}return Kg=s,Kg}var Yg,Nk;function HH(){if(Nk)return Yg;Nk=1;var e=yc(),t=BH(),r=mc();function n(i,s,o){for(var a=-1,u=s.length,l={};++a<u;){var c=s[a],d=e(i,c);o(d,c)&&t(l,r(c,i),d)}return l}return Yg=n,Yg}var Zg,Tk;function UH(){if(Tk)return Zg;Tk=1;var e=HH(),t=VI();function r(n,i){return e(n,i,function(s,o){return t(n,o)})}return Zg=r,Zg}var Xg,Ok;function WH(){if(Ok)return Xg;Ok=1;var e=aA(),t=ZI(),r=XI();function n(i){return r(t(i,void 0,e),i+"")}return Xg=n,Xg}var Qg,Rk;function GH(){if(Rk)return Qg;Rk=1;var e=UH(),t=WH(),r=t(function(n,i){return n==null?{}:e(n,i)});return Qg=r,Qg}var Jg,Ik;function KH(){if(Ik)return Jg;Ik=1;var e=Math.ceil,t=Math.max;function r(n,i,s,o){for(var a=-1,u=t(e((i-n)/(s||1)),0),l=Array(u);u--;)l[o?u:++a]=n,n+=s;return l}return Jg=r,Jg}var em,Ak;function YH(){if(Ak)return em;Ak=1;var e=KH(),t=xc(),r=oA();function n(i){return function(s,o,a){return a&&typeof a!="number"&&t(s,o,a)&&(o=a=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),a=a===void 0?s<o?1:-1:r(a),e(s,o,a,i)}}return em=n,em}var tm,Pk;function ZH(){if(Pk)return tm;Pk=1;var e=YH(),t=e();return tm=t,tm}var rm,Dk;function XH(){if(Dk)return rm;Dk=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return rm=e,rm}var nm,jk;function QH(){if(jk)return nm;jk=1;var e=Is();function t(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,a=e(r),u=n!==void 0,l=n===null,c=n===n,d=e(n);if(!l&&!d&&!a&&r>n||a&&u&&c&&!l&&!d||s&&u&&c||!i&&c||!o)return 1;if(!s&&!a&&!d&&r<n||d&&i&&o&&!s&&!a||l&&i&&o||!u&&o||!c)return-1}return 0}return nm=t,nm}var im,Mk;function JH(){if(Mk)return im;Mk=1;var e=QH();function t(r,n,i){for(var s=-1,o=r.criteria,a=n.criteria,u=o.length,l=i.length;++s<u;){var c=e(o[s],a[s]);if(c){if(s>=l)return c;var d=i[s];return c*(d=="desc"?-1:1)}}return r.index-n.index}return im=t,im}var sm,Lk;function eU(){if(Lk)return sm;Lk=1;var e=gc(),t=yc(),r=ln(),n=GI(),i=XH(),s=dc(),o=JH(),a=_i(),u=rt();function l(c,d,f){d.length?d=e(d,function(g){return u(g)?function(w){return t(w,g.length===1?g[0]:g)}:g}):d=[a];var p=-1;d=e(d,s(r));var h=n(c,function(g,w,m){var x=e(d,function(y){return y(g)});return{criteria:x,index:++p,value:g}});return i(h,function(g,w){return o(g,w,f)})}return sm=l,sm}var om,Fk;function tU(){if(Fk)return om;Fk=1;var e=j0(),t=eU(),r=vc(),n=xc(),i=r(function(s,o){if(s==null)return[];var a=o.length;return a>1&&n(s,o[0],o[1])?o=[]:a>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return om=i,om}var am,$k;function rU(){if($k)return am;$k=1;var e=qI(),t=0;function r(n){var i=++t;return e(n)+i}return am=r,am}var um,qk;function nU(){if(qk)return um;qk=1;function e(t,r,n){for(var i=-1,s=t.length,o=r.length,a={};++i<s;){var u=i<o?r[i]:void 0;n(a,t[i],u)}return a}return um=e,um}var lm,zk;function iU(){if(zk)return lm;zk=1;var e=lc(),t=nU();function r(n,i){return t(n||[],i||[],e)}return lm=r,lm}var gl;if(typeof w0=="function")try{gl={cloneDeep:wH(),constant:R0(),defaults:bH(),each:PI(),filter:HI(),find:TH(),flatten:aA(),forEach:AI(),forIn:OH(),has:UI(),isUndefined:WI(),last:RH(),map:KI(),mapValues:IH(),max:PH(),merge:$H(),min:qH(),minBy:zH(),now:VH(),pick:GH(),range:ZH(),reduce:YI(),sortBy:tU(),uniqueId:rU(),values:eA(),zipObject:iU()}}catch{}gl||(gl=window._);var Ve=gl,sU=wc;function wc(){var e={};e._next=e._prev=e,this._sentinel=e}wc.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return dA(t),t};wc.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&dA(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};wc.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,oU)),r=r._prev;return"["+e.join(", ")+"]"};function dA(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function oU(e,t){if(e!=="_next"&&e!=="_prev")return t}var Kr=Ve,aU=kr.Graph,uU=sU,lU=dU,cU=Kr.constant(1);function dU(e,t){if(e.nodeCount()<=1)return[];var r=hU(e,t||cU),n=fU(r.graph,r.buckets,r.zeroIdx);return Kr.flatten(Kr.map(n,function(i){return e.outEdges(i.v,i.w)}),!0)}function fU(e,t,r){for(var n=[],i=t[t.length-1],s=t[0],o;e.nodeCount();){for(;o=s.dequeue();)cm(e,t,r,o);for(;o=i.dequeue();)cm(e,t,r,o);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(o=t[a].dequeue(),o){n=n.concat(cm(e,t,r,o,!0));break}}}return n}function cm(e,t,r,n,i){var s=i?[]:void 0;return Kr.forEach(e.inEdges(n.v),function(o){var a=e.edge(o),u=e.node(o.v);i&&s.push({v:o.v,w:o.w}),u.out-=a,Hy(t,r,u)}),Kr.forEach(e.outEdges(n.v),function(o){var a=e.edge(o),u=o.w,l=e.node(u);l.in-=a,Hy(t,r,l)}),e.removeNode(n.v),s}function hU(e,t){var r=new aU,n=0,i=0;Kr.forEach(e.nodes(),function(a){r.setNode(a,{v:a,in:0,out:0})}),Kr.forEach(e.edges(),function(a){var u=r.edge(a.v,a.w)||0,l=t(a),c=u+l;r.setEdge(a.v,a.w,c),i=Math.max(i,r.node(a.v).out+=l),n=Math.max(n,r.node(a.w).in+=l)});var s=Kr.range(i+n+3).map(function(){return new uU}),o=n+1;return Kr.forEach(r.nodes(),function(a){Hy(s,o,r.node(a))}),{graph:r,buckets:s,zeroIdx:o}}function Hy(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var Xn=Ve,pU=lU,gU={run:mU,undo:vU};function mU(e){var t=e.graph().acyclicer==="greedy"?pU(e,r(e)):yU(e);Xn.forEach(t,function(n){var i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,Xn.uniqueId("rev"))});function r(n){return function(i){return n.edge(i).weight}}}function yU(e){var t=[],r={},n={};function i(s){Xn.has(n,s)||(n[s]=!0,r[s]=!0,Xn.forEach(e.outEdges(s),function(o){Xn.has(r,o.w)?t.push(o):i(o.w)}),delete r[s])}return Xn.forEach(e.nodes(),i),t}function vU(e){Xn.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}var De=Ve,fA=kr.Graph,Dt={addDummyNode:hA,simplify:xU,asNonCompoundGraph:wU,successorWeights:bU,predecessorWeights:_U,intersectRect:SU,buildLayerMatrix:EU,normalizeRanks:kU,removeEmptyRanks:CU,addBorderNode:NU,maxRank:pA,partition:TU,time:OU,notime:RU};function hA(e,t,r,n){var i;do i=De.uniqueId(n);while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}function xU(e){var t=new fA().setGraph(e.graph());return De.forEach(e.nodes(),function(r){t.setNode(r,e.node(r))}),De.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t}function wU(e){var t=new fA({multigraph:e.isMultigraph()}).setGraph(e.graph());return De.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),De.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function bU(e){var t=De.map(e.nodes(),function(r){var n={};return De.forEach(e.outEdges(r),function(i){n[i.w]=(n[i.w]||0)+e.edge(i).weight}),n});return De.zipObject(e.nodes(),t)}function _U(e){var t=De.map(e.nodes(),function(r){var n={};return De.forEach(e.inEdges(r),function(i){n[i.v]=(n[i.v]||0)+e.edge(i).weight}),n});return De.zipObject(e.nodes(),t)}function SU(e,t){var r=e.x,n=e.y,i=t.x-r,s=t.y-n,o=e.width/2,a=e.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var u,l;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),u=a*i/s,l=a):(i<0&&(o=-o),u=o,l=o*s/i),{x:r+u,y:n+l}}function EU(e){var t=De.map(De.range(pA(e)+1),function(){return[]});return De.forEach(e.nodes(),function(r){var n=e.node(r),i=n.rank;De.isUndefined(i)||(t[i][n.order]=r)}),t}function kU(e){var t=De.min(De.map(e.nodes(),function(r){return e.node(r).rank}));De.forEach(e.nodes(),function(r){var n=e.node(r);De.has(n,"rank")&&(n.rank-=t)})}function CU(e){var t=De.min(De.map(e.nodes(),function(s){return e.node(s).rank})),r=[];De.forEach(e.nodes(),function(s){var o=e.node(s).rank-t;r[o]||(r[o]=[]),r[o].push(s)});var n=0,i=e.graph().nodeRankFactor;De.forEach(r,function(s,o){De.isUndefined(s)&&o%i!==0?--n:n&&De.forEach(s,function(a){e.node(a).rank+=n})})}function NU(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),hA(e,"border",i,t)}function pA(e){return De.max(De.map(e.nodes(),function(t){var r=e.node(t).rank;if(!De.isUndefined(r))return r}))}function TU(e,t){var r={lhs:[],rhs:[]};return De.forEach(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function OU(e,t){var r=De.now();try{return t()}finally{console.log(e+" time: "+(De.now()-r)+"ms")}}function RU(e,t){return t()}var gA=Ve,IU=Dt,AU={run:PU,undo:jU};function PU(e){e.graph().dummyChains=[],gA.forEach(e.edges(),function(t){DU(e,t)})}function DU(e,t){var r=t.v,n=e.node(r).rank,i=t.w,s=e.node(i).rank,o=t.name,a=e.edge(t),u=a.labelRank;if(s!==n+1){e.removeEdge(t);var l,c,d;for(d=0,++n;n<s;++d,++n)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:n},l=IU.addDummyNode(e,"edge",c,"_d"),n===u&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(r,l,{weight:a.weight},o),d===0&&e.graph().dummyChains.push(l),r=l;e.setEdge(r,i,{weight:a.weight},o)}}function jU(e){gA.forEach(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,i;for(e.setEdge(r.edgeObj,n);r.dummy;)i=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=i,r=e.node(t)})}var eu=Ve,bc={longestPath:MU,slack:LU};function MU(e){var t={};function r(n){var i=e.node(n);if(eu.has(t,n))return i.rank;t[n]=!0;var s=eu.min(eu.map(e.outEdges(n),function(o){return r(o.w)-e.edge(o).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}eu.forEach(e.sources(),r)}function LU(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var ml=Ve,FU=kr.Graph,yl=bc.slack,mA=$U;function $U(e){var t=new FU({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var i,s;qU(t,e)<n;)i=zU(t,e),s=t.hasNode(i.v)?yl(e,i):-yl(e,i),VU(t,e,s);return t}function qU(e,t){function r(n){ml.forEach(t.nodeEdges(n),function(i){var s=i.v,o=n===s?i.w:s;!e.hasNode(o)&&!yl(t,i)&&(e.setNode(o,{}),e.setEdge(n,o,{}),r(o))})}return ml.forEach(e.nodes(),r),e.nodeCount()}function zU(e,t){return ml.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return yl(t,r)})}function VU(e,t,r){ml.forEach(e.nodes(),function(n){t.node(n).rank+=r})}var sn=Ve,BU=mA,HU=bc.slack,UU=bc.longestPath,WU=kr.alg.preorder,GU=kr.alg.postorder,KU=Dt.simplify,YU=Si;Si.initLowLimValues=$0;Si.initCutValues=F0;Si.calcCutValue=yA;Si.leaveEdge=xA;Si.enterEdge=wA;Si.exchangeEdges=bA;function Si(e){e=KU(e),UU(e);var t=BU(e);$0(t),F0(t,e);for(var r,n;r=xA(t);)n=wA(t,e,r),bA(t,e,r,n)}function F0(e,t){var r=GU(e,e.nodes());r=r.slice(0,r.length-1),sn.forEach(r,function(n){ZU(e,t,n)})}function ZU(e,t,r){var n=e.node(r),i=n.parent;e.edge(r,i).cutvalue=yA(e,t,r)}function yA(e,t,r){var n=e.node(r),i=n.parent,s=!0,o=t.edge(r,i),a=0;return o||(s=!1,o=t.edge(i,r)),a=o.weight,sn.forEach(t.nodeEdges(r),function(u){var l=u.v===r,c=l?u.w:u.v;if(c!==i){var d=l===s,f=t.edge(u).weight;if(a+=d?f:-f,QU(e,r,c)){var p=e.edge(r,c).cutvalue;a+=d?-p:p}}}),a}function $0(e,t){arguments.length<2&&(t=e.nodes()[0]),vA(e,{},1,t)}function vA(e,t,r,n,i){var s=r,o=e.node(n);return t[n]=!0,sn.forEach(e.neighbors(n),function(a){sn.has(t,a)||(r=vA(e,t,r,a,n))}),o.low=s,o.lim=r++,i?o.parent=i:delete o.parent,r}function xA(e){return sn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function wA(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var s=e.node(n),o=e.node(i),a=s,u=!1;s.lim>o.lim&&(a=o,u=!0);var l=sn.filter(t.edges(),function(c){return u===Vk(e,e.node(c.v),a)&&u!==Vk(e,e.node(c.w),a)});return sn.minBy(l,function(c){return HU(t,c)})}function bA(e,t,r,n){var i=r.v,s=r.w;e.removeEdge(i,s),e.setEdge(n.v,n.w,{}),$0(e),F0(e,t),XU(e,t)}function XU(e,t){var r=sn.find(e.nodes(),function(i){return!t.node(i).parent}),n=WU(e,r);n=n.slice(1),sn.forEach(n,function(i){var s=e.node(i).parent,o=t.edge(i,s),a=!1;o||(o=t.edge(s,i),a=!0),t.node(i).rank=t.node(s).rank+(a?o.minlen:-o.minlen)})}function QU(e,t,r){return e.hasEdge(t,r)}function Vk(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var JU=bc,_A=JU.longestPath,e8=mA,t8=YU,r8=n8;function n8(e){switch(e.graph().ranker){case"network-simplex":Bk(e);break;case"tight-tree":s8(e);break;case"longest-path":i8(e);break;default:Bk(e)}}var i8=_A;function s8(e){_A(e),e8(e)}function Bk(e){t8(e)}var Uy=Ve,o8=a8;function a8(e){var t=l8(e);Uy.forEach(e.graph().dummyChains,function(r){for(var n=e.node(r),i=n.edgeObj,s=u8(e,t,i.v,i.w),o=s.path,a=s.lca,u=0,l=o[u],c=!0;r!==i.w;){if(n=e.node(r),c){for(;(l=o[u])!==a&&e.node(l).maxRank<n.rank;)u++;l===a&&(c=!1)}if(!c){for(;u<o.length-1&&e.node(l=o[u+1]).minRank<=n.rank;)u++;l=o[u]}e.setParent(r,l),r=e.successors(r)[0]}})}function u8(e,t,r,n){var i=[],s=[],o=Math.min(t[r].low,t[n].low),a=Math.max(t[r].lim,t[n].lim),u,l;u=r;do u=e.parent(u),i.push(u);while(u&&(t[u].low>o||a>t[u].lim));for(l=u,u=n;(u=e.parent(u))!==l;)s.push(u);return{path:i.concat(s.reverse()),lca:l}}function l8(e){var t={},r=0;function n(i){var s=r;Uy.forEach(e.children(i),n),t[i]={low:s,lim:r++}}return Uy.forEach(e.children(),n),t}var Yr=Ve,Wy=Dt,c8={run:d8,cleanup:p8};function d8(e){var t=Wy.addDummyNode(e,"root",{},"_root"),r=f8(e),n=Yr.max(Yr.values(r))-1,i=2*n+1;e.graph().nestingRoot=t,Yr.forEach(e.edges(),function(o){e.edge(o).minlen*=i});var s=h8(e)+1;Yr.forEach(e.children(),function(o){SA(e,t,i,s,n,r,o)}),e.graph().nodeRankFactor=i}function SA(e,t,r,n,i,s,o){var a=e.children(o);if(!a.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:r});return}var u=Wy.addBorderNode(e,"_bt"),l=Wy.addBorderNode(e,"_bb"),c=e.node(o);e.setParent(u,o),c.borderTop=u,e.setParent(l,o),c.borderBottom=l,Yr.forEach(a,function(d){SA(e,t,r,n,i,s,d);var f=e.node(d),p=f.borderTop?f.borderTop:d,h=f.borderBottom?f.borderBottom:d,g=f.borderTop?n:2*n,w=p!==h?1:i-s[o]+1;e.setEdge(u,p,{weight:g,minlen:w,nestingEdge:!0}),e.setEdge(h,l,{weight:g,minlen:w,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,u,{weight:0,minlen:i+s[o]})}function f8(e){var t={};function r(n,i){var s=e.children(n);s&&s.length&&Yr.forEach(s,function(o){r(o,i+1)}),t[n]=i}return Yr.forEach(e.children(),function(n){r(n,1)}),t}function h8(e){return Yr.reduce(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function p8(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Yr.forEach(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}var dm=Ve,g8=Dt,m8=y8;function y8(e){function t(r){var n=e.children(r),i=e.node(r);if(n.length&&dm.forEach(n,t),dm.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,o=i.maxRank+1;s<o;++s)Hk(e,"borderLeft","_bl",r,i,s),Hk(e,"borderRight","_br",r,i,s)}}dm.forEach(e.children(),t)}function Hk(e,t,r,n,i,s){var o={width:0,height:0,rank:s,borderType:t},a=i[t][s-1],u=g8.addDummyNode(e,"border",o,r);i[t][s]=u,e.setParent(u,n),a&&e.setEdge(a,u,{weight:1})}var Ar=Ve,v8={adjust:x8,undo:w8};function x8(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&EA(e)}function w8(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&b8(e),(t==="lr"||t==="rl")&&(_8(e),EA(e))}function EA(e){Ar.forEach(e.nodes(),function(t){Uk(e.node(t))}),Ar.forEach(e.edges(),function(t){Uk(e.edge(t))})}function Uk(e){var t=e.width;e.width=e.height,e.height=t}function b8(e){Ar.forEach(e.nodes(),function(t){fm(e.node(t))}),Ar.forEach(e.edges(),function(t){var r=e.edge(t);Ar.forEach(r.points,fm),Ar.has(r,"y")&&fm(r)})}function fm(e){e.y=-e.y}function _8(e){Ar.forEach(e.nodes(),function(t){hm(e.node(t))}),Ar.forEach(e.edges(),function(t){var r=e.edge(t);Ar.forEach(r.points,hm),Ar.has(r,"x")&&hm(r)})}function hm(e){var t=e.x;e.x=e.y,e.y=t}var zr=Ve,S8=E8;function E8(e){var t={},r=zr.filter(e.nodes(),function(a){return!e.children(a).length}),n=zr.max(zr.map(r,function(a){return e.node(a).rank})),i=zr.map(zr.range(n+1),function(){return[]});function s(a){if(!zr.has(t,a)){t[a]=!0;var u=e.node(a);i[u.rank].push(a),zr.forEach(e.successors(a),s)}}var o=zr.sortBy(r,function(a){return e.node(a).rank});return zr.forEach(o,s),i}var hn=Ve,k8=C8;function C8(e,t){for(var r=0,n=1;n<t.length;++n)r+=N8(e,t[n-1],t[n]);return r}function N8(e,t,r){for(var n=hn.zipObject(r,hn.map(r,function(l,c){return c})),i=hn.flatten(hn.map(t,function(l){return hn.sortBy(hn.map(e.outEdges(l),function(c){return{pos:n[c.w],weight:e.edge(c).weight}}),"pos")}),!0),s=1;s<r.length;)s<<=1;var o=2*s-1;s-=1;var a=hn.map(new Array(o),function(){return 0}),u=0;return hn.forEach(i.forEach(function(l){var c=l.pos+s;a[c]+=l.weight;for(var d=0;c>0;)c%2&&(d+=a[c+1]),c=c-1>>1,a[c]+=l.weight;u+=l.weight*d})),u}var Wk=Ve,T8=O8;function O8(e,t){return Wk.map(t,function(r){var n=e.inEdges(r);if(n.length){var i=Wk.reduce(n,function(s,o){var a=e.edge(o),u=e.node(o.v);return{sum:s.sum+a.weight*u.order,weight:s.weight+a.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}var Lt=Ve,R8=I8;function I8(e,t){var r={};Lt.forEach(e,function(i,s){var o=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};Lt.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),Lt.forEach(t.edges(),function(i){var s=r[i.v],o=r[i.w];!Lt.isUndefined(s)&&!Lt.isUndefined(o)&&(o.indegree++,s.out.push(r[i.w]))});var n=Lt.filter(r,function(i){return!i.indegree});return A8(n)}function A8(e){var t=[];function r(s){return function(o){o.merged||(Lt.isUndefined(o.barycenter)||Lt.isUndefined(s.barycenter)||o.barycenter>=s.barycenter)&&P8(s,o)}}function n(s){return function(o){o.in.push(s),--o.indegree===0&&e.push(o)}}for(;e.length;){var i=e.pop();t.push(i),Lt.forEach(i.in.reverse(),r(i)),Lt.forEach(i.out,n(i))}return Lt.map(Lt.filter(t,function(s){return!s.merged}),function(s){return Lt.pick(s,["vs","i","barycenter","weight"])})}function P8(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}var to=Ve,D8=Dt,j8=M8;function M8(e,t){var r=D8.partition(e,function(c){return to.has(c,"barycenter")}),n=r.lhs,i=to.sortBy(r.rhs,function(c){return-c.i}),s=[],o=0,a=0,u=0;n.sort(L8(!!t)),u=Gk(s,i,u),to.forEach(n,function(c){u+=c.vs.length,s.push(c.vs),o+=c.barycenter*c.weight,a+=c.weight,u=Gk(s,i,u)});var l={vs:to.flatten(s,!0)};return a&&(l.barycenter=o/a,l.weight=a),l}function Gk(e,t,r){for(var n;t.length&&(n=to.last(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function L8(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var wn=Ve,F8=T8,$8=R8,q8=j8,z8=kA;function kA(e,t,r,n){var i=e.children(t),s=e.node(t),o=s?s.borderLeft:void 0,a=s?s.borderRight:void 0,u={};o&&(i=wn.filter(i,function(h){return h!==o&&h!==a}));var l=F8(e,i);wn.forEach(l,function(h){if(e.children(h.v).length){var g=kA(e,h.v,r,n);u[h.v]=g,wn.has(g,"barycenter")&&B8(h,g)}});var c=$8(l,r);V8(c,u);var d=q8(c,n);if(o&&(d.vs=wn.flatten([o,d.vs,a],!0),e.predecessors(o).length)){var f=e.node(e.predecessors(o)[0]),p=e.node(e.predecessors(a)[0]);wn.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+p.order)/(d.weight+2),d.weight+=2}return d}function V8(e,t){wn.forEach(e,function(r){r.vs=wn.flatten(r.vs.map(function(n){return t[n]?t[n].vs:n}),!0)})}function B8(e,t){wn.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var ro=Ve,H8=kr.Graph,U8=W8;function W8(e,t,r){var n=G8(e),i=new H8({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(s){return e.node(s)});return ro.forEach(e.nodes(),function(s){var o=e.node(s),a=e.parent(s);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(s),i.setParent(s,a||n),ro.forEach(e[r](s),function(u){var l=u.v===s?u.w:u.v,c=i.edge(l,s),d=ro.isUndefined(c)?0:c.weight;i.setEdge(l,s,{weight:e.edge(u).weight+d})}),ro.has(o,"minRank")&&i.setNode(s,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i}function G8(e){for(var t;e.hasNode(t=ro.uniqueId("_root")););return t}var K8=Ve,Y8=Z8;function Z8(e,t,r){var n={},i;K8.forEach(r,function(s){for(var o=e.parent(s),a,u;o;){if(a=e.parent(o),a?(u=n[a],n[a]=o):(u=i,i=o),u&&u!==o){t.setEdge(u,o);return}o=a}})}var Pn=Ve,X8=S8,Q8=k8,J8=z8,e9=U8,t9=Y8,r9=kr.Graph,Kk=Dt,n9=i9;function i9(e){var t=Kk.maxRank(e),r=Yk(e,Pn.range(1,t+1),"inEdges"),n=Yk(e,Pn.range(t-1,-1,-1),"outEdges"),i=X8(e);Zk(e,i);for(var s=Number.POSITIVE_INFINITY,o,a=0,u=0;u<4;++a,++u){s9(a%2?r:n,a%4>=2),i=Kk.buildLayerMatrix(e);var l=Q8(e,i);l<s&&(u=0,o=Pn.cloneDeep(i),s=l)}Zk(e,o)}function Yk(e,t,r){return Pn.map(t,function(n){return e9(e,n,r)})}function s9(e,t){var r=new r9;Pn.forEach(e,function(n){var i=n.graph().root,s=J8(n,i,r,t);Pn.forEach(s.vs,function(o,a){n.node(o).order=a}),t9(n,r,s.vs)})}function Zk(e,t){Pn.forEach(t,function(r){Pn.forEach(r,function(n,i){e.node(n).order=i})})}var me=Ve,o9=kr.Graph,a9=Dt,u9={positionX:x9};function l9(e,t){var r={};function n(i,s){var o=0,a=0,u=i.length,l=me.last(s);return me.forEach(s,function(c,d){var f=d9(e,c),p=f?e.node(f).order:u;(f||c===l)&&(me.forEach(s.slice(a,d+1),function(h){me.forEach(e.predecessors(h),function(g){var w=e.node(g),m=w.order;(m<o||p<m)&&!(w.dummy&&e.node(h).dummy)&&CA(r,g,h)})}),a=d+1,o=p)}),s}return me.reduce(t,n),r}function c9(e,t){var r={};function n(s,o,a,u,l){var c;me.forEach(me.range(o,a),function(d){c=s[d],e.node(c).dummy&&me.forEach(e.predecessors(c),function(f){var p=e.node(f);p.dummy&&(p.order<u||p.order>l)&&CA(r,f,c)})})}function i(s,o){var a=-1,u,l=0;return me.forEach(o,function(c,d){if(e.node(c).dummy==="border"){var f=e.predecessors(c);f.length&&(u=e.node(f[0]).order,n(o,l,d,a,u),l=d,a=u)}n(o,l,o.length,u,s.length)}),o}return me.reduce(t,i),r}function d9(e,t){if(e.node(t).dummy)return me.find(e.predecessors(t),function(r){return e.node(r).dummy})}function CA(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];i||(e[t]=i={}),i[r]=!0}function f9(e,t,r){if(t>r){var n=t;t=r,r=n}return me.has(e[t],r)}function h9(e,t,r,n){var i={},s={},o={};return me.forEach(t,function(a){me.forEach(a,function(u,l){i[u]=u,s[u]=u,o[u]=l})}),me.forEach(t,function(a){var u=-1;me.forEach(a,function(l){var c=n(l);if(c.length){c=me.sortBy(c,function(g){return o[g]});for(var d=(c.length-1)/2,f=Math.floor(d),p=Math.ceil(d);f<=p;++f){var h=c[f];s[l]===l&&u<o[h]&&!f9(r,l,h)&&(s[h]=l,s[l]=i[l]=i[h],u=o[h])}}})}),{root:i,align:s}}function p9(e,t,r,n,i){var s={},o=g9(e,t,r,i),a=i?"borderLeft":"borderRight";function u(d,f){for(var p=o.nodes(),h=p.pop(),g={};h;)g[h]?d(h):(g[h]=!0,p.push(h),p=p.concat(f(h))),h=p.pop()}function l(d){s[d]=o.inEdges(d).reduce(function(f,p){return Math.max(f,s[p.v]+o.edge(p))},0)}function c(d){var f=o.outEdges(d).reduce(function(h,g){return Math.min(h,s[g.w]-o.edge(g))},Number.POSITIVE_INFINITY),p=e.node(d);f!==Number.POSITIVE_INFINITY&&p.borderType!==a&&(s[d]=Math.max(s[d],f))}return u(l,o.predecessors.bind(o)),u(c,o.successors.bind(o)),me.forEach(n,function(d){s[d]=s[r[d]]}),s}function g9(e,t,r,n){var i=new o9,s=e.graph(),o=w9(s.nodesep,s.edgesep,n);return me.forEach(t,function(a){var u;me.forEach(a,function(l){var c=r[l];if(i.setNode(c),u){var d=r[u],f=i.edge(d,c);i.setEdge(d,c,Math.max(o(e,l,u),f||0))}u=l})}),i}function m9(e,t){return me.minBy(me.values(t),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return me.forIn(r,function(s,o){var a=b9(e,o)/2;n=Math.max(s+a,n),i=Math.min(s-a,i)}),n-i})}function y9(e,t){var r=me.values(t),n=me.min(r),i=me.max(r);me.forEach(["u","d"],function(s){me.forEach(["l","r"],function(o){var a=s+o,u=e[a],l;if(u!==t){var c=me.values(u);l=o==="l"?n-me.min(c):i-me.max(c),l&&(e[a]=me.mapValues(u,function(d){return d+l}))}})})}function v9(e,t){return me.mapValues(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var i=me.sortBy(me.map(e,n));return(i[1]+i[2])/2})}function x9(e){var t=a9.buildLayerMatrix(e),r=me.merge(l9(e,t),c9(e,t)),n={},i;me.forEach(["u","d"],function(o){i=o==="u"?t:me.values(t).reverse(),me.forEach(["l","r"],function(a){a==="r"&&(i=me.map(i,function(d){return me.values(d).reverse()}));var u=(o==="u"?e.predecessors:e.successors).bind(e),l=h9(e,i,r,u),c=p9(e,i,l.root,l.align,a==="r");a==="r"&&(c=me.mapValues(c,function(d){return-d})),n[o+a]=c})});var s=m9(e,n);return y9(n,s),v9(n,e.graph().align)}function w9(e,t,r){return function(n,i,s){var o=n.node(i),a=n.node(s),u=0,l;if(u+=o.width/2,me.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":l=-o.width/2;break;case"r":l=o.width/2;break}if(l&&(u+=r?l:-l),l=0,u+=(o.dummy?t:e)/2,u+=(a.dummy?t:e)/2,u+=a.width/2,me.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":l=a.width/2;break;case"r":l=-a.width/2;break}return l&&(u+=r?l:-l),l=0,u}}function b9(e,t){return e.node(t).width}var no=Ve,NA=Dt,_9=u9.positionX,S9=E9;function E9(e){e=NA.asNonCompoundGraph(e),k9(e),no.forEach(_9(e),function(t,r){e.node(r).x=t})}function k9(e){var t=NA.buildLayerMatrix(e),r=e.graph().ranksep,n=0;no.forEach(t,function(i){var s=no.max(no.map(i,function(o){return e.node(o).height}));no.forEach(i,function(o){e.node(o).y=n+s/2}),n+=s+r})}var Ee=Ve,Xk=gU,Qk=AU,C9=r8,N9=Dt.normalizeRanks,T9=o8,O9=Dt.removeEmptyRanks,Jk=c8,R9=m8,eC=v8,I9=n9,A9=S9,Fn=Dt,P9=kr.Graph,D9=j9;function j9(e,t){var r=t&&t.debugTiming?Fn.time:Fn.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return W9(e)});r("  runLayout",function(){M9(n,r)}),r("  updateInputGraph",function(){L9(e,n)})})}function M9(e,t){t("    makeSpaceForEdgeLabels",function(){G9(e)}),t("    removeSelfEdges",function(){rW(e)}),t("    acyclic",function(){Xk.run(e)}),t("    nestingGraph.run",function(){Jk.run(e)}),t("    rank",function(){C9(Fn.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){K9(e)}),t("    removeEmptyRanks",function(){O9(e)}),t("    nestingGraph.cleanup",function(){Jk.cleanup(e)}),t("    normalizeRanks",function(){N9(e)}),t("    assignRankMinMax",function(){Y9(e)}),t("    removeEdgeLabelProxies",function(){Z9(e)}),t("    normalize.run",function(){Qk.run(e)}),t("    parentDummyChains",function(){T9(e)}),t("    addBorderSegments",function(){R9(e)}),t("    order",function(){I9(e)}),t("    insertSelfEdges",function(){nW(e)}),t("    adjustCoordinateSystem",function(){eC.adjust(e)}),t("    position",function(){A9(e)}),t("    positionSelfEdges",function(){iW(e)}),t("    removeBorderNodes",function(){tW(e)}),t("    normalize.undo",function(){Qk.undo(e)}),t("    fixupEdgeLabelCoords",function(){J9(e)}),t("    undoCoordinateSystem",function(){eC.undo(e)}),t("    translateGraph",function(){X9(e)}),t("    assignNodeIntersects",function(){Q9(e)}),t("    reversePoints",function(){eW(e)}),t("    acyclic.undo",function(){Xk.undo(e)})}function L9(e,t){Ee.forEach(e.nodes(),function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))}),Ee.forEach(e.edges(),function(r){var n=e.edge(r),i=t.edge(r);n.points=i.points,Ee.has(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var F9=["nodesep","edgesep","ranksep","marginx","marginy"],$9={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},q9=["acyclicer","ranker","rankdir","align"],z9=["width","height"],V9={width:0,height:0},B9=["minlen","weight","width","height","labeloffset"],H9={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},U9=["labelpos"];function W9(e){var t=new P9({multigraph:!0,compound:!0}),r=gm(e.graph());return t.setGraph(Ee.merge({},$9,pm(r,F9),Ee.pick(r,q9))),Ee.forEach(e.nodes(),function(n){var i=gm(e.node(n));t.setNode(n,Ee.defaults(pm(i,z9),V9)),t.setParent(n,e.parent(n))}),Ee.forEach(e.edges(),function(n){var i=gm(e.edge(n));t.setEdge(n,Ee.merge({},H9,pm(i,B9),Ee.pick(i,U9)))}),t}function G9(e){var t=e.graph();t.ranksep/=2,Ee.forEach(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function K9(e){Ee.forEach(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),i=e.node(t.w),s={rank:(i.rank-n.rank)/2+n.rank,e:t};Fn.addDummyNode(e,"edge-proxy",s,"_ep")}})}function Y9(e){var t=0;Ee.forEach(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=Ee.max(t,n.maxRank))}),e.graph().maxRank=t}function Z9(e){Ee.forEach(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function X9(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,s=e.graph(),o=s.marginx||0,a=s.marginy||0;function u(l){var c=l.x,d=l.y,f=l.width,p=l.height;t=Math.min(t,c-f/2),r=Math.max(r,c+f/2),n=Math.min(n,d-p/2),i=Math.max(i,d+p/2)}Ee.forEach(e.nodes(),function(l){u(e.node(l))}),Ee.forEach(e.edges(),function(l){var c=e.edge(l);Ee.has(c,"x")&&u(c)}),t-=o,n-=a,Ee.forEach(e.nodes(),function(l){var c=e.node(l);c.x-=t,c.y-=n}),Ee.forEach(e.edges(),function(l){var c=e.edge(l);Ee.forEach(c.points,function(d){d.x-=t,d.y-=n}),Ee.has(c,"x")&&(c.x-=t),Ee.has(c,"y")&&(c.y-=n)}),s.width=r-t+o,s.height=i-n+a}function Q9(e){Ee.forEach(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),s,o;r.points?(s=r.points[0],o=r.points[r.points.length-1]):(r.points=[],s=i,o=n),r.points.unshift(Fn.intersectRect(n,s)),r.points.push(Fn.intersectRect(i,o))})}function J9(e){Ee.forEach(e.edges(),function(t){var r=e.edge(t);if(Ee.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function eW(e){Ee.forEach(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function tW(e){Ee.forEach(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),s=e.node(Ee.last(r.borderLeft)),o=e.node(Ee.last(r.borderRight));r.width=Math.abs(o.x-s.x),r.height=Math.abs(i.y-n.y),r.x=s.x+r.width/2,r.y=n.y+r.height/2}}),Ee.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function rW(e){Ee.forEach(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function nW(e){var t=Fn.buildLayerMatrix(e);Ee.forEach(t,function(r){var n=0;Ee.forEach(r,function(i,s){var o=e.node(i);o.order=s+n,Ee.forEach(o.selfEdges,function(a){Fn.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:o.rank,order:s+ ++n,e:a.e,label:a.label},"_se")}),delete o.selfEdges})})}function iW(e){Ee.forEach(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),i=n.x+n.width/2,s=n.y,o=r.x-i,a=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*o/3,y:s-a},{x:i+5*o/6,y:s-a},{x:i+o,y:s},{x:i+5*o/6,y:s+a},{x:i+2*o/3,y:s+a}],r.label.x=r.x,r.label.y=r.y}})}function pm(e,t){return Ee.mapValues(Ee.pick(e,t),Number)}function gm(e){var t={};return Ee.forEach(e,function(r,n){t[n.toLowerCase()]=r}),t}var tu=Ve,sW=Dt,oW=kr.Graph,aW={debugOrdering:uW};function uW(e){var t=sW.buildLayerMatrix(e),r=new oW({compound:!0,multigraph:!0}).setGraph({});return tu.forEach(e.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+e.node(n).rank)}),tu.forEach(e.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),tu.forEach(t,function(n,i){var s="layer"+i;r.setNode(s,{rank:"same"}),tu.reduce(n,function(o,a){return r.setEdge(o,a,{style:"invis"}),a})}),r}var lW="0.8.5",cW={graphlib:kr,layout:D9,debug:aW,util:{time:Dt.time,notime:Dt.notime},version:lW};const TA=Xo(cW),Ri=new TA.graphlib.Graph;Ri.setDefaultEdgeLabel(()=>({}));const tC=220,rC=120;function dW(e,t,r="TB"){const n=r==="LR",i=r==="TB"?60:100,s=r==="TB"?100:150;return Ri.setGraph({rankdir:r,nodesep:i,ranksep:s}),e.forEach(a=>{Ri.setNode(a.id,{width:tC,height:rC})}),t.forEach(a=>{Ri.setEdge(a.source,a.target)}),TA.layout(Ri),{nodes:e.map(a=>{const u=Ri.node(a.id);return{...a,targetPosition:n?oe.Left:oe.Top,sourcePosition:n?oe.Right:oe.Bottom,position:{x:u.x-tC/2,y:u.y-rC/2}}}),edges:t}}const fW={workflow:fI};function hW({id:e,sourceX:t,sourceY:r,targetX:n,targetY:i,sourcePosition:s,targetPosition:o,style:a={},markerEnd:u,data:l}){const c=ge(x=>x.customEdges),d=ge(x=>x.steps),f=ge(x=>x.updateEdges),p=ge(x=>x.removeEdge),[h,g,w]=u0({sourceX:t,sourceY:r,sourcePosition:s,targetX:n,targetY:i,targetPosition:o}),m=x=>{if(x.stopPropagation(),c.length===0&&d.length>1){const y=[];for(let b=0;b<d.length-1;b++){const _=`e${d[b].key}-${d[b+1].key}`;_!==e&&y.push({id:_,source:d[b].key,target:d[b+1].key})}f(y)}else p(e)};return v.jsxs(v.Fragment,{children:[v.jsx(la,{path:h,markerEnd:u,style:a}),v.jsx(pq,{children:v.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${g}px,${w}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan edge-button-wrapper",children:v.jsx("button",{type:"button",onClick:m,className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-xs font-bold shadow-lg border-2 border-white transition-all hover:scale-110",title:"Delete connection",children:""})})})]})}const pW={deletable:hW};function gW(){const e=ge(_=>_.steps),t=ge(_=>_.customEdges),r=ge(_=>_.selectStep),n=ge(_=>_.selectedStepKey),i=ge(_=>_.setShowConfigPanel),s=ge(_=>_.showConfigPanel),o=ge(_=>_.showResultPanel),a=ge(_=>_.layoutTrigger),u=ge(_=>_.layoutDirection),l=ge(_=>_.triggerAutoLayout),c=ge(_=>_.updateEdges),[d,f,p]=gq([]),[h,g]=mq([]),{fitView:w}=Yl();D.useEffect(()=>{const _=e.map((R,q)=>({id:R.key,type:"workflow",position:{x:100+q*250,y:100},data:{stepKey:R.key,name:R.name,schemaKey:R.schemaKey},selected:R.key===n}));let S;if(t.length>0)S=t.map(R=>({id:R.id,source:R.source,target:R.target,sourceHandle:R.sourceHandle,targetHandle:R.targetHandle,type:"deletable",animated:!1,focusable:!0,style:{stroke:"#6366f1",strokeWidth:2},markerEnd:{type:"arrowclosed",color:"#6366f1",width:20,height:20}}));else{S=[];for(let R=0;R<e.length-1;R++)S.push({id:`e${e[R].key}-${e[R+1].key}`,source:e[R].key,target:e[R+1].key,type:"deletable",animated:!1,focusable:!0,style:{stroke:"#6366f1",strokeWidth:2},markerEnd:{type:"arrowclosed",color:"#6366f1",width:20,height:20}})}const{nodes:E,edges:N}=dW(_,S,u);f(E),g(N),setTimeout(()=>{w({padding:.2,duration:300,maxZoom:1.2})},50)},[e,n,f,g,w,a,u,t]),D.useEffect(()=>{const _=setTimeout(()=>{w({padding:.2,duration:300,maxZoom:1.2})},50);return()=>clearTimeout(_)},[s,o,w]);const m=D.useCallback(_=>{if(!_.source||!_.target)return;const S={id:`e${_.source}-${_.target}`,source:_.source,target:_.target,sourceHandle:_.sourceHandle??void 0,targetHandle:_.targetHandle??void 0};c([...t,S])},[t,c]),x=D.useCallback(_=>{const S=_.filter(E=>E.type==="remove");if(S.length>0){const E=t.filter(N=>!S.some(R=>R.id===N.id));c(E)}},[t,c]),y=D.useCallback((_,S)=>{r(S.id)},[r]),b=D.useCallback((_,S)=>{r(S.id),i(!0)},[r,i]);return v.jsx("div",{className:"h-full w-full bg-ink-50",children:v.jsxs(fq,{nodes:d,edges:h,onNodesChange:p,onEdgesChange:x,onConnect:m,onNodeClick:y,onNodeDoubleClick:b,nodeTypes:fW,edgeTypes:pW,fitView:!0,minZoom:.2,maxZoom:2,attributionPosition:"bottom-left",edgesReconnectable:!0,deleteKeyCode:"Delete",children:[v.jsx(bq,{variant:Xr.Dots,gap:16,size:1,color:"#d1d5db"}),v.jsx(Tq,{showInteractive:!1}),v.jsx(zq,{nodeStrokeWidth:3,pannable:!0,zoomable:!0,className:"bg-white/80"}),v.jsx("div",{className:"absolute top-4 left-4 z-10",children:v.jsx("button",{type:"button",onClick:l,className:"w-10 h-10 flex items-center justify-center rounded-lg bg-white text-2xl shadow-lg border-2 border-indigo-300 hover:bg-indigo-50 hover:border-indigo-500 hover:scale-110 transition-all",title:"Auto Layout - Click to arrange all nodes intelligently",children:""})})]})})}var ba=e=>e.type==="checkbox",Qn=e=>e instanceof Date,kt=e=>e==null;const OA=e=>typeof e=="object";var et=e=>!kt(e)&&!Array.isArray(e)&&OA(e)&&!Qn(e),RA=e=>et(e)&&e.target?ba(e.target)?e.target.checked:e.target.value:e,mW=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,IA=(e,t)=>e.has(mW(t)),yW=e=>{const t=e.constructor&&e.constructor.prototype;return et(t)&&t.hasOwnProperty("isPrototypeOf")},q0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(q0&&(e instanceof Blob||n))&&(r||et(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!yW(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=nt(e[i]));else return e;return t}var _c=e=>/^\w*$/.test(e),Ke=e=>e===void 0,z0=e=>Array.isArray(e)?e.filter(Boolean):[],V0=e=>z0(e.replace(/["|']|\]/g,"").split(/\.|\[/)),J=(e,t,r)=>{if(!t||!et(e))return r;const n=(_c(t)?[t]:V0(t)).reduce((i,s)=>kt(i)?i:i[s],e);return Ke(n)||n===e?Ke(e[t])?r:e[t]:n},Ft=e=>typeof e=="boolean",je=(e,t,r)=>{let n=-1;const i=_c(t)?[t]:V0(t),s=i.length,o=s-1;for(;++n<s;){const a=i[n];let u=r;if(n!==o){const l=e[a];u=et(l)||Array.isArray(l)?l:isNaN(+i[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=u,e=e[a]}};const vl={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},pr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},AA=we.createContext(null);AA.displayName="HookFormContext";const B0=()=>we.useContext(AA);var PA=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==pr.all&&(t._proxyFormState[o]=!n||pr.all),r&&(r[o]=!0),e[o]}});return i};const H0=typeof window<"u"?we.useLayoutEffect:we.useEffect;function vW(e){const t=B0(),{control:r=t.control,disabled:n,name:i,exact:s}=e||{},[o,a]=we.useState(r._formState),u=we.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return H0(()=>r._subscribe({name:i,formState:u.current,exact:s,callback:l=>{!n&&a({...r._formState,...l})}}),[i,n,s]),we.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),we.useMemo(()=>PA(o,r,u.current,!1),[o,r])}var qt=e=>typeof e=="string",Gy=(e,t,r,n,i)=>qt(e)?(n&&t.watch.add(e),J(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),J(r,s))):(n&&(t.watchAll=!0),r),Ky=e=>kt(e)||!OA(e);function gr(e,t,r=new WeakSet){if(Ky(e)||Ky(t))return e===t;if(Qn(e)&&Qn(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const o=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const a=t[s];if(Qn(o)&&Qn(a)||et(o)&&et(a)||Array.isArray(o)&&Array.isArray(a)?!gr(o,a,r):o!==a)return!1}}return!0}function xW(e){const t=B0(),{control:r=t.control,name:n,defaultValue:i,disabled:s,exact:o,compute:a}=e||{},u=we.useRef(i),l=we.useRef(a),c=we.useRef(void 0),d=we.useRef(r),f=we.useRef(n);l.current=a;const[p,h]=we.useState(()=>{const b=r._getWatch(n,u.current);return l.current?l.current(b):b}),g=we.useCallback(b=>{const _=Gy(n,r._names,b||r._formValues,!1,u.current);return l.current?l.current(_):_},[r._formValues,r._names,n]),w=we.useCallback(b=>{if(!s){const _=Gy(n,r._names,b||r._formValues,!1,u.current);if(l.current){const S=l.current(_);gr(S,c.current)||(h(S),c.current=S)}else h(_)}},[r._formValues,r._names,s,n]);H0(()=>((d.current!==r||!gr(f.current,n))&&(d.current=r,f.current=n,w()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:b=>{w(b.values)}})),[r,o,n,w]),we.useEffect(()=>r._removeUnmounted());const m=d.current!==r,x=f.current,y=we.useMemo(()=>{if(s)return null;const b=!m&&!gr(x,n);return m||b?g():null},[s,m,n,x,g]);return y!==null?y:p}function wW(e){const t=B0(),{name:r,disabled:n,control:i=t.control,shouldUnregister:s,defaultValue:o}=e,a=IA(i._names.array,r),u=we.useMemo(()=>J(i._formValues,r,J(i._defaultValues,r,o)),[i,r,o]),l=xW({control:i,name:r,defaultValue:u,exact:!0}),c=vW({control:i,name:r,exact:!0}),d=we.useRef(e),f=we.useRef(void 0),p=we.useRef(i.register(r,{...e.rules,value:l,...Ft(e.disabled)?{disabled:e.disabled}:{}}));d.current=e;const h=we.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!J(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!J(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!J(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!J(c.validatingFields,r)},error:{enumerable:!0,get:()=>J(c.errors,r)}}),[c,r]),g=we.useCallback(y=>p.current.onChange({target:{value:RA(y),name:r},type:vl.CHANGE}),[r]),w=we.useCallback(()=>p.current.onBlur({target:{value:J(i._formValues,r),name:r},type:vl.BLUR}),[r,i._formValues]),m=we.useCallback(y=>{const b=J(i._fields,r);b&&y&&(b._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:_=>y.setCustomValidity(_),reportValidity:()=>y.reportValidity()})},[i._fields,r]),x=we.useMemo(()=>({name:r,value:l,...Ft(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:g,onBlur:w,ref:m}),[r,n,c.disabled,g,w,m,l]);return we.useEffect(()=>{const y=i._options.shouldUnregister||s,b=f.current;b&&b!==r&&!a&&i.unregister(b),i.register(r,{...d.current.rules,...Ft(d.current.disabled)?{disabled:d.current.disabled}:{}});const _=(S,E)=>{const N=J(i._fields,S);N&&N._f&&(N._f.mount=E)};if(_(r,!0),y){const S=nt(J(i._options.defaultValues,r,d.current.defaultValue));je(i._defaultValues,r,S),Ke(J(i._formValues,r))&&je(i._formValues,r,S)}return!a&&i.register(r),f.current=r,()=>{(a?y&&!i._state.action:y)?i.unregister(r):_(r,!1)}},[r,i,a,s]),we.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),we.useMemo(()=>({field:x,formState:c,fieldState:h}),[x,c,h])}const bW=e=>e.render(wW(e));var DA=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},vo=e=>Array.isArray(e)?e:[e],nC=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}};function jA(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],s=t[n];if(i&&et(i)&&s){const o=jA(i,s);et(o)&&(r[n]=o)}else e[n]&&(r[n]=s)}return r}var xt=e=>et(e)&&!Object.keys(e).length,U0=e=>e.type==="file",mr=e=>typeof e=="function",xl=e=>{if(!q0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},MA=e=>e.type==="select-multiple",W0=e=>e.type==="radio",_W=e=>W0(e)||ba(e),mm=e=>xl(e)&&e.isConnected;function SW(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ke(e)?n++:e[t[n++]];return e}function EW(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ke(e[t]))return!1;return!0}function Xe(e,t){const r=Array.isArray(t)?t:_c(t)?[t]:V0(t),n=r.length===1?e:SW(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(et(n)&&xt(n)||Array.isArray(n)&&EW(n))&&Xe(e,r.slice(0,-1)),e}var kW=e=>{for(const t in e)if(mr(e[t]))return!0;return!1};function LA(e){return Array.isArray(e)||et(e)&&!kW(e)}function Yy(e,t={}){for(const r in e)LA(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Yy(e[r],t[r])):Ke(e[r])||(t[r]=!0);return t}function Ii(e,t,r){r||(r=Yy(t));for(const n in e)LA(e[n])?Ke(t)||Ky(r[n])?r[n]=Yy(e[n],Array.isArray(e[n])?[]:{}):Ii(e[n],kt(t)?{}:t[n],r[n]):r[n]=!gr(e[n],t[n]);return r}const iC={value:!1,isValid:!1},sC={value:!0,isValid:!0};var FA=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ke(e[0].attributes.value)?Ke(e[0].value)||e[0].value===""?sC:{value:e[0].value,isValid:!0}:sC:iC}return iC},$A=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ke(e)?e:t?e===""?NaN:e&&+e:r&&qt(e)?new Date(e):n?n(e):e;const oC={isValid:!1,value:null};var qA=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,oC):oC;function aC(e){const t=e.ref;return U0(t)?t.files:W0(t)?qA(e.refs).value:MA(t)?[...t.selectedOptions].map(({value:r})=>r):ba(t)?FA(e.refs).value:$A(Ke(t.value)?e.ref.value:t.value,e)}var CW=(e,t,r,n)=>{const i={};for(const s of e){const o=J(t,s);o&&je(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},wl=e=>e instanceof RegExp,Hs=e=>Ke(e)?e:wl(e)?e.source:et(e)?wl(e.value)?e.value.source:e.value:e,uC=e=>({isOnSubmit:!e||e===pr.onSubmit,isOnBlur:e===pr.onBlur,isOnChange:e===pr.onChange,isOnAll:e===pr.all,isOnTouch:e===pr.onTouched});const lC="AsyncFunction";var NW=e=>!!e&&!!e.validate&&!!(mr(e.validate)&&e.validate.constructor.name===lC||et(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===lC)),TW=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),cC=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const xo=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=J(e,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(xo(a,t))break}else if(et(a)&&xo(a,t))break}}};function dC(e,t,r){const n=J(e,r);if(n||_c(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=J(t,s),a=J(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};i.pop()}return{name:r}}var OW=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return xt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||pr.all))},RW=(e,t,r)=>!e||!t||e===t||vo(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),IW=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,AW=(e,t)=>!z0(J(e,t)).length&&Xe(e,t),PW=(e,t,r)=>{const n=vo(J(e,r));return je(n,"root",t[r]),je(e,r,n),e};function fC(e,t,r="validate"){if(qt(e)||Array.isArray(e)&&e.every(qt)||Ft(e)&&!e)return{type:r,message:qt(e)?e:"",ref:t}}var Ni=e=>et(e)&&!wl(e)?e:{value:e,message:""},hC=async(e,t,r,n,i,s)=>{const{ref:o,refs:a,required:u,maxLength:l,minLength:c,min:d,max:f,pattern:p,validate:h,name:g,valueAsNumber:w,mount:m}=e._f,x=J(r,g);if(!m||t.has(g))return{};const y=a?a[0]:o,b=I=>{i&&y.reportValidity&&(y.setCustomValidity(Ft(I)?"":I||""),y.reportValidity())},_={},S=W0(o),E=ba(o),N=S||E,R=(w||U0(o))&&Ke(o.value)&&Ke(x)||xl(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,q=DA.bind(null,g,n,_),P=(I,L,k,j=Vr.maxLength,A=Vr.minLength)=>{const $=I?L:k;_[g]={type:I?j:A,message:$,ref:o,...q(I?j:A,$)}};if(s?!Array.isArray(x)||!x.length:u&&(!N&&(R||kt(x))||Ft(x)&&!x||E&&!FA(a).isValid||S&&!qA(a).isValid)){const{value:I,message:L}=qt(u)?{value:!!u,message:u}:Ni(u);if(I&&(_[g]={type:Vr.required,message:L,ref:y,...q(Vr.required,L)},!n))return b(L),_}if(!R&&(!kt(d)||!kt(f))){let I,L;const k=Ni(f),j=Ni(d);if(!kt(x)&&!isNaN(x)){const A=o.valueAsNumber||x&&+x;kt(k.value)||(I=A>k.value),kt(j.value)||(L=A<j.value)}else{const A=o.valueAsDate||new Date(x),$=F=>new Date(new Date().toDateString()+" "+F),C=o.type=="time",T=o.type=="week";qt(k.value)&&x&&(I=C?$(x)>$(k.value):T?x>k.value:A>new Date(k.value)),qt(j.value)&&x&&(L=C?$(x)<$(j.value):T?x<j.value:A<new Date(j.value))}if((I||L)&&(P(!!I,k.message,j.message,Vr.max,Vr.min),!n))return b(_[g].message),_}if((l||c)&&!R&&(qt(x)||s&&Array.isArray(x))){const I=Ni(l),L=Ni(c),k=!kt(I.value)&&x.length>+I.value,j=!kt(L.value)&&x.length<+L.value;if((k||j)&&(P(k,I.message,L.message),!n))return b(_[g].message),_}if(p&&!R&&qt(x)){const{value:I,message:L}=Ni(p);if(wl(I)&&!x.match(I)&&(_[g]={type:Vr.pattern,message:L,ref:o,...q(Vr.pattern,L)},!n))return b(L),_}if(h){if(mr(h)){const I=await h(x,r),L=fC(I,y);if(L&&(_[g]={...L,...q(Vr.validate,L.message)},!n))return b(L.message),_}else if(et(h)){let I={};for(const L in h){if(!xt(I)&&!n)break;const k=fC(await h[L](x,r),y,L);k&&(I={...k,...q(L,k.message)},b(k.message),n&&(_[g]=I))}if(!xt(I)&&(_[g]={ref:y,...I},!n))return _}}return b(!0),_};const DW={mode:pr.onSubmit,reValidateMode:pr.onChange,shouldFocusError:!0};function jW(e={}){let t={...DW,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:mr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=et(t.defaultValues)||et(t.values)?nt(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:nt(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,l=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...c};const f={array:nC(),state:nC()},p=t.criteriaMode===pr.all,h=O=>M=>{clearTimeout(l),l=setTimeout(O,M)},g=async O=>{if(!t.disabled&&(c.isValid||d.isValid||O)){const M=t.resolver?xt((await E()).errors):await R(n,!0);M!==r.isValid&&f.state.next({isValid:M})}},w=(O,M)=>{!t.disabled&&(c.isValidating||c.validatingFields||d.isValidating||d.validatingFields)&&((O||Array.from(a.mount)).forEach(V=>{V&&(M?je(r.validatingFields,V,M):Xe(r.validatingFields,V))}),f.state.next({validatingFields:r.validatingFields,isValidating:!xt(r.validatingFields)}))},m=(O,M=[],V,G,Y=!0,U=!0)=>{if(G&&V&&!t.disabled){if(o.action=!0,U&&Array.isArray(J(n,O))){const ie=V(J(n,O),G.argA,G.argB);Y&&je(n,O,ie)}if(U&&Array.isArray(J(r.errors,O))){const ie=V(J(r.errors,O),G.argA,G.argB);Y&&je(r.errors,O,ie),AW(r.errors,O)}if((c.touchedFields||d.touchedFields)&&U&&Array.isArray(J(r.touchedFields,O))){const ie=V(J(r.touchedFields,O),G.argA,G.argB);Y&&je(r.touchedFields,O,ie)}(c.dirtyFields||d.dirtyFields)&&(r.dirtyFields=Ii(i,s)),f.state.next({name:O,isDirty:P(O,M),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else je(s,O,M)},x=(O,M)=>{je(r.errors,O,M),f.state.next({errors:r.errors})},y=O=>{r.errors=O,f.state.next({errors:r.errors,isValid:!1})},b=(O,M,V,G)=>{const Y=J(n,O);if(Y){const U=J(s,O,Ke(V)?J(i,O):V);Ke(U)||G&&G.defaultChecked||M?je(s,O,M?U:aC(Y._f)):k(O,U),o.mount&&g()}},_=(O,M,V,G,Y)=>{let U=!1,ie=!1;const Ce={name:O};if(!t.disabled){if(!V||G){(c.isDirty||d.isDirty)&&(ie=r.isDirty,r.isDirty=Ce.isDirty=P(),U=ie!==Ce.isDirty);const Oe=gr(J(i,O),M);ie=!!J(r.dirtyFields,O),Oe?Xe(r.dirtyFields,O):je(r.dirtyFields,O,!0),Ce.dirtyFields=r.dirtyFields,U=U||(c.dirtyFields||d.dirtyFields)&&ie!==!Oe}if(V){const Oe=J(r.touchedFields,O);Oe||(je(r.touchedFields,O,V),Ce.touchedFields=r.touchedFields,U=U||(c.touchedFields||d.touchedFields)&&Oe!==V)}U&&Y&&f.state.next(Ce)}return U?Ce:{}},S=(O,M,V,G)=>{const Y=J(r.errors,O),U=(c.isValid||d.isValid)&&Ft(M)&&r.isValid!==M;if(t.delayError&&V?(u=h(()=>x(O,V)),u(t.delayError)):(clearTimeout(l),u=null,V?je(r.errors,O,V):Xe(r.errors,O)),(V?!gr(Y,V):Y)||!xt(G)||U){const ie={...G,...U&&Ft(M)?{isValid:M}:{},errors:r.errors,name:O};r={...r,...ie},f.state.next(ie)}},E=async O=>{w(O,!0);const M=await t.resolver(s,t.context,CW(O||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return w(O),M},N=async O=>{const{errors:M}=await E(O);if(O)for(const V of O){const G=J(M,V);G?je(r.errors,V,G):Xe(r.errors,V)}else r.errors=M;return M},R=async(O,M,V={valid:!0})=>{for(const G in O){const Y=O[G];if(Y){const{_f:U,...ie}=Y;if(U){const Ce=a.array.has(U.name),Oe=Y._f&&NW(Y._f);Oe&&c.validatingFields&&w([U.name],!0);const ct=await hC(Y,a.disabled,s,p,t.shouldUseNativeValidation&&!M,Ce);if(Oe&&c.validatingFields&&w([U.name]),ct[U.name]&&(V.valid=!1,M))break;!M&&(J(ct,U.name)?Ce?PW(r.errors,ct,U.name):je(r.errors,U.name,ct[U.name]):Xe(r.errors,U.name))}!xt(ie)&&await R(ie,M,V)}}return V.valid},q=()=>{for(const O of a.unMount){const M=J(n,O);M&&(M._f.refs?M._f.refs.every(V=>!mm(V)):!mm(M._f.ref))&&te(O)}a.unMount=new Set},P=(O,M)=>!t.disabled&&(O&&M&&je(s,O,M),!gr(F(),i)),I=(O,M,V)=>Gy(O,a,{...o.mount?s:Ke(M)?i:qt(O)?{[O]:M}:M},V,M),L=O=>z0(J(o.mount?s:i,O,t.shouldUnregister?J(i,O,[]):[])),k=(O,M,V={})=>{const G=J(n,O);let Y=M;if(G){const U=G._f;U&&(!U.disabled&&je(s,O,$A(M,U)),Y=xl(U.ref)&&kt(M)?"":M,MA(U.ref)?[...U.ref.options].forEach(ie=>ie.selected=Y.includes(ie.value)):U.refs?ba(U.ref)?U.refs.forEach(ie=>{(!ie.defaultChecked||!ie.disabled)&&(Array.isArray(Y)?ie.checked=!!Y.find(Ce=>Ce===ie.value):ie.checked=Y===ie.value||!!Y)}):U.refs.forEach(ie=>ie.checked=ie.value===Y):U0(U.ref)?U.ref.value="":(U.ref.value=Y,U.ref.type||f.state.next({name:O,values:nt(s)})))}(V.shouldDirty||V.shouldTouch)&&_(O,Y,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&T(O)},j=(O,M,V)=>{for(const G in M){if(!M.hasOwnProperty(G))return;const Y=M[G],U=O+"."+G,ie=J(n,U);(a.array.has(O)||et(Y)||ie&&!ie._f)&&!Qn(Y)?j(U,Y,V):k(U,Y,V)}},A=(O,M,V={})=>{const G=J(n,O),Y=a.array.has(O),U=nt(M);je(s,O,U),Y?(f.array.next({name:O,values:nt(s)}),(c.isDirty||c.dirtyFields||d.isDirty||d.dirtyFields)&&V.shouldDirty&&f.state.next({name:O,dirtyFields:Ii(i,s),isDirty:P(O,U)})):G&&!G._f&&!kt(U)?j(O,U,V):k(O,U,V),cC(O,a)&&f.state.next({...r,name:O}),f.state.next({name:o.mount?O:void 0,values:nt(s)})},$=async O=>{o.mount=!0;const M=O.target;let V=M.name,G=!0;const Y=J(n,V),U=Oe=>{G=Number.isNaN(Oe)||Qn(Oe)&&isNaN(Oe.getTime())||gr(Oe,J(s,V,Oe))},ie=uC(t.mode),Ce=uC(t.reValidateMode);if(Y){let Oe,ct;const or=M.type?aC(Y._f):RA(O),Kt=O.type===vl.BLUR||O.type===vl.FOCUS_OUT,Ei=!TW(Y._f)&&!t.resolver&&!J(r.errors,V)&&!Y._f.deps||IW(Kt,J(r.touchedFields,V),r.isSubmitted,Ce,ie),Et=cC(V,a,Kt);je(s,V,or),Kt?(!M||!M.readOnly)&&(Y._f.onBlur&&Y._f.onBlur(O),u&&u(0)):Y._f.onChange&&Y._f.onChange(O);const jt=_(V,or,Kt),Rc=!xt(jt)||Et;if(!Kt&&f.state.next({name:V,type:O.type,values:nt(s)}),Ei)return(c.isValid||d.isValid)&&(t.mode==="onBlur"?Kt&&g():Kt||g()),Rc&&f.state.next({name:V,...Et?{}:jt});if(!Kt&&Et&&f.state.next({...r}),t.resolver){const{errors:_a}=await E([V]);if(U(or),G){const Ic=dC(r.errors,n,V),Sa=dC(_a,n,Ic.name||V);Oe=Sa.error,V=Sa.name,ct=xt(_a)}}else w([V],!0),Oe=(await hC(Y,a.disabled,s,p,t.shouldUseNativeValidation))[V],w([V]),U(or),G&&(Oe?ct=!1:(c.isValid||d.isValid)&&(ct=await R(n,!0)));G&&(Y._f.deps&&(!Array.isArray(Y._f.deps)||Y._f.deps.length>0)&&T(Y._f.deps),S(V,ct,Oe,jt))}},C=(O,M)=>{if(J(r.errors,M)&&O.focus)return O.focus(),1},T=async(O,M={})=>{let V,G;const Y=vo(O);if(t.resolver){const U=await N(Ke(O)?O:Y);V=xt(U),G=O?!Y.some(ie=>J(U,ie)):V}else O?(G=(await Promise.all(Y.map(async U=>{const ie=J(n,U);return await R(ie&&ie._f?{[U]:ie}:ie)}))).every(Boolean),!(!G&&!r.isValid)&&g()):G=V=await R(n);return f.state.next({...!qt(O)||(c.isValid||d.isValid)&&V!==r.isValid?{}:{name:O},...t.resolver||!O?{isValid:V}:{},errors:r.errors}),M.shouldFocus&&!G&&xo(n,C,O?Y:a.mount),G},F=(O,M)=>{let V={...o.mount?s:i};return M&&(V=jA(M.dirtyFields?r.dirtyFields:r.touchedFields,V)),Ke(O)?V:qt(O)?J(V,O):O.map(G=>J(V,G))},B=(O,M)=>({invalid:!!J((M||r).errors,O),isDirty:!!J((M||r).dirtyFields,O),error:J((M||r).errors,O),isValidating:!!J(r.validatingFields,O),isTouched:!!J((M||r).touchedFields,O)}),H=O=>{O&&vo(O).forEach(M=>Xe(r.errors,M)),f.state.next({errors:O?r.errors:{}})},Q=(O,M,V)=>{const G=(J(n,O,{_f:{}})._f||{}).ref,Y=J(r.errors,O)||{},{ref:U,message:ie,type:Ce,...Oe}=Y;je(r.errors,O,{...Oe,...M,ref:G}),f.state.next({name:O,errors:r.errors,isValid:!1}),V&&V.shouldFocus&&G&&G.focus&&G.focus()},Z=(O,M)=>mr(O)?f.state.subscribe({next:V=>"values"in V&&O(I(void 0,M),V)}):I(O,M,!0),ne=O=>f.state.subscribe({next:M=>{RW(O.name,M.name,O.exact)&&OW(M,O.formState||c,he,O.reRenderRoot)&&O.callback({values:{...s},...r,...M,defaultValues:i})}}).unsubscribe,ae=O=>(o.mount=!0,d={...d,...O.formState},ne({...O,formState:d})),te=(O,M={})=>{for(const V of O?vo(O):a.mount)a.mount.delete(V),a.array.delete(V),M.keepValue||(Xe(n,V),Xe(s,V)),!M.keepError&&Xe(r.errors,V),!M.keepDirty&&Xe(r.dirtyFields,V),!M.keepTouched&&Xe(r.touchedFields,V),!M.keepIsValidating&&Xe(r.validatingFields,V),!t.shouldUnregister&&!M.keepDefaultValue&&Xe(i,V);f.state.next({values:nt(s)}),f.state.next({...r,...M.keepDirty?{isDirty:P()}:{}}),!M.keepIsValid&&g()},X=({disabled:O,name:M})=>{(Ft(O)&&o.mount||O||a.disabled.has(M))&&(O?a.disabled.add(M):a.disabled.delete(M))},le=(O,M={})=>{let V=J(n,O);const G=Ft(M.disabled)||Ft(t.disabled);return je(n,O,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:O}},name:O,mount:!0,...M}}),a.mount.add(O),V?X({disabled:Ft(M.disabled)?M.disabled:t.disabled,name:O}):b(O,!0,M.value),{...G?{disabled:M.disabled||t.disabled}:{},...t.progressive?{required:!!M.required,min:Hs(M.min),max:Hs(M.max),minLength:Hs(M.minLength),maxLength:Hs(M.maxLength),pattern:Hs(M.pattern)}:{},name:O,onChange:$,onBlur:$,ref:Y=>{if(Y){le(O,M),V=J(n,O);const U=Ke(Y.value)&&Y.querySelectorAll&&Y.querySelectorAll("input,select,textarea")[0]||Y,ie=_W(U),Ce=V._f.refs||[];if(ie?Ce.find(Oe=>Oe===U):U===V._f.ref)return;je(n,O,{_f:{...V._f,...ie?{refs:[...Ce.filter(mm),U,...Array.isArray(J(i,O))?[{}]:[]],ref:{type:U.type,name:O}}:{ref:U}}}),b(O,!1,void 0,U)}else V=J(n,O,{}),V._f&&(V._f.mount=!1),(t.shouldUnregister||M.shouldUnregister)&&!(IA(a.array,O)&&o.action)&&a.unMount.add(O)}}},xe=()=>t.shouldFocusError&&xo(n,C,a.mount),pe=O=>{Ft(O)&&(f.state.next({disabled:O}),xo(n,(M,V)=>{const G=J(n,V);G&&(M.disabled=G._f.disabled||O,Array.isArray(G._f.refs)&&G._f.refs.forEach(Y=>{Y.disabled=G._f.disabled||O}))},0,!1))},fe=(O,M)=>async V=>{let G;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let Y=nt(s);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:U,values:ie}=await E();r.errors=U,Y=nt(ie)}else await R(n);if(a.disabled.size)for(const U of a.disabled)Xe(Y,U);if(Xe(r.errors,"root"),xt(r.errors)){f.state.next({errors:{}});try{await O(Y,V)}catch(U){G=U}}else M&&await M({...r.errors},V),xe(),setTimeout(xe);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xt(r.errors)&&!G,submitCount:r.submitCount+1,errors:r.errors}),G)throw G},de=(O,M={})=>{J(n,O)&&(Ke(M.defaultValue)?A(O,nt(J(i,O))):(A(O,M.defaultValue),je(i,O,nt(M.defaultValue))),M.keepTouched||Xe(r.touchedFields,O),M.keepDirty||(Xe(r.dirtyFields,O),r.isDirty=M.defaultValue?P(O,nt(J(i,O))):P()),M.keepError||(Xe(r.errors,O),c.isValid&&g()),f.state.next({...r}))},be=(O,M={})=>{const V=O?nt(O):i,G=nt(V),Y=xt(O),U=Y?i:G;if(M.keepDefaultValues||(i=V),!M.keepValues){if(M.keepDirtyValues){const ie=new Set([...a.mount,...Object.keys(Ii(i,s))]);for(const Ce of Array.from(ie))J(r.dirtyFields,Ce)?je(U,Ce,J(s,Ce)):A(Ce,J(U,Ce))}else{if(q0&&Ke(O))for(const ie of a.mount){const Ce=J(n,ie);if(Ce&&Ce._f){const Oe=Array.isArray(Ce._f.refs)?Ce._f.refs[0]:Ce._f.ref;if(xl(Oe)){const ct=Oe.closest("form");if(ct){ct.reset();break}}}}if(M.keepFieldsRef)for(const ie of a.mount)A(ie,J(U,ie));else n={}}s=t.shouldUnregister?M.keepDefaultValues?nt(i):{}:nt(U),f.array.next({values:{...U}}),f.state.next({values:{...U}})}a={mount:M.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!M.keepIsValid||!!M.keepDirtyValues||!t.shouldUnregister&&!xt(U),o.watch=!!t.shouldUnregister,f.state.next({submitCount:M.keepSubmitCount?r.submitCount:0,isDirty:Y?!1:M.keepDirty?r.isDirty:!!(M.keepDefaultValues&&!gr(O,i)),isSubmitted:M.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Y?{}:M.keepDirtyValues?M.keepDefaultValues&&s?Ii(i,s):r.dirtyFields:M.keepDefaultValues&&O?Ii(i,O):M.keepDirty?r.dirtyFields:{},touchedFields:M.keepTouched?r.touchedFields:{},errors:M.keepErrors?r.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},ce=(O,M)=>be(mr(O)?O(s):O,M),ke=(O,M={})=>{const V=J(n,O),G=V&&V._f;if(G){const Y=G.refs?G.refs[0]:G.ref;Y.focus&&(Y.focus(),M.shouldSelect&&mr(Y.select)&&Y.select())}},he=O=>{r={...r,...O}},lt={control:{register:le,unregister:te,getFieldState:B,handleSubmit:fe,setError:Q,_subscribe:ne,_runSchema:E,_focusError:xe,_getWatch:I,_getDirty:P,_setValid:g,_setFieldArray:m,_setDisabledField:X,_setErrors:y,_getFieldArray:L,_reset:be,_resetDefaultValues:()=>mr(t.defaultValues)&&t.defaultValues().then(O=>{ce(O,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:q,_disableForm:pe,_subjects:f,_proxyFormState:c,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(O){o=O},get _defaultValues(){return i},get _names(){return a},set _names(O){a=O},get _formState(){return r},get _options(){return t},set _options(O){t={...t,...O}}},subscribe:ae,trigger:T,register:le,handleSubmit:fe,watch:Z,setValue:A,getValues:F,reset:ce,resetField:de,clearErrors:H,unregister:te,setError:Q,setFocus:ke,getFieldState:B};return{...lt,formControl:lt}}function MW(e={}){const t=we.useRef(void 0),r=we.useRef(void 0),[n,i]=we.useState({isDirty:!1,isValidating:!1,isLoading:mr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:mr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!mr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...a}=jW(e);t.current={...a,formState:n}}const s=t.current.control;return s._options=e,H0(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),we.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),we.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),we.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),we.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),we.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),we.useEffect(()=>{e.values&&!gr(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),we.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=PA(n,s),t.current}const pC=(e,t,r)=>{if(e&&"reportValidity"in e){const n=J(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},zA=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?pC(n.ref,r,e):n.refs&&n.refs.forEach(i=>pC(i,r,e))}},LW=(e,t)=>{t.shouldUseNativeValidation&&zA(e,t);const r={};for(const n in e){const i=J(t.fields,n),s=Object.assign(e[n]||{},{ref:i&&i.ref});if(FW(t.names||Object.keys(e),n)){const o=Object.assign({},J(r,n));je(o,"root",s),je(r,n,o)}else je(r,n,s)}return r},FW=(e,t)=>e.some(r=>r.startsWith(t+"."));var $W=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(c){return c.errors.forEach(function(d){return e.push(d)})}),t){var u=r[o].types,l=u&&u[n.code];r[o]=DA(o,t,r,i,l?[].concat(l,n.message):n.message)}e.shift()}return r},qW=function(e,t,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(o,a){try{var u=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(l){return s.shouldUseNativeValidation&&zA({},s),{errors:{},values:r.raw?n:l}})}catch(l){return a(l)}return u&&u.then?u.then(void 0,a):u}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:LW($W(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};const VA=D.createContext({dragDropManager:void 0});function Yt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var gC=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),mC=function(){return Math.random().toString(36).substring(7).split("").join(".")},yC={INIT:"@@redux/INIT"+mC(),REPLACE:"@@redux/REPLACE"+mC()};function zW(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function BA(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Yt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Yt(1));return r(BA)(e,t)}if(typeof e!="function")throw new Error(Yt(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(Yt(3));return s}function d(g){if(typeof g!="function")throw new Error(Yt(4));if(u)throw new Error(Yt(5));var w=!0;return l(),a.push(g),function(){if(w){if(u)throw new Error(Yt(6));w=!1,l();var x=a.indexOf(g);a.splice(x,1),o=null}}}function f(g){if(!zW(g))throw new Error(Yt(7));if(typeof g.type>"u")throw new Error(Yt(8));if(u)throw new Error(Yt(9));try{u=!0,s=i(s,g)}finally{u=!1}for(var w=o=a,m=0;m<w.length;m++){var x=w[m];x()}return g}function p(g){if(typeof g!="function")throw new Error(Yt(10));i=g,f({type:yC.REPLACE})}function h(){var g,w=d;return g={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(Yt(11));function y(){x.next&&x.next(c())}y();var b=w(y);return{unsubscribe:b}}},g[gC]=function(){return this},g}return f({type:yC.INIT}),n={dispatch:f,subscribe:d,getState:c,replaceReducer:p},n[gC]=h,n}function Se(e,t,...r){if(VW()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(t.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function VW(){return typeof process<"u"&&!0}function BW(e,t,r){return t.split(".").reduce((n,i)=>n&&n[i]?n[i]:r||null,e)}function HW(e,t){return e.filter(r=>r!==t)}function HA(e){return typeof e=="object"}function UW(e,t){const r=new Map,n=s=>{r.set(s,r.has(s)?r.get(s)+1:1)};e.forEach(n),t.forEach(n);const i=[];return r.forEach((s,o)=>{s===1&&i.push(o)}),i}function WW(e,t){return e.filter(r=>t.indexOf(r)>-1)}const G0="dnd-core/INIT_COORDS",Sc="dnd-core/BEGIN_DRAG",K0="dnd-core/PUBLISH_DRAG_SOURCE",Ec="dnd-core/HOVER",kc="dnd-core/DROP",Cc="dnd-core/END_DRAG";function vC(e,t){return{type:G0,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const GW={type:G0,payload:{clientOffset:null,sourceClientOffset:null}};function KW(e){return function(r=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:s,getSourceClientOffset:o}=n,a=e.getMonitor(),u=e.getRegistry();e.dispatch(vC(s)),YW(r,a,u);const l=QW(r,a);if(l==null){e.dispatch(GW);return}let c=null;if(s){if(!o)throw new Error("getSourceClientOffset must be defined");ZW(o),c=o(l)}e.dispatch(vC(s,c));const f=u.getSource(l).beginDrag(a,l);if(f==null)return;XW(f),u.pinSource(l);const p=u.getSourceType(l);return{type:Sc,payload:{itemType:p,item:f,sourceId:l,clientOffset:s||null,sourceClientOffset:c||null,isSourcePublic:!!i}}}}function YW(e,t,r){Se(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){Se(r.getSource(n),"Expected sourceIds to be registered.")})}function ZW(e){Se(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function XW(e){Se(HA(e),"Item must be an object.")}function QW(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function JW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){JW(e,i,r[i])})}return e}function t7(e){return function(r={}){const n=e.getMonitor(),i=e.getRegistry();r7(n),s7(n).forEach((o,a)=>{const u=n7(o,a,i,n),l={type:kc,payload:{dropResult:e7({},r,u)}};e.dispatch(l)})}}function r7(e){Se(e.isDragging(),"Cannot call drop while not dragging."),Se(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function n7(e,t,r,n){const i=r.getTarget(e);let s=i?i.drop(n,e):void 0;return i7(s),typeof s>"u"&&(s=t===0?{}:n.getDropResult()),s}function i7(e){Se(typeof e>"u"||HA(e),"Drop result must either be an object or undefined.")}function s7(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function o7(e){return function(){const r=e.getMonitor(),n=e.getRegistry();a7(r);const i=r.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(r,i),n.unpinSource()),{type:Cc}}}function a7(e){Se(e.isDragging(),"Cannot call endDrag while not dragging.")}function Zy(e,t){return t===null?e===null:Array.isArray(e)?e.some(r=>r===t):e===t}function u7(e){return function(r,{clientOffset:n}={}){l7(r);const i=r.slice(0),s=e.getMonitor(),o=e.getRegistry(),a=s.getItemType();return d7(i,o,a),c7(i,s,o),f7(i,s,o),{type:Ec,payload:{targetIds:i,clientOffset:n||null}}}}function l7(e){Se(Array.isArray(e),"Expected targetIds to be an array.")}function c7(e,t,r){Se(t.isDragging(),"Cannot call hover while not dragging."),Se(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){const i=e[n];Se(e.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const s=r.getTarget(i);Se(s,"Expected targetIds to be registered.")}}function d7(e,t,r){for(let n=e.length-1;n>=0;n--){const i=e[n],s=t.getTargetType(i);Zy(s,r)||e.splice(n,1)}}function f7(e,t,r){e.forEach(function(n){r.getTarget(n).hover(t,n)})}function h7(e){return function(){if(e.getMonitor().isDragging())return{type:K0}}}function p7(e){return{beginDrag:KW(e),publishDragSource:h7(e),hover:u7(e),drop:t7(e),endDrag:o7(e)}}class g7{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:r}=this.store;function n(s){return(...o)=>{const a=s.apply(t,o);typeof a<"u"&&r(a)}}const i=p7(this);return Object.keys(i).reduce((s,o)=>{const a=i[o];return s[o]=n(a),s},{})}dispatch(t){this.store.dispatch(t)}constructor(t,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}}function m7(e,t){return{x:e.x+t.x,y:e.y+t.y}}function UA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function y7(e){const{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:n}=e;return!t||!r||!n?null:UA(m7(t,n),r)}function v7(e){const{clientOffset:t,initialClientOffset:r}=e;return!t||!r?null:UA(t,r)}const wo=[],Y0=[];wo.__IS_NONE__=!0;Y0.__IS_ALL__=!0;function x7(e,t){return e===wo?!1:e===Y0||typeof t>"u"?!0:WW(t,e).length>0}class w7{subscribeToStateChange(t,r={}){const{handlerIds:n}=r;Se(typeof t=="function","listener must be a function."),Se(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const s=()=>{const o=this.store.getState(),a=o.stateId;try{a===i||a===i+1&&!x7(o.dirtyHandlerIds,n)||t()}finally{i=a}};return this.store.subscribe(s)}subscribeToOffsetChange(t){Se(typeof t=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==r&&(r=i,t())};return this.store.subscribe(n)}canDragSource(t){if(!t)return!1;const r=this.registry.getSource(t);return Se(r,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:r.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const r=this.registry.getTarget(t);if(Se(r,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(t),i=this.getItemType();return Zy(n,i)&&r.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const r=this.registry.getSource(t,!0);if(Se(r,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(t),i=this.getItemType();return n!==i?!1:r.isDragging(this,t)}isOverTarget(t,r={shallow:!1}){if(!t)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(t),s=this.getItemType();if(s&&!Zy(i,s))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(t);return n?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return y7(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return v7(this.store.getState().dragOffset)}constructor(t,r){this.store=t,this.registry=r}}const xC=typeof global<"u"?global:self,WA=xC.MutationObserver||xC.WebKitMutationObserver;function GA(e){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),e()}}}function b7(e){let t=1;const r=new WA(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}const _7=typeof WA=="function"?b7:GA;class S7{enqueueTask(t){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const r=this.index;if(this.index++,t[r].call(),this.index>this.capacity){for(let n=0,i=t.length-this.index;n<i;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=_7(this.flush),this.requestErrorThrow=GA(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class E7{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,r){this.onError=t,this.release=r,this.task=null}}class k7{create(t){const r=this.freeTasks,n=r.length?r.pop():new E7(this.onError,i=>r[r.length]=i);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}}const KA=new S7,C7=new k7(KA.registerPendingError);function N7(e){KA.enqueueTask(C7.create(e))}const Z0="dnd-core/ADD_SOURCE",X0="dnd-core/ADD_TARGET",Q0="dnd-core/REMOVE_SOURCE",Nc="dnd-core/REMOVE_TARGET";function T7(e){return{type:Z0,payload:{sourceId:e}}}function O7(e){return{type:X0,payload:{targetId:e}}}function R7(e){return{type:Q0,payload:{sourceId:e}}}function I7(e){return{type:Nc,payload:{targetId:e}}}function A7(e){Se(typeof e.canDrag=="function","Expected canDrag to be a function."),Se(typeof e.beginDrag=="function","Expected beginDrag to be a function."),Se(typeof e.endDrag=="function","Expected endDrag to be a function.")}function P7(e){Se(typeof e.canDrop=="function","Expected canDrop to be a function."),Se(typeof e.hover=="function","Expected hover to be a function."),Se(typeof e.drop=="function","Expected beginDrag to be a function.")}function Xy(e,t){if(t&&Array.isArray(e)){e.forEach(r=>Xy(r,!1));return}Se(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Qt;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Qt||(Qt={}));let D7=0;function j7(){return D7++}function M7(e){const t=j7().toString();switch(e){case Qt.SOURCE:return`S${t}`;case Qt.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function wC(e){switch(e[0]){case"S":return Qt.SOURCE;case"T":return Qt.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function bC(e,t){const r=e.entries();let n=!1;do{const{done:i,value:[,s]}=r.next();if(s===t)return!0;n=!!i}while(!n);return!1}class L7{addSource(t,r){Xy(t),A7(r);const n=this.addHandler(Qt.SOURCE,t,r);return this.store.dispatch(T7(n)),n}addTarget(t,r){Xy(t,!0),P7(r);const n=this.addHandler(Qt.TARGET,t,r);return this.store.dispatch(O7(n)),n}containsHandler(t){return bC(this.dragSources,t)||bC(this.dropTargets,t)}getSource(t,r=!1){return Se(this.isSourceId(t),"Expected a valid source ID."),r&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return Se(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return Se(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return Se(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return wC(t)===Qt.SOURCE}isTargetId(t){return wC(t)===Qt.TARGET}removeSource(t){Se(this.getSource(t),"Expected an existing source."),this.store.dispatch(R7(t)),N7(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){Se(this.getTarget(t),"Expected an existing target."),this.store.dispatch(I7(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const r=this.getSource(t);Se(r,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=r}unpinSource(){Se(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,r,n){const i=M7(t);return this.types.set(i,r),t===Qt.SOURCE?this.dragSources.set(i,n):t===Qt.TARGET&&this.dropTargets.set(i,n),i}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const F7=(e,t)=>e===t;function $7(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function q7(e,t,r=F7){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function z7(e=wo,t){switch(t.type){case Ec:break;case Z0:case X0:case Nc:case Q0:return wo;case Sc:case K0:case Cc:case kc:default:return Y0}const{targetIds:r=[],prevTargetIds:n=[]}=t.payload,i=UW(r,n);if(!(i.length>0||!q7(r,n)))return wo;const o=n[n.length-1],a=r[r.length-1];return o!==a&&(o&&i.push(o),a&&i.push(a)),i}function V7(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){V7(e,i,r[i])})}return e}const _C={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function H7(e=_C,t){const{payload:r}=t;switch(t.type){case G0:case Sc:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Ec:return $7(e.clientOffset,r.clientOffset)?e:B7({},e,{clientOffset:r.clientOffset});case Cc:case kc:return _C;default:return e}}function U7(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){U7(e,i,r[i])})}return e}const W7={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function G7(e=W7,t){const{payload:r}=t;switch(t.type){case Sc:return Ti({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case K0:return Ti({},e,{isSourcePublic:!0});case Ec:return Ti({},e,{targetIds:r.targetIds});case Nc:return e.targetIds.indexOf(r.targetId)===-1?e:Ti({},e,{targetIds:HW(e.targetIds,r.targetId)});case kc:return Ti({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Cc:return Ti({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function K7(e=0,t){switch(t.type){case Z0:case X0:return e+1;case Q0:case Nc:return e-1;default:return e}}function Y7(e=0){return e+1}function Z7(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Z7(e,i,r[i])})}return e}function Q7(e={},t){return{dirtyHandlerIds:z7(e.dirtyHandlerIds,{type:t.type,payload:X7({},t.payload,{prevTargetIds:BW(e,"dragOperation.targetIds",[])})}),dragOffset:H7(e.dragOffset,t),refCount:K7(e.refCount,t),dragOperation:G7(e.dragOperation,t),stateId:Y7(e.stateId)}}function J7(e,t=void 0,r={},n=!1){const i=eG(n),s=new w7(i,new L7(i)),o=new g7(i,s),a=e(o,t,r);return o.receiveBackend(a),o}function eG(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return BA(Q7,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function tG(e,t){if(e==null)return{};var r=rG(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rG(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}let SC=0;const ku=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var nG=D.memo(function(t){var{children:r}=t,n=tG(t,["children"]);const[i,s]=iG(n);return D.useEffect(()=>{if(s){const o=YA();return++SC,()=>{--SC===0&&(o[ku]=null)}}},[]),v.jsx(VA.Provider,{value:i,children:r})});function iG(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=sG(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}function sG(e,t=YA(),r,n){const i=t;return i[ku]||(i[ku]={dragDropManager:J7(e,t,r,n)}),i[ku]}function YA(){return typeof global<"u"?global:window}var oG=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r};const aG=Xo(oG),gi=typeof window<"u"?D.useLayoutEffect:D.useEffect;function uG(e,t,r){const[n,i]=D.useState(()=>t(e)),s=D.useCallback(()=>{const o=t(e);aG(n,o)||(i(o),r&&r())},[n,e,r]);return gi(s),[n,s]}function lG(e,t,r){const[n,i]=uG(e,t,r);return gi(function(){const o=e.getHandlerId();if(o!=null)return e.subscribeToStateChange(i,{handlerIds:[o]})},[e,i]),n}function ZA(e,t,r){return lG(t,e||(()=>({})),()=>r.reconnect())}function XA(e,t){const r=[...t||[]];return t==null&&typeof e!="function"&&r.push(e),D.useMemo(()=>typeof e=="function"?e():e,r)}function cG(e){return D.useMemo(()=>e.hooks.dragSource(),[e])}function dG(e){return D.useMemo(()=>e.hooks.dragPreview(),[e])}let ym=!1,vm=!1;class fG{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){Se(!ym,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ym=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ym=!1}}isDragging(){if(!this.sourceId)return!1;Se(!vm,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return vm=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{vm=!1}}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,r){return this.internalMonitor.isOverTarget(t,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let xm=!1;class hG{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}canDrop(){if(!this.targetId)return!1;Se(!xm,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return xm=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{xm=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function pG(e,t,r){const n=r.getRegistry(),i=n.addTarget(e,t);return[i,()=>n.removeTarget(i)]}function gG(e,t,r){const n=r.getRegistry(),i=n.addSource(e,t);return[i,()=>n.removeSource(i)]}function Qy(e,t,r,n){let i;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;const a=Object.prototype.hasOwnProperty.bind(t);for(let u=0;u<s.length;u++){const l=s[u];if(!a(l))return!1;const c=e[l],d=t[l];if(i=void 0,i===!1||i===void 0&&c!==d)return!1}return!0}function Jy(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mG(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function yG(e){return(t=null,r=null)=>{if(!D.isValidElement(t)){const s=t;return e(s,r),s}const n=t;return mG(n),vG(n,r?s=>e(s,r):e)}}function QA(e){const t={};return Object.keys(e).forEach(r=>{const n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{const i=yG(n);t[r]=()=>i}}),t}function EC(e,t){typeof e=="function"?e(t):e.current=t}function vG(e,t){const r=e.ref;return Se(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?D.cloneElement(e,{ref:n=>{EC(r,n),EC(t,n)}}):D.cloneElement(e,{ref:t})}class xG{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?t?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),r):(this.lastConnectedDragSource=t,r):r}reconnectDragPreview(t=!1){const r=this.dragPreview,n=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Qy(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Qy(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=QA({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Jy(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Jy(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class wG{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Qy(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=QA({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Jy(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function As(){const{dragDropManager:e}=D.useContext(VA);return Se(e!=null,"Expected drag drop context"),e}function bG(e,t){const r=As(),n=D.useMemo(()=>new xG(r.getBackend()),[r]);return gi(()=>(n.dragSourceOptions=e||null,n.reconnect(),()=>n.disconnectDragSource()),[n,e]),gi(()=>(n.dragPreviewOptions=t||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,t]),n}function _G(){const e=As();return D.useMemo(()=>new fG(e),[e])}class SG{beginDrag(){const t=this.spec,r=this.monitor;let n=null;return typeof t.item=="object"?n=t.item:typeof t.item=="function"?n=t.item(r):n={},n??null}canDrag(){const t=this.spec,r=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(r):!0}isDragging(t,r){const n=this.spec,i=this.monitor,{isDragging:s}=n;return s?s(i):r===t.getSourceId()}endDrag(){const t=this.spec,r=this.monitor,n=this.connector,{end:i}=t;i&&i(r.getItem(),r),n.reconnect()}constructor(t,r,n){this.spec=t,this.monitor=r,this.connector=n}}function EG(e,t,r){const n=D.useMemo(()=>new SG(e,t,r),[t,r]);return D.useEffect(()=>{n.spec=e},[e]),n}function kG(e){return D.useMemo(()=>{const t=e.type;return Se(t!=null,"spec.type must be defined"),t},[e])}function CG(e,t,r){const n=As(),i=EG(e,t,r),s=kG(e);gi(function(){if(s!=null){const[a,u]=gG(s,i,n);return t.receiveHandlerId(a),r.receiveHandlerId(a),u}},[n,t,r,i,s])}function kC(e,t){const r=XA(e,t);Se(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=_G(),i=bG(r.options,r.previewOptions);return CG(r,n,i),[ZA(r.collect,n,i),cG(i),dG(i)]}function NG(e){return D.useMemo(()=>e.hooks.dropTarget(),[e])}function TG(e){const t=As(),r=D.useMemo(()=>new wG(t.getBackend()),[t]);return gi(()=>(r.dropTargetOptions=e||null,r.reconnect(),()=>r.disconnectDropTarget()),[e]),r}function OG(){const e=As();return D.useMemo(()=>new hG(e),[e])}function RG(e){const{accept:t}=e;return D.useMemo(()=>(Se(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class IG{canDrop(){const t=this.spec,r=this.monitor;return t.canDrop?t.canDrop(r.getItem(),r):!0}hover(){const t=this.spec,r=this.monitor;t.hover&&t.hover(r.getItem(),r)}drop(){const t=this.spec,r=this.monitor;if(t.drop)return t.drop(r.getItem(),r)}constructor(t,r){this.spec=t,this.monitor=r}}function AG(e,t){const r=D.useMemo(()=>new IG(e,t),[t]);return D.useEffect(()=>{r.spec=e},[e]),r}function PG(e,t,r){const n=As(),i=AG(e,t),s=RG(e);gi(function(){const[a,u]=pG(s,i,n);return t.receiveHandlerId(a),r.receiveHandlerId(a),u},[n,t,i,r,s.map(o=>o.toString()).join("|")])}function Tc(e,t){const r=XA(e,t),n=OG(),i=TG(r.options);return PG(r,n,i),[ZA(r.collect,n,i),NG(i)]}const ev="DATA_FIELD";function DG({outputs:e,selectedStepKey:t}){const r=Object.keys(e),[n,i]=D.useState(""),[s,o]=D.useState("schema"),[a,u]=D.useState(1),[l,c]=D.useState(""),d=10;D.useEffect(()=>{t&&r.includes(t)&&t!==l&&(i(t),c(t))},[t,r,l]),D.useEffect(()=>{r.length>0&&(!n||!r.includes(n))&&i(r[0])},[r,n]);const f=n?e[n]:void 0;return v.jsxs("div",{className:"relative h-full flex flex-col overflow-hidden bg-gradient-to-br from-white to-blue-50",children:[Object.entries(e).length===0&&v.jsx("div",{className:"flex h-full items-center justify-center px-4 py-4",children:v.jsxs("div",{className:"rounded-lg border-2 border-dashed border-blue-300 bg-white p-8 text-center shadow-sm",children:[v.jsx("div",{className:"mb-3 text-4xl",children:""}),v.jsx("p",{className:"mb-2 text-sm font-semibold text-blue-800",children:"No Data Available"}),v.jsxs("p",{className:"text-xs text-blue-600",children:["Run a node to capture outputs.",v.jsx("br",{}),"Then ",v.jsx("strong",{children:"drag fields"})," into config forms. "]})]})}),Object.entries(e).length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"px-4 pt-4 pb-3 border-b border-blue-200 bg-white",children:[v.jsx("label",{htmlFor:"node-selector",className:"block text-xs font-semibold text-blue-900 mb-2",children:" Select Node:"}),v.jsx("select",{id:"node-selector",value:n||r[0]||"",onChange:p=>{i(p.target.value),u(1)},className:"w-full rounded-lg border-2 border-blue-300 bg-white px-3 py-2 text-sm font-semibold text-blue-900 shadow-sm hover:border-blue-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:r.map(p=>v.jsx("option",{value:p,children:p},p))})]}),v.jsxs("div",{className:"flex gap-2 px-4 py-3 border-b border-blue-200 bg-white",children:[v.jsx("button",{type:"button",onClick:()=>o("schema"),className:`flex-1 rounded-lg px-4 py-2 text-sm font-bold transition-all ${s==="schema"?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:" SCHEMA"}),v.jsx("button",{type:"button",onClick:()=>o("table"),className:`flex-1 rounded-lg px-4 py-2 text-sm font-bold transition-all ${s==="table"?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:" TABLE"})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:[s==="schema"&&v.jsx(jG,{data:f,stepKey:n}),s==="table"&&v.jsx(MG,{data:f,currentPage:a,itemsPerPage:d,onPageChange:u})]})]})]})}function jG({data:e,stepKey:t}){const r=D.useMemo(()=>e?tv(e):null,[e]);if(!r)return v.jsx("div",{className:"text-center text-sm text-gray-500 py-8",children:"No data structure available"});const n=mi(r);return v.jsxs("div",{children:[v.jsxs("div",{className:"mb-3 rounded-lg border-2 border-indigo-300 bg-gradient-to-r from-indigo-50 to-purple-50 p-3 text-xs text-indigo-900",children:[v.jsx("strong",{className:"text-sm",children:" SCHEMA Mode"}),v.jsxs("p",{className:"mt-1",children:["Shows ",v.jsx("strong",{children:"one representative object"})," from arrays. Drag fields to reference ",v.jsx("strong",{children:"all items"})," in logic nodes (IF/Switch)."]})]}),n?v.jsx("ul",{className:"space-y-2",children:Object.entries(r).map(([i,s])=>v.jsx("li",{children:v.jsx(bl,{label:i,value:s,stepKey:t,path:[i],depth:0,autoExpandAll:!0})},i))}):v.jsx(bl,{label:t,value:r,stepKey:t,path:[],depth:0,autoExpandAll:!0})]})}function MG({data:e,currentPage:t,itemsPerPage:r,onPageChange:n}){const[i,s]=D.useState("TRUE"),o=e&&typeof e=="object"&&!Array.isArray(e)&&"TRUE"in e&&"FALSE"in e,a=e&&typeof e=="object"&&!Array.isArray(e)&&Object.keys(e).some(w=>w.startsWith("case_"));let u=[],l=[];if(o){l=["TRUE","FALSE"];const w=e[i];u=Array.isArray(w)?w:[]}else if(a){const w=e;l=Object.keys(w).sort();const m=w[i];u=Array.isArray(m)?m:[]}else if(Array.isArray(e))u=e;else return v.jsxs("div",{className:"rounded-lg border-2 border-amber-300 bg-amber-50 p-4 text-sm text-amber-900",children:[v.jsx("strong",{children:" TABLE mode requires array data"}),v.jsx("p",{className:"mt-2 text-xs",children:"The selected node output is not an array. Switch to SCHEMA mode to view structure."})]});if(u.length===0)return v.jsxs("div",{children:[l.length>0&&v.jsx("div",{className:"mb-3 flex gap-2",children:l.map(w=>v.jsx("button",{type:"button",onClick:()=>s(w),className:`rounded-lg px-3 py-1 text-xs font-bold transition-all ${i===w?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:w},w))}),v.jsx("div",{className:"text-center text-sm text-gray-500 py-8",children:l.length>0?`Branch "${i}" is empty`:"Empty array - no rows to display"})]});const c=u[0],d=mi(c)?Object.keys(c):[];if(d.length===0)return v.jsxs("div",{className:"rounded-lg border-2 border-amber-300 bg-amber-50 p-4 text-sm text-amber-900",children:[v.jsx("strong",{children:" Cannot display table"}),v.jsx("p",{className:"mt-2 text-xs",children:"Array items are not objects. Use SCHEMA mode instead."})]});const f=Math.ceil(u.length/r),p=(t-1)*r,h=Math.min(p+r,u.length),g=u.slice(p,h);return v.jsxs("div",{children:[l.length>0&&v.jsx("div",{className:"mb-3 flex gap-2",children:l.map(w=>v.jsxs("button",{type:"button",onClick:()=>{s(w),n(1)},className:`rounded-lg px-3 py-2 text-xs font-bold transition-all ${i===w?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[w==="TRUE"&&" ",w==="FALSE"&&" ",w]},w))}),v.jsxs("div",{className:"mb-3 rounded-lg border-2 border-indigo-300 bg-gradient-to-r from-indigo-50 to-purple-50 p-3 text-xs text-indigo-900",children:[v.jsx("strong",{className:"text-sm",children:" TABLE Mode"}),v.jsxs("p",{className:"mt-1",children:[l.length>0&&v.jsxs("span",{className:"font-bold text-indigo-700",children:[i,": "]}),"Showing ",p+1,"-",h," of ",u.length," rows"]})]}),v.jsx("div",{className:"overflow-x-auto rounded-lg border-2 border-blue-200 bg-white shadow-md",children:v.jsxs("table",{className:"w-full text-xs",children:[v.jsx("thead",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-3 py-2 text-left font-bold border-r border-blue-400",children:"#"}),d.map(w=>v.jsx("th",{className:"px-3 py-2 text-left font-bold border-r border-blue-400 last:border-r-0",children:w},w))]})}),v.jsx("tbody",{children:g.map((w,m)=>{const x=p+m;return v.jsxs("tr",{className:"border-b border-blue-100 hover:bg-blue-50 transition-colors",children:[v.jsx("td",{className:"px-3 py-2 font-mono text-gray-500 border-r border-blue-100",children:x}),d.map(y=>{const b=mi(w)?w[y]:void 0;return v.jsx("td",{className:"px-3 py-2 border-r border-blue-100 last:border-r-0",children:LG(b)},y)})]},x)})})]})}),f>1&&v.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg border-2 border-blue-200 bg-white px-4 py-3 shadow-sm",children:[v.jsx("button",{type:"button",onClick:()=>n(Math.max(1,t-1)),disabled:t===1,className:"rounded-lg bg-blue-500 px-4 py-2 text-xs font-bold text-white hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:" Prev"}),v.jsxs("span",{className:"text-sm font-semibold text-blue-900",children:["Page ",t," / ",f]}),v.jsx("button",{type:"button",onClick:()=>n(Math.min(f,t+1)),disabled:t===f,className:"rounded-lg bg-blue-500 px-4 py-2 text-xs font-bold text-white hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Next "})]})]})}function tv(e){if(Array.isArray(e)){if(e.length===0)return{};const t=e[0];return mi(t)?tv(t):t}if(mi(e)){const t={};for(const[r,n]of Object.entries(e))t[r]=tv(n);return t}return e}function LG(e){return e==null?"-":typeof e=="string"?e.length>50?`${e.slice(0,50)}...`:e:typeof e=="number"||typeof e=="boolean"?String(e):Array.isArray(e)?`[${e.length} items]`:mi(e)?"{object}":String(e)}function bl({label:e,value:t,stepKey:r,path:n,depth:i,autoExpandAll:s=!1}){const[o,a]=D.useState(s?i<3:i<1),u=n,l=!mi(t)&&!Array.isArray(t),c=u.length?`${u.join(".")}`:"",d=c?`{{steps.${r}.${c}}}`:`{{steps.${r}}}`,[{isDragging:f},p]=kC(()=>({type:ev,item:{token:d},canDrag:l,collect:w=>({isDragging:w.isDragging()})}),[d,l]);if(l)return v.jsxs("div",{ref:p,className:`group relative flex cursor-grab items-center justify-between rounded-lg border-2 border-dashed bg-gradient-to-r px-4 py-3 text-xs shadow-md transition-all active:cursor-grabbing ${f?"dragging-field scale-110 border-indigo-500 from-indigo-200 to-indigo-100 opacity-70 shadow-2xl":"z-50 border-blue-300 from-white to-blue-50 hover:border-indigo-400 hover:from-indigo-50 hover:to-blue-100 hover:shadow-xl"}`,children:[v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-lg",children:""}),v.jsx("span",{className:"font-bold text-blue-900 group-hover:text-indigo-700",children:e})]}),v.jsx("span",{className:"ml-3 truncate rounded bg-white px-2 py-1 text-xs font-mono text-blue-600 shadow-sm",children:FG(t)}),!f&&v.jsx("div",{className:"absolute -right-1 -top-1 z-10 rounded-full bg-indigo-500 px-2 py-0.5 text-[9px] font-bold text-white shadow-md opacity-0 group-hover:opacity-100 transition-opacity animate-pulse",children:" KO SANG"})]});const[{isDraggingHeader:h},g]=kC(()=>({type:ev,item:{token:d},canDrag:!0,collect:w=>({isDraggingHeader:w.isDragging()})}),[d]);return v.jsxs("div",{className:"rounded-lg border-2 border-blue-200 bg-white shadow-md",children:[v.jsxs("div",{ref:g,className:`group relative cursor-grab transition-all active:cursor-grabbing ${h?"scale-110 bg-indigo-100 opacity-70":"hover:bg-blue-50"}`,children:[v.jsxs("button",{type:"button",onClick:w=>{w.stopPropagation(),a(m=>!m)},className:"flex w-full items-center justify-between px-4 py-3 text-left text-xs font-bold text-blue-800 transition-colors",children:[v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 text-xs font-bold text-white shadow-sm",children:o?"":"+"}),v.jsx("span",{className:"text-lg",children:""}),e]}),v.jsx("span",{className:"text-[10px] uppercase text-ink-400",children:Array.isArray(t)?"array":"object"})]}),!h&&v.jsx("div",{className:"absolute -right-1 -top-1 z-10 rounded-full bg-indigo-500 px-2 py-0.5 text-[9px] font-bold text-white shadow-md opacity-0 group-hover:opacity-100 transition-opacity animate-pulse",children:" KO SANG"})]}),o&&v.jsx("div",{className:"border-t border-ink-100 bg-ink-50 px-3 py-2 text-xs text-ink-600",children:Array.isArray(t)?v.jsx("ul",{className:"space-y-1 pl-2",children:t.map((w,m)=>v.jsx("li",{children:v.jsx(bl,{label:`${m}`,value:w,stepKey:r,path:i===0?[`${m}`]:[...u,`${m}`],depth:i+1,autoExpandAll:s})},m))}):v.jsx("ul",{className:"space-y-1 pl-2",children:Object.entries(t).map(([w,m])=>v.jsx("li",{children:v.jsx(bl,{label:w,value:m,stepKey:r,path:i===0?[w]:[...u,w],depth:i+1,autoExpandAll:s})},w))})})]})}function FG(e){return typeof e=="string"?e.length>32?`${e.slice(0,32)}`:e:typeof e=="number"||typeof e=="boolean"?String(e):e===null||typeof e>"u"?"null":"value"}function mi(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}const Oc=ev,$G=["inputs","auth","advanced","validation"];function qG({schema:e,initialValues:t,onChange:r,onRun:n,isRunning:i,onFuzz:s}){const[o,a]=D.useState("inputs"),u=D.useMemo(()=>rK(e.inputs),[e.inputs]),l=D.useMemo(()=>oK(e.inputs),[e.inputs]),{control:c,handleSubmit:d,reset:f,watch:p,formState:{errors:h,isDirty:g}}=MW({resolver:qW(u),defaultValues:t,mode:"onBlur"}),w=p("mode");D.useEffect(()=>{f(t)},[t,f,e.key]),D.useEffect(()=>{!e.inputs.some(b=>b.group===o)&&l.inputs.length&&a("inputs")},[o,e.inputs,l.inputs.length]),D.useEffect(()=>{const b=p(_=>{r(_)});return()=>b.unsubscribe()},[p,r]);const m=d(b=>{n(b)}),x=()=>{if(!s)return;const b=s(p());f(b),r(b)},y=$G.filter(b=>{var _;return(_=l[b])==null?void 0:_.length});return v.jsxs("form",{className:"flex h-full flex-col",onSubmit:m,children:[v.jsxs("div",{className:"flex items-center gap-2 border-b border-ink-200 px-4 py-2",children:[y.map(b=>v.jsx("button",{type:"button",onClick:()=>a(b),className:yo("rounded-md px-3 py-1 text-sm font-medium",o===b?"bg-indigo-500 text-white":"text-ink-500 hover:bg-ink-100 hover:text-ink-700"),children:aK(b)},b)),v.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s&&v.jsx("button",{type:"button",onClick:x,className:"rounded-md border border-ink-200 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-ink-500 hover:bg-ink-100",children:"Fuzz inputs"}),v.jsx("button",{type:"submit",className:"rounded-md bg-indigo-600 px-4 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 disabled:cursor-not-allowed disabled:bg-ink-300",disabled:i,children:i?"Running...":"Run test"})]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:[y.map(b=>{var _;return v.jsx("div",{className:yo({hidden:o!==b}),children:v.jsx("div",{className:"space-y-4",children:(_=l[b])==null?void 0:_.map(S=>{var E;return uK(S,w)?null:v.jsx(zG,{field:S,control:c,error:(E=h[S.key])==null?void 0:E.message},S.key)})})},b)}),!y.length&&v.jsx("p",{className:"text-sm text-ink-500",children:"No configurable inputs for this node."})]}),g&&v.jsx("div",{className:"border-t border-ink-200 bg-ink-50 px-4 py-2 text-xs text-ink-500",children:"Changes are saved automatically."})]})}function zG({field:e,control:t,error:r}){return v.jsx(bW,{name:e.key,control:t,render:({field:n})=>v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-semibold text-ink-600",htmlFor:e.key,children:e.label??e.key}),v.jsx(VG,{field:e,controllerField:n}),e.help&&v.jsx("p",{className:"text-xs text-ink-500",children:e.help}),r&&v.jsx("p",{className:"text-xs text-rose-600",children:r})]})})}function VG({field:e,controllerField:t}){var u;const r={id:e.key,name:e.key,onBlur:t.onBlur},n=e.placeholder??"",i=lK(e),[{isOver:s},o]=Zo(l=>{if(!i)return;if(e.widget==="chips"){const d=Array.isArray(t.value)?t.value:[];t.onChange([...d,l]);return}const c=(()=>{const d=t.value;if(typeof d=="string")return d.length?`${d} ${l}`:l;if(d===null||typeof d>"u")return l;try{return`${String(d)} ${l}`}catch{return l}})();t.onChange(c)}),a=l=>i?v.jsxs("div",{ref:o,className:`group relative transition-all ${s?"ring-4 ring-indigo-400 rounded-lg bg-indigo-50 p-1 shadow-lg":"hover:ring-2 hover:ring-indigo-200 rounded-lg"}`,children:[s&&v.jsx("div",{className:"absolute -top-8 left-0 right-0 z-10 flex items-center justify-center",children:v.jsx("span",{className:"rounded-full bg-indigo-500 px-3 py-1 text-xs font-bold text-white shadow-lg animate-pulse",children:" DROP HERE"})}),!s&&v.jsx("div",{className:"absolute -top-6 right-0 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx("span",{className:"rounded bg-blue-500 px-2 py-0.5 text-[10px] font-bold text-white shadow-md",children:" Drop zone"})}),l]}):l;switch(e.type){case"number":return a(v.jsx("input",{...r,type:"text",min:e.min,max:e.max,value:t.value===null||typeof t.value>"u"?"":String(t.value),placeholder:n,onChange:l=>{if(l.target.value===""){t.onChange(void 0);return}if(l.target.value.includes("{{")){t.onChange(l.target.value);return}const c=Number(l.target.value);t.onChange(isNaN(c)?l.target.value:c)},className:"w-full rounded-md border border-ink-200 px-3 py-2 text-sm shadow-sm focus:border-indigo-400 focus:outline-none"}));case"boolean":return a(v.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-ink-600",children:[v.jsx("input",{...r,type:"checkbox",checked:!!t.value,onChange:l=>t.onChange(l.target.checked),className:"h-4 w-4 rounded border-ink-300 text-indigo-600"}),v.jsx("span",{children:e.help??"Enable"})]}));case"enum":return a(v.jsxs("select",{...r,value:String(t.value??e.default??""),onChange:l=>t.onChange(l.target.value),className:"w-full rounded-md border border-ink-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-indigo-400 focus:outline-none",children:[v.jsx("option",{value:"",disabled:!0,children:"Select option"}),(u=e.enum)==null?void 0:u.map(l=>v.jsx("option",{value:l,children:l},l))]}));default:return BG(e,t,n,r,a)}}function BG(e,t,r,n,i){const s=e.widget??"text";if(s==="textarea"||s==="json-editor"||s==="code")return i(v.jsx("textarea",{...n,value:String(t.value??""),placeholder:r,rows:s==="json-editor"||s==="code"?8:3,onChange:o=>t.onChange(o.target.value),className:"w-full rounded-md border border-ink-200 px-3 py-2 font-mono text-sm shadow-sm focus:border-indigo-400 focus:outline-none"}));if(s==="keyValue"||s==="keyValueWithType")return v.jsx(UG,{value:t.value??[],onChange:t.onChange,allowType:s==="keyValueWithType"});if(s==="chips")return i(v.jsx(tK,{value:t.value??[],onChange:t.onChange}));if(e.key==="columns"&&e.type==="array")return v.jsx(eK,{value:t.value??[],onChange:t.onChange});if(e.key==="conditions"&&e.type==="array"){const o=t.value,a=(o==null?void 0:o.some(l=>(l==null?void 0:l.fieldType)!==void 0))||(o==null?void 0:o.some(l=>(l==null?void 0:l.field)!==void 0&&(l==null?void 0:l.operator)!==void 0)),u=o==null?void 0:o.some(l=>(l==null?void 0:l.leftValue)!==void 0);return a&&!u?v.jsx(QG,{value:t.value??[],onChange:t.onChange}):v.jsx(GG,{value:t.value??[],onChange:t.onChange})}return e.key==="cases"&&e.type==="array"?v.jsx(XG,{value:t.value??[],onChange:t.onChange}):e.key==="formFields"&&e.type==="array"?v.jsx(YG,{value:t.value??[],onChange:t.onChange}):e.type==="datetime"?i(v.jsx("input",{...n,type:"datetime-local",value:String(t.value??""),placeholder:r,onChange:o=>t.onChange(o.target.value),className:"w-full rounded-md border border-ink-200 px-3 py-2 text-sm shadow-sm focus:border-indigo-400 focus:outline-none"})):i(v.jsx("input",{...n,type:e.type==="email"?"email":e.type==="url"?"url":"text",value:String(t.value??""),placeholder:r,onChange:o=>t.onChange(o.target.value),className:"w-full rounded-md border border-ink-200 px-3 py-2 text-sm shadow-sm focus:border-indigo-400 focus:outline-none"}))}function HG({row:e,index:t,rows:r,onChange:n,allowType:i}){const[{isOver:s},o]=Tc(()=>({accept:Oc,drop:a=>{const u=[...r];u[t]={...u[t],value:a.token},n(u)},collect:a=>({isOver:!!a.isOver()})}));return v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx("input",{type:"text",value:e.key,placeholder:"Key",onChange:a=>{const u=[...r];u[t]={...u[t],key:a.target.value},n(u)},className:"w-2/5 rounded-md border border-ink-200 px-2 py-1 text-sm"}),v.jsxs("div",{ref:o,className:`w-2/5 relative transition-all ${s?"ring-2 ring-indigo-400 rounded-md":""}`,children:[s&&v.jsx("div",{className:"absolute -top-6 left-0 right-0 z-10 flex items-center justify-center",children:v.jsx("span",{className:"rounded-full bg-indigo-500 px-2 py-0.5 text-[9px] font-bold text-white shadow-lg",children:" DROP"})}),v.jsx("input",{type:"text",value:e.value,placeholder:"Value or drag token",onChange:a=>{const u=[...r];u[t]={...u[t],value:a.target.value},n(u)},className:"w-full rounded-md border border-ink-200 px-2 py-1 text-sm"})]}),i&&v.jsxs("select",{value:e.type??"string",onChange:a=>{const u=[...r];u[t]={...u[t],type:a.target.value},n(u)},className:"w-1/5 rounded-md border border-ink-200 px-2 py-1 text-xs focus:border-indigo-400",title:"Field Type",children:[v.jsx("option",{value:"string",children:"String"}),v.jsx("option",{value:"number",children:"Number"}),v.jsx("option",{value:"boolean",children:"Boolean"}),v.jsx("option",{value:"array",children:"Array"}),v.jsx("option",{value:"object",children:"Object"})]}),v.jsxs("label",{className:"flex items-center gap-1 text-xs text-ink-500",children:[v.jsx("input",{type:"checkbox",checked:!!e.sensitive,onChange:a=>{const u=[...r];u[t]={...u[t],sensitive:a.target.checked},n(u)}}),"mask"]}),v.jsx("button",{type:"button",onClick:()=>{const a=r.filter((u,l)=>l!==t);n(a.length?a:[{key:"",value:""}])},className:"text-xs font-semibold uppercase tracking-wide text-rose-500",children:"remove"})]})}function UG({value:e,onChange:t,allowType:r}){const n=e.length?e:[{key:"",value:""}];return v.jsxs("div",{className:"space-y-2",children:[n.map((i,s)=>v.jsx(HG,{row:i,index:s,rows:n,onChange:t,allowType:r},s)),v.jsx("button",{type:"button",onClick:()=>t([...n,{key:"",value:""}]),className:"rounded-md border border-dashed border-ink-300 px-2 py-1 text-xs text-ink-500 hover:border-ink-400",children:"+ add row"})]})}function WG({row:e,index:t,rows:r,onChange:n,operators:i}){const[{isOver:s},o]=Zo(l=>{const c=[...r];c[t]={...c[t],leftValue:l},n(c)}),[{isOver:a},u]=Zo(l=>{const c=[...r];c[t]={...c[t],rightValue:l},n(c)});return v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsxs("div",{ref:o,className:`flex-1 relative transition-all ${s?"ring-4 ring-indigo-400 rounded-lg bg-indigo-50 p-1":"hover:ring-2 hover:ring-indigo-200 rounded-lg"}`,children:[s&&v.jsx("div",{className:"absolute -top-8 left-0 right-0 z-10 flex items-center justify-center",children:v.jsx("span",{className:"rounded-full bg-indigo-500 px-2 py-1 text-xs font-bold text-white shadow-lg animate-pulse",children:" DROP"})}),v.jsx("input",{type:"text",value:e.leftValue,placeholder:"Left value (drag token or type)",onChange:l=>{const c=[...r];c[t]={...c[t],leftValue:l.target.value},n(c)},className:"w-full rounded-md border border-ink-200 px-2 py-1 text-sm"})]}),v.jsx("select",{value:e.operator,onChange:l=>{const c=[...r];c[t]={...c[t],operator:l.target.value},n(c)},className:"w-32 rounded-md border border-ink-200 px-2 py-1 text-sm",title:"Operator",children:i.map(l=>v.jsx("option",{value:l,children:l},l))}),v.jsxs("div",{ref:u,className:`flex-1 relative transition-all ${a?"ring-4 ring-indigo-400 rounded-lg bg-indigo-50 p-1":"hover:ring-2 hover:ring-indigo-200 rounded-lg"}`,children:[a&&v.jsx("div",{className:"absolute -top-8 left-0 right-0 z-10 flex items-center justify-center",children:v.jsx("span",{className:"rounded-full bg-indigo-500 px-2 py-1 text-xs font-bold text-white shadow-lg animate-pulse",children:" DROP"})}),v.jsx("input",{type:"text",value:e.rightValue??"",placeholder:"Right value (drag token or type)",onChange:l=>{const c=[...r];c[t]={...c[t],rightValue:l.target.value},n(c)},className:"w-full rounded-md border border-ink-200 px-2 py-1 text-sm",disabled:e.operator==="isEmpty"||e.operator==="isNotEmpty"})]}),v.jsx("button",{type:"button",onClick:()=>{const l=r.filter((c,d)=>d!==t);n(l.length?l:[{leftValue:"",operator:"==",rightValue:""}])},className:"text-xs font-semibold uppercase tracking-wide text-rose-500 hover:text-rose-600",children:"remove"})]})}function GG({value:e,onChange:t}){const r=e.length?e:[{leftValue:"",operator:"==",rightValue:""}],n=["==","!=",">","<",">=","<=","contains","startsWith","endsWith","isEmpty","isNotEmpty"];return v.jsxs("div",{className:"space-y-2",children:[r.map((i,s)=>v.jsx(WG,{row:i,index:s,rows:r,onChange:t,operators:n},s)),v.jsx("button",{type:"button",onClick:()=>t([...r,{leftValue:"",operator:"==",rightValue:""}]),className:"rounded-md border border-dashed border-ink-300 px-2 py-1 text-xs text-ink-500 hover:border-ink-400",children:"+ add condition"})]})}function KG({row:e,index:t,rows:r,onChange:n,fieldTypes:i}){const[{isOver:s},o]=Zo(a=>{const u=[...r];u[t]={...u[t],fieldValue:a},n(u)});return v.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[v.jsx("input",{type:"text",value:e.fieldName,placeholder:"e.g., userId, name",onChange:a=>{const u=[...r];u[t]={...u[t],fieldName:a.target.value},n(u)},className:"col-span-4 rounded-md border border-ink-200 px-2 py-2 text-sm focus:border-indigo-400"}),v.jsx("select",{value:e.fieldType,onChange:a=>{const u=[...r];u[t]={...u[t],fieldType:a.target.value},n(u)},className:"col-span-3 rounded-md border border-ink-200 px-2 py-2 text-sm focus:border-indigo-400",title:"Field Type",children:i.map(a=>v.jsxs("option",{value:a.value,children:[a.icon," ",a.label]},a.value))}),v.jsxs("div",{ref:o,className:`col-span-4 relative transition-all ${s?"ring-4 ring-indigo-400 rounded-lg bg-indigo-50 p-1":"hover:ring-2 hover:ring-indigo-200 rounded-lg"}`,children:[s&&v.jsx("div",{className:"absolute -top-8 left-0 right-0 z-10 flex items-center justify-center",children:v.jsx("span",{className:"rounded-full bg-indigo-500 px-2 py-1 text-xs font-bold text-white shadow-lg animate-pulse",children:" DROP"})}),v.jsx("input",{type:"text",value:e.fieldValue,placeholder:e.fieldType==="array"?'["item1", "item2"]':e.fieldType==="object"?'{"key": "val"}':e.fieldType==="boolean"?"true / false":e.fieldType==="number"?"123":"value or drag token",onChange:a=>{const u=[...r];u[t]={...u[t],fieldValue:a.target.value},n(u)},className:"w-full rounded-md border border-ink-200 px-2 py-2 text-sm focus:border-indigo-400"})]}),v.jsx("button",{type:"button",onClick:()=>{const a=r.filter((u,l)=>l!==t);n(a.length?a:[{fieldName:"",fieldType:"string",fieldValue:""}])},className:"col-span-1 text-rose-500 hover:text-rose-600 text-lg",title:"Remove field",children:""})]})}function YG({value:e,onChange:t}){const r=e.length?e:[{fieldName:"",fieldType:"string",fieldValue:""}],n=[{value:"string",label:"String",icon:"ab"},{value:"number",label:"Number",icon:"#"},{value:"boolean",label:"Boolean",icon:""},{value:"array",label:"Array",icon:""},{value:"object",label:"Object",icon:""}];return v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs font-semibold text-ink-600 px-2",children:[v.jsx("div",{className:"col-span-4",children:"Field Name"}),v.jsx("div",{className:"col-span-3",children:"Type"}),v.jsx("div",{className:"col-span-4",children:"Value"}),v.jsx("div",{className:"col-span-1"})]}),r.map((i,s)=>v.jsx(KG,{row:i,index:s,rows:r,onChange:t,fieldTypes:n},s)),v.jsx("button",{type:"button",onClick:()=>t([...r,{fieldName:"",fieldType:"string",fieldValue:""}]),className:"w-full rounded-md border-2 border-dashed border-indigo-300 px-3 py-2 text-sm font-semibold text-indigo-600 hover:border-indigo-400 hover:bg-indigo-50",children:"+ Add Field"}),v.jsx("p",{className:"text-xs text-ink-500",children:"Define output fields: name (key), type (string/number/boolean/array/object), and value"})]})}function ZG({caseValue:e,index:t,cases:r,onChange:n}){const[{isOver:i},s]=Zo(o=>{const a=[...r];a[t]=o,n(a)});return v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsxs("div",{ref:s,className:`flex-1 relative transition-all ${i?"ring-4 ring-indigo-400 rounded-lg bg-indigo-50 p-1":"hover:ring-2 hover:ring-indigo-200 rounded-lg"}`,children:[i&&v.jsx("div",{className:"absolute -top-8 left-0 right-0 z-10 flex items-center justify-center",children:v.jsx("span",{className:"rounded-full bg-indigo-500 px-3 py-1 text-xs font-bold text-white shadow-lg animate-pulse",children:" DROP HERE"})}),v.jsx("input",{type:"text",value:String(e),placeholder:`Case ${t+1} value (e.g., 200, success) or drag token`,onChange:o=>{const a=[...r];a[t]=o.target.value,n(a)},className:"w-full rounded-md border border-ink-200 px-3 py-2 text-sm shadow-sm focus:border-indigo-400"})]}),v.jsx("button",{type:"button",onClick:()=>{const o=r.filter((a,u)=>u!==t);n(o.length?o:[""])},className:"rounded-md bg-rose-100 px-3 py-2 text-xs font-semibold uppercase tracking-wide text-rose-600 hover:bg-rose-200",children:"Remove"})]})}function XG({value:e,onChange:t}){const r=e.length?e:[""];return v.jsxs("div",{className:"space-y-2",children:[r.map((n,i)=>v.jsx(ZG,{caseValue:n,index:i,cases:r,onChange:t},i)),v.jsx("button",{type:"button",onClick:()=>t([...r,""]),className:"w-full rounded-md border-2 border-dashed border-indigo-300 px-3 py-2 text-sm font-semibold text-indigo-600 hover:border-indigo-400 hover:bg-indigo-50",children:"+ Add Case"}),v.jsx("p",{className:"text-xs text-ink-500",children:"Each case creates an output handle. Drag tokens from DATA panel or type values manually."})]})}function QG({value:e,onChange:t}){let r=e;(!Array.isArray(r)||r.length===0)&&(r=[{field:"",fieldType:"",operator:"",value:""}]),r=r.map(o=>({field:o.field||"",fieldType:o.fieldType||"",operator:o.operator||"",value:o.value||""}));const n=[{value:"",label:"-- Select Type --"},{value:"string",label:"String"},{value:"number",label:"Number"},{value:"boolean",label:"Boolean"},{value:"date",label:"Date & Time"},{value:"array",label:"Array"},{value:"object",label:"Object"}],i=o=>{if(!o)return[];switch(o){case"string":return[{value:"is equal to",label:"is equal to"},{value:"is not equal to",label:"is not equal to"},{value:"contains",label:"contains"},{value:"does not contain",label:"does not contain"},{value:"starts with",label:"starts with"},{value:"does not start with",label:"does not start with"},{value:"ends with",label:"ends with"},{value:"does not end with",label:"does not end with"},{value:"matches regex",label:"matches regex"},{value:"does not match regex",label:"does not match regex"},{value:"is empty",label:"is empty"},{value:"is not empty",label:"is not empty"},{value:"exists",label:"exists"},{value:"does not exist",label:"does not exist"}];case"number":return[{value:"is equal to",label:"is equal to"},{value:"is not equal to",label:"is not equal to"},{value:"is greater than",label:"is greater than"},{value:"is less than",label:"is less than"},{value:"is greater than or equal to",label:"is greater than or equal to"},{value:"is less than or equal to",label:"is less than or equal to"},{value:"is empty",label:"is empty"},{value:"is not empty",label:"is not empty"},{value:"exists",label:"exists"},{value:"does not exist",label:"does not exist"}];case"boolean":return[{value:"is true",label:"is true"},{value:"is false",label:"is false"},{value:"is equal to",label:"is equal to"},{value:"is not equal to",label:"is not equal to"},{value:"exists",label:"exists"},{value:"does not exist",label:"does not exist"},{value:"is empty",label:"is empty"},{value:"is not empty",label:"is not empty"}];case"date":return[{value:"is equal to",label:"is equal to"},{value:"is not equal to",label:"is not equal to"},{value:"is after",label:"is after"},{value:"is before",label:"is before"},{value:"is after or equal to",label:"is after or equal to"},{value:"is before or equal to",label:"is before or equal to"},{value:"exists",label:"exists"},{value:"does not exist",label:"does not exist"},{value:"is empty",label:"is empty"},{value:"is not empty",label:"is not empty"}];case"array":return[{value:"contains",label:"contains"},{value:"does not contain",label:"does not contain"},{value:"length equal to",label:"length equal to"},{value:"length not equal to",label:"length not equal to"},{value:"length greater than",label:"length greater than"},{value:"length less than",label:"length less than"},{value:"length greater than or equal to",label:"length greater than or equal to"},{value:"length less than or equal to",label:"length less than or equal to"},{value:"is empty",label:"is empty"},{value:"is not empty",label:"is not empty"},{value:"exists",label:"exists"},{value:"does not exist",label:"does not exist"}];default:return[{value:"exists",label:"exists"},{value:"does not exist",label:"does not exist"},{value:"is empty",label:"is empty"},{value:"is not empty",label:"is not empty"}]}},s=o=>!["is empty","is not empty","exists","does not exist","is true","is false"].includes(o);return v.jsxs("div",{className:"space-y-4",children:[r.map((o,a)=>v.jsx(JG,{row:o,index:a,rows:r,onChange:t,getOperatorsByType:i,operatorNeedsValue:s,fieldTypes:n},`${a}-${o.fieldType}`)),v.jsx("button",{type:"button",onClick:()=>t([...r,{field:"",fieldType:"",operator:"",value:""}]),className:"w-full rounded-md border-2 border-dashed border-indigo-300 px-3 py-2 text-sm font-semibold text-indigo-600 hover:border-indigo-400 hover:bg-indigo-50",children:"+ Add Condition"}),v.jsx("p",{className:"text-xs text-ink-500",children:"Drag fields from DATA panel  Select type  Choose operator  Set value (if needed)"})]})}function JG({row:e,index:t,rows:r,onChange:n,getOperatorsByType:i,operatorNeedsValue:s,fieldTypes:o}){const[{isOver:a},u]=Tc(()=>({accept:Oc,drop:d=>{const f=[...r];f[t]={...f[t],field:d.token},n(f)},collect:d=>({isOver:!!d.isOver()})})),l=i(e.fieldType),c=s(e.operator);return console.log(`[Filter Render] Row ${t}: fieldType=${e.fieldType}, operator=${e.operator}`),console.log("[Filter Render] Available operators:",l.map(d=>d.value)),v.jsxs("div",{className:"space-y-2 rounded-lg border-2 border-ink-200 bg-ink-50 p-3",children:[v.jsxs("div",{className:"grid grid-cols-12 gap-2 items-start",children:[v.jsxs("div",{ref:u,className:`col-span-5 relative transition-all ${a?"ring-4 ring-indigo-400 rounded-lg bg-indigo-50 p-1":"hover:ring-2 hover:ring-indigo-200 rounded-lg"}`,children:[a&&v.jsx("div",{className:"absolute -top-7 left-0 right-0 z-10 flex items-center justify-center",children:v.jsx("span",{className:"rounded-full bg-indigo-500 px-2 py-0.5 text-[10px] font-bold text-white shadow-lg",children:" DROP"})}),v.jsx("label",{className:"block text-[10px] font-semibold text-ink-600 mb-1",children:"Field (drag token)"}),v.jsx("input",{type:"text",value:e.field,placeholder:"{{steps.manual1.field}}",onChange:d=>{const f=[...r];f[t]={...f[t],field:d.target.value},n(f)},className:"w-full rounded-md border border-ink-200 px-2 py-2 text-sm focus:border-indigo-400"})]}),v.jsxs("div",{className:"col-span-3",children:[v.jsx("label",{className:"block text-[10px] font-semibold text-ink-600 mb-1",children:"Type"}),v.jsx("select",{value:e.fieldType,onChange:d=>{var w;const f=d.target.value,p=i(f),h=((w=p[0])==null?void 0:w.value)||"";console.log(`[Filter] Type changed from ${e.fieldType} to ${f}`),console.log(`[Filter] Old operator: ${e.operator}, New operator: ${h}`),console.log("[Filter] Available operators:",p.map(m=>m.value));const g=r.map((m,x)=>x===t?{field:m.field,fieldType:f,operator:h,value:s(h)?m.value:""}:{...m});n(g)},className:"w-full rounded-md border border-ink-200 px-2 py-2 text-xs focus:border-indigo-400",title:"Field Type",children:o.map(d=>v.jsx("option",{value:d.value,children:d.label},d.value))})]}),v.jsxs("div",{className:"col-span-3",children:[v.jsx("label",{className:"block text-[10px] font-semibold text-ink-600 mb-1",children:"Operator"}),v.jsx("select",{value:e.operator,onChange:d=>{const f=[...r];f[t]={...f[t],operator:d.target.value},n(f)},className:"w-full rounded-md border border-ink-200 px-2 py-2 text-xs focus:border-indigo-400",title:"Operator",disabled:!e.fieldType||l.length===0,children:l.length===0?v.jsx("option",{value:"",children:"-- Select Type first --"}):v.jsxs(v.Fragment,{children:[v.jsx("option",{value:"",children:"-- Select Operator --"}),l.map(d=>v.jsx("option",{value:d.value,children:d.label},d.value))]})},`operator-${t}-${e.fieldType}`)]}),v.jsx("div",{className:"col-span-1 flex justify-end pt-5",children:v.jsx("button",{type:"button",onClick:()=>{const d=r.filter((f,p)=>p!==t);n(d.length?d:[{field:"",fieldType:"",operator:"",value:""}])},className:"text-rose-500 hover:text-rose-600 text-xl",title:"Remove condition",children:""})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-semibold text-ink-600 mb-1",children:"Value"}),v.jsx("input",{type:e.fieldType==="number"?"number":e.fieldType==="date"?"date":"text",value:e.value,placeholder:e.operator?c?`Enter ${e.fieldType||"value"}`:"No value needed for this operator":"Select operator first",disabled:!c||!e.operator,onChange:d=>{const f=d.target.value;let p=!0,h="";if(f&&e.fieldType==="number")isNaN(Number(f))&&(p=!1,h="Must be a number");else if(f&&e.fieldType==="boolean"){const w=f.toLowerCase();w!=="true"&&w!=="false"&&w!=="1"&&w!=="0"&&(p=!1,h="Must be true/false or 1/0")}const g=[...r];g[t]={...g[t],value:f},n(g),p||console.warn(`[Filter] Invalid value: ${h}`)},className:"w-full rounded-md border px-3 py-2 text-sm focus:border-indigo-400 disabled:bg-ink-50 disabled:text-ink-400 border-ink-200"})]})]},`${t}-${e.fieldType}`)}function eK({value:e,onChange:t}){let r=e;(!Array.isArray(r)||r.length===0)&&(r=[{sourceField:"",targetField:"",targetType:"string",transformExpression:""}]),r=r.map(s=>({sourceField:s.sourceField||"",targetField:s.targetField||"",targetType:s.targetType||"string",transformExpression:s.transformExpression||""}));const n=[{value:"string",label:"String"},{value:"number",label:"Number"},{value:"boolean",label:"Boolean"},{value:"date",label:"Date"},{value:"array",label:"Array"},{value:"object",label:"Object"}],i=s=>Tc(()=>({accept:Oc,drop:o=>{const a=[...r];a[s]={...a[s],sourceField:o.token},t(a)},collect:o=>({isOver:!!o.isOver()})}));return v.jsxs("div",{className:"space-y-4",children:[r.map((s,o)=>{const[{isOver:a},u]=i(o);return v.jsxs("div",{className:"space-y-2 rounded-lg border-2 border-ink-200 bg-ink-50 p-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-semibold text-ink-600 mb-1",children:"Source Field (drag token or leave empty to delete)"}),v.jsxs("div",{ref:u,className:`relative transition-all ${a?"ring-4 ring-indigo-400 rounded-lg bg-indigo-50 p-1":"hover:ring-2 hover:ring-indigo-200 rounded-lg"}`,children:[a&&v.jsx("div",{className:"absolute -top-7 left-0 right-0 z-10 flex items-center justify-center",children:v.jsx("span",{className:"rounded-full bg-indigo-500 px-2 py-0.5 text-[10px] font-bold text-white shadow-lg",children:" DROP"})}),v.jsx("input",{type:"text",value:s.sourceField,placeholder:"{{steps.manual1.name}} or leave empty to add new field",onChange:l=>{const c=[...r];c[o]={...c[o],sourceField:l.target.value},t(c)},className:"w-full rounded-md border border-ink-200 px-3 py-2 text-sm focus:border-indigo-400"})]})]}),v.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[v.jsxs("div",{className:"col-span-6",children:[v.jsx("label",{className:"block text-[10px] font-semibold text-ink-600 mb-1",children:"Target Field Name"}),v.jsx("input",{type:"text",value:s.targetField,placeholder:"newFieldName",onChange:l=>{const c=[...r];c[o]={...c[o],targetField:l.target.value},t(c)},className:"w-full rounded-md border border-ink-200 px-3 py-2 text-sm focus:border-indigo-400"})]}),v.jsxs("div",{className:"col-span-5",children:[v.jsx("label",{className:"block text-[10px] font-semibold text-ink-600 mb-1",children:"Target Type"}),v.jsx("select",{value:s.targetType,onChange:l=>{const c=[...r];c[o]={...c[o],targetType:l.target.value},t(c)},className:"w-full rounded-md border border-ink-200 px-3 py-2 text-sm focus:border-indigo-400",title:"Target Type",children:n.map(l=>v.jsx("option",{value:l.value,children:l.label},l.value))})]}),v.jsx("div",{className:"col-span-1 flex justify-end pt-5",children:v.jsx("button",{type:"button",onClick:()=>{const l=r.filter((c,d)=>d!==o);t(l.length?l:[{sourceField:"",targetField:"",targetType:"string",transformExpression:""}])},className:"text-rose-500 hover:text-rose-600 text-xl",title:"Remove column",children:""})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-semibold text-ink-600 mb-1",children:"Transform Expression (optional) - JS expression"}),v.jsx("input",{type:"text",value:s.transformExpression||"",placeholder:"value.toUpperCase() or value * 2 or value.substring(0, 10)",onChange:l=>{const c=[...r];c[o]={...c[o],transformExpression:l.target.value},t(c)},className:"w-full rounded-md border border-ink-200 px-3 py-2 text-sm focus:border-indigo-400 font-mono text-xs"}),v.jsxs("p",{className:"text-[10px] text-ink-500 mt-1",children:["Use ",v.jsx("code",{className:"bg-ink-200 px-1 rounded",children:"value"})," for source field value,",v.jsx("code",{className:"bg-ink-200 px-1 rounded mx-1",children:"item"})," for whole object"]})]})]},o)}),v.jsx("button",{type:"button",onClick:()=>t([...r,{sourceField:"",targetField:"",targetType:"string",transformExpression:""}]),className:"w-full rounded-md border-2 border-dashed border-indigo-300 px-3 py-2 text-sm font-semibold text-indigo-600 hover:border-indigo-400 hover:bg-indigo-50",children:"+ Add Column Operation"}),v.jsx("p",{className:"text-xs text-ink-500",children:"Drag fields from DATA panel  Set target name & type  Optionally add transform expression"})]})}function tK({value:e,onChange:t}){const[r,n]=D.useState(""),i=e.map(s=>typeof s=="object"&&s!==null?(console.error("[ChipsEditor] Received object instead of string:",s),s.key||s.value||JSON.stringify(s)):String(s));return v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"min-h-[42px] flex flex-wrap gap-2 items-center rounded-md border border-ink-200 bg-white px-3 py-2 focus-within:border-indigo-400 focus-within:ring-2 focus-within:ring-indigo-200 transition-all",children:[i.map((s,o)=>v.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-indigo-100 px-3 py-1 text-xs text-indigo-700 font-medium shadow-sm",children:[v.jsx("span",{children:s}),v.jsx("button",{type:"button",className:"hover:bg-indigo-200 rounded-full p-0.5 transition-colors",onClick:()=>t(i.filter((a,u)=>u!==o)),title:"Remove",children:v.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},`${s}-${o}`)),v.jsx("input",{type:"text",value:r,onChange:s=>n(s.target.value),onKeyDown:s=>{s.key==="Enter"&&r.trim()&&(s.preventDefault(),t([...e,r.trim()]),n(""))},placeholder:e.length===0?"Type and press Enter, or drag fields here":"",className:"flex-1 min-w-[120px] outline-none text-sm bg-transparent"})]}),v.jsx("p",{className:"text-xs text-ink-500",children:" Type field names and press Enter, or drag from DATA panel"})]})}function rK(e){const t={};return e.forEach(r=>{const n=nK(r);n&&(t[r.key]=r.required?n:n.optional())}),ga(t).passthrough()}function nK(e){switch(e.type){case"string":case"email":case"url":case"datetime":return iK(fr(),e);case"number":{const t=sK(DV(),e);return jV(r=>{if(!(typeof r=="string"&&r.trim()==="")){if(typeof r=="number")return r;if(typeof r=="string"){const n=Number(r);return Number.isNaN(n)?void 0:n}return r}},t)}case"boolean":return Vy();case"enum":return lI(e.enum??[""]);case"object":return e.widget==="keyValue"||e.widget==="keyValueWithType"?ts(ga({key:fr().min(1,"Required"),value:fr().optional(),sensitive:Vy().optional(),type:fr().optional()})).default([]):e.widget==="json-editor"?fr().refine(t=>{if(!t)return!0;try{return JSON.parse(t),!0}catch{return!1}},"Invalid JSON"):xd();case"array":return e.widget==="chips"?ts(fr()).default([]):ts(xd());default:return xd()}}function iK(e,t){let r=e;return t.min&&(r=r.min(t.min,`Min ${t.min}`)),t.max&&(r=r.max(t.max,`Max ${t.max}`)),t.pattern&&(r=r.regex(new RegExp(t.pattern),"Invalid pattern")),t.type==="email"&&(r=r.email("Invalid email")),t.type==="url"&&(r=r.url("Invalid URL")),r}function sK(e,t){let r=e;return typeof t.min=="number"&&(r=r.min(t.min,`>= ${t.min}`)),typeof t.max=="number"&&(r=r.max(t.max,`<= ${t.max}`)),r}function oK(e){const r={...{inputs:[],auth:[],advanced:[],validation:[]}};return e.forEach(n=>{const i=n.group??"inputs";r[i]||(r[i]=[]),r[i].push(n)}),r}function aK(e){switch(e){case"auth":return"Auth";case"advanced":return"Advanced";case"validation":return"Validation";default:return"Inputs"}}function Zo(e){return Tc(()=>({accept:Oc,drop:t=>e(t.token),collect:t=>({isOver:t.isOver()})}))}function uK(e,t){return t==="simple"?e.key==="logic"||e.key==="conditions":t==="multi"?e.key==="leftValue"||e.key==="operator"||e.key==="rightValue":t==="single"&&e.key==="filterPath"||t==="json"&&e.key==="formFields"||t==="form"&&e.key==="jsonPayload"}function lK(e){return e.type==="string"||e.type==="url"||e.type==="email"||e.type==="number"||e.widget&&["textarea","json-editor","code","chips"].includes(e.widget)?!0:!(e.type==="boolean"||e.type==="enum")}const wm=["","","ngstrm","","","Hola!","eta"],ru="A".repeat(256),cK=10**12,dK=-9999;function fK(e,t){const r={...t};return e.forEach(n=>{r[n.key]=hK(n,t[n.key])}),r}function hK(e,t){var r;switch(e.type){case"string":case"email":case"url":return CC([wm,[ru,"",String(t??""),"{{steps.http1.body}}"]].flat());case"number":return CC([cK,dK,0,t??42]);case"boolean":return typeof t=="boolean"?!t:!0;case"enum":return(r=e.enum)==null?void 0:r[e.enum.length-1];case"datetime":return new Date(Date.now()+864e5).toISOString().slice(0,16);case"object":return e.widget==="keyValue"||e.widget==="keyValueWithType"?[{key:"emoji",value:""},{key:"long",value:ru},{key:"json",value:JSON.stringify({nested:{value:"{{steps.setVariable1.value}}"}})}]:e.widget==="json-editor"?JSON.stringify({fuzz:wm,long:ru},null,2):t;case"array":return[wm,["{{steps.http1.body.email}}",ru]].flat();default:return t}}function CC(e){return e[Math.random()*e.length|0]}function pK(){const[e,t]=D.useState("config"),r=ge(h=>h.selectedStepKey),n=ge(h=>h.steps),i=ge(h=>h.updateConfig),s=ge(h=>h.runStep),o=ge(h=>h.stepRunStates),a=ge(h=>h.stepOutputs),u=n.find(h=>h.key===r),l=u?mo[u.schemaKey]:void 0,c=u?o[u.key]:void 0,d=u&&a[u.key]!==void 0,f=D.useMemo(()=>u&&l?h=>fK(l.schema.inputs,h):void 0,[u,l]);if(!u||!l)return v.jsx("div",{className:"flex h-full w-full items-center justify-center bg-white p-10 text-sm text-ink-400",children:" Double click a node from the canvas to configure it"});const p=async()=>{await s(u.key)};return v.jsxs("div",{className:"flex h-full w-full flex-col overflow-hidden bg-white",children:[v.jsx("div",{className:"border-b-2 border-indigo-100 bg-gradient-to-r from-white to-indigo-50 px-4 py-2",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-base font-bold text-indigo-900",children:u.name}),v.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wide text-indigo-500",children:l.schema.type})]}),v.jsx("span",{className:"rounded-full bg-indigo-500 px-2 py-0.5 text-[10px] font-bold text-white",children:u.key})]})}),d&&v.jsxs("nav",{className:"flex items-center gap-2 border-b-2 border-gray-200 bg-white px-4 py-2 text-sm shadow-sm",children:[v.jsx("button",{type:"button",onClick:()=>t("config"),className:`rounded-lg px-4 py-2 font-bold transition-all ${e==="config"?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-800"}`,children:" Config"}),v.jsx("button",{type:"button",onClick:()=>t("result"),className:`rounded-lg px-4 py-2 font-bold transition-all ${e==="result"?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-800"}`,children:" Result"})]}),v.jsx("div",{className:"flex-1 overflow-hidden",children:e==="config"?v.jsx(qG,{schema:l.schema,initialValues:u.config,onChange:h=>i(u.key,h),onRun:()=>p(),isRunning:(c==null?void 0:c.status)==="running",onFuzz:f}):v.jsx("div",{className:"h-full overflow-auto p-4",children:v.jsxs("div",{className:"rounded-lg border-2 border-emerald-200 bg-emerald-50 p-4",children:[v.jsx("h4",{className:"mb-2 text-sm font-bold text-emerald-900",children:" Execution Result"}),v.jsx("pre",{className:"overflow-auto rounded bg-white p-3 text-xs text-gray-800 shadow-inner",children:JSON.stringify(a[u.key],null,2)})]})})})]})}const gK=["data","logs"];function mK(){const[e,t]=D.useState("data"),r=ge(c=>c.selectedStepKey),n=ge(c=>c.runTimeline),i=ge(c=>c.stepOutputs),s=ge(c=>c.samples),o=ge(c=>c.markSample),a=ge(c=>c.clearLogs),u=D.useMemo(()=>r?n.filter(c=>c.stepKey===r).reverse():[],[n,r]),l=D.useMemo(()=>{const c={...i};return s.forEach(d=>{c[`sample:${d.label}`]=d.data}),c},[i,s]);return v.jsxs("div",{className:"flex h-full w-full flex-col overflow-hidden bg-gray-50",children:[v.jsxs("header",{className:"flex items-center gap-2 border-b-2 border-emerald-100 bg-white px-4 py-3",children:[v.jsx("h2",{className:"text-sm font-bold text-emerald-800",children:"Output"}),r&&v.jsx("span",{className:"rounded-full bg-emerald-500 px-3 py-1 text-xs font-bold text-white",children:r}),v.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[r&&v.jsx("button",{type:"button",onClick:()=>o(r),className:"rounded-md border-2 border-emerald-500 bg-white px-3 py-1 text-xs font-bold uppercase text-emerald-700 transition hover:bg-emerald-500 hover:text-white",children:" Mark sample"}),v.jsx("button",{type:"button",onClick:()=>a(r),className:"rounded-md border-2 border-rose-300 bg-white px-3 py-1 text-xs font-bold uppercase text-rose-600 transition hover:bg-rose-500 hover:text-white",children:" Clear"})]})]}),v.jsx("nav",{className:"flex items-center gap-2 border-b-2 border-gray-200 bg-white px-4 py-2 text-sm shadow-sm",children:gK.map(c=>v.jsxs("button",{type:"button",onClick:()=>t(c),className:`rounded-lg px-4 py-2 font-bold transition-all ${e===c?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-800"}`,children:[c==="logs"&&" ",c==="data"&&" ",c.toUpperCase()]},c))}),v.jsxs("div",{className:"flex-1 overflow-hidden bg-white",children:[e==="logs"&&v.jsx(yK,{logs:u}),e==="data"&&v.jsx(DG,{outputs:l,selectedStepKey:r})]})]})}function yK({logs:e}){return e.length?v.jsx("div",{className:"h-full overflow-y-auto px-4 py-4 text-xs",children:v.jsx("ul",{className:"space-y-4",children:e.map(t=>{var r;return v.jsxs("li",{className:"rounded-lg border border-ink-200 bg-white p-4 shadow-sm hover:shadow-md transition-shadow",children:[v.jsxs("header",{className:"mb-3 flex items-center justify-between border-b border-ink-100 pb-2 text-ink-600",children:[v.jsx("span",{className:"font-semibold text-sm",children:new Date(t.at).toLocaleTimeString()}),v.jsxs("span",{className:"text-xs",children:[typeof t.status<"u"?` Status ${t.status}`:" Error","  ",(r=t.durationMs)==null?void 0:r.toFixed(0)," ms"]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 text-ink-600",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"text-[11px] font-semibold uppercase tracking-wide text-ink-500 mb-2",children:"Resolved Input"}),v.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-ink-50 p-3 text-xs border border-ink-200",children:JSON.stringify(t.resolvedInput,null,2)})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-[11px] font-semibold uppercase tracking-wide text-ink-500 mb-2",children:"Output"}),t.error?v.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-rose-50 p-3 text-xs text-rose-700 border border-rose-200",children:t.error.message}):v.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-emerald-50 p-3 text-xs border border-emerald-200",children:JSON.stringify(xK(t.output),null,2)})]})]})]},t.at)})})}):v.jsx(vK,{message:"Logs will appear here when you run nodes."})}function vK({message:e}){return v.jsx("div",{className:"flex h-full items-center justify-center px-4 py-4 text-sm text-ink-500",children:e})}function xK(e){return typeof e=="string"&&e.length>256?`${e.slice(0,256)}`:Array.isArray(e)?e.slice(0,10):e}function wK(){const e=ge(f=>f.steps),t=ge(f=>f.selectedStepKey),r=ge(f=>f.selectStep),n=ge(f=>f.stepOutputs),i=ge(f=>f.showConfigPanel),s=ge(f=>f.showResultPanel),o=ge(f=>f.setShowConfigPanel),a=ge(f=>f.setShowResultPanel),u=ge(f=>f.importFlow);D.useEffect(()=>{e.length===0&&fetch("/test-workflow-import.json").then(f=>f.json()).then(f=>{u(f),console.log(" Test workflow auto-loaded")}).catch(f=>{console.error("Failed to auto-load test workflow:",f)})},[]),D.useEffect(()=>{e.length>0&&!t&&r(e[0].key)},[e,t,r]),D.useEffect(()=>{Object.keys(n).length>0&&a(!0)},[n,a]);const l=i&&s,c=!i&&!s?"100%":l?"33.33%":"66.67%",d="33.33%";return v.jsx(IR,{children:v.jsxs("div",{className:"flex h-screen overflow-hidden bg-ink-50 text-ink-900",children:[v.jsx("aside",{className:"border-r-2 border-ink-300 bg-gradient-to-b from-ink-100 to-ink-50 shadow-lg",children:v.jsx(fB,{})}),v.jsx("main",{className:"flex overflow-hidden border-r-2 border-ink-300 bg-gradient-to-br from-ink-50 to-white transition-all duration-300",style:{width:c},children:v.jsx(gW,{})}),s&&v.jsxs("aside",{className:"flex flex-col border-r-2 border-ink-300 bg-gray-50 shadow-2xl transition-all duration-300",style:{width:d},children:[v.jsxs("div",{className:"flex items-center justify-between border-b border-emerald-200 bg-gradient-to-r from-emerald-50 to-white px-4 py-2",children:[v.jsxs("h2",{className:"text-xs font-bold uppercase tracking-wider text-emerald-700",children:[" Results",v.jsx("span",{className:"ml-2 text-[10px] text-emerald-500",children:"(Drag zone - Ko data t y)"})]}),v.jsx("button",{onClick:()=>a(!1),className:"text-ink-400 hover:text-red-600 transition-colors",title:"Close results panel",children:""})]}),v.jsx(mK,{})]}),i&&v.jsxs("aside",{className:"flex flex-col bg-white shadow-2xl transition-all duration-300",style:{width:d},children:[v.jsxs("div",{className:"flex items-center justify-between border-b border-indigo-200 bg-gradient-to-r from-indigo-50 to-white px-4 py-2",children:[v.jsxs("h2",{className:"text-xs font-bold uppercase tracking-wider text-indigo-700",children:[" Configuration",v.jsx("span",{className:"ml-2 text-[10px] text-indigo-500",children:"(Drop zone - Th data vo y)"})]}),v.jsx("button",{onClick:()=>o(!1),className:"text-ink-400 hover:text-red-600 transition-colors",title:"Close configuration panel",children:""})]}),v.jsx(pK,{})]})]})})}function JA(e){let t=null;return()=>(t==null&&(t=e()),t)}function bK(e,t){return e.filter(r=>r!==t)}function _K(e,t){const r=new Set,n=s=>r.add(s);e.forEach(n),t.forEach(n);const i=[];return r.forEach(s=>i.push(s)),i}class SK{enter(t){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(t));return this.entered=_K(this.entered.filter(n),[t]),r===0&&this.entered.length>0}leave(t){const r=this.entered.length;return this.entered=bK(this.entered.filter(this.isNodeInDocument),t),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class EK{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,r){return r===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const e2="__NATIVE_FILE__",t2="__NATIVE_URL__",r2="__NATIVE_TEXT__",n2="__NATIVE_HTML__",NC=Object.freeze(Object.defineProperty({__proto__:null,FILE:e2,HTML:n2,TEXT:r2,URL:t2},Symbol.toStringTag,{value:"Module"}));function bm(e,t,r){const n=t.reduce((i,s)=>i||e.getData(s),"");return n??r}const rv={[e2]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[n2]:{exposeProperties:{html:(e,t)=>bm(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[t2]:{exposeProperties:{urls:(e,t)=>bm(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[r2]:{exposeProperties:{text:(e,t)=>bm(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function kK(e,t){const r=rv[e];if(!r)throw new Error(`native type ${e} has no configuration`);const n=new EK(r);return n.loadDataTransfer(t),n}function _m(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(rv).filter(r=>{const n=rv[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>t.indexOf(i)>-1):!1})[0]||null}const CK=JA(()=>/firefox/i.test(navigator.userAgent)),i2=JA(()=>!!window.safari);class TC{interpolate(t){const{xs:r,ys:n,c1s:i,c2s:s,c3s:o}=this;let a=r.length-1;if(t===r[a])return n[a];let u=0,l=o.length-1,c;for(;u<=l;){c=Math.floor(.5*(u+l));const p=r[c];if(p<t)u=c+1;else if(p>t)l=c-1;else return n[c]}a=Math.max(0,l);const d=t-r[a],f=d*d;return n[a]+i[a]*d+s[a]*f+o[a]*d*f}constructor(t,r){const{length:n}=t,i=[];for(let p=0;p<n;p++)i.push(p);i.sort((p,h)=>t[p]<t[h]?-1:1);const s=[],o=[];let a,u;for(let p=0;p<n-1;p++)a=t[p+1]-t[p],u=r[p+1]-r[p],s.push(a),o.push(u/a);const l=[o[0]];for(let p=0;p<s.length-1;p++){const h=o[p],g=o[p+1];if(h*g<=0)l.push(0);else{a=s[p];const w=s[p+1],m=a+w;l.push(3*m/((m+w)/h+(m+a)/g))}}l.push(o[o.length-1]);const c=[],d=[];let f;for(let p=0;p<l.length-1;p++){f=o[p];const h=l[p],g=1/s[p],w=h+l[p+1]-f-f;c.push((f-h-w)*g),d.push(w*g*g)}this.xs=t,this.ys=r,this.c1s=l,this.c2s=c,this.c3s=d}}const NK=1;function s2(e){const t=e.nodeType===NK?e:e.parentElement;if(!t)return null;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function nu(e){return{x:e.clientX,y:e.clientY}}function TK(e){var t;return e.nodeName==="IMG"&&(CK()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function OK(e,t,r,n){let i=e?t.width:r,s=e?t.height:n;return i2()&&e&&(s/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:s}}function RK(e,t,r,n,i){const s=TK(t),a=s2(s?e:t),u={x:r.x-a.x,y:r.y-a.y},{offsetWidth:l,offsetHeight:c}=e,{anchorX:d,anchorY:f}=n,{dragPreviewWidth:p,dragPreviewHeight:h}=OK(s,t,l,c),g=()=>{let S=new TC([0,.5,1],[u.y,u.y/c*h,u.y+h-c]).interpolate(f);return i2()&&s&&(S+=(window.devicePixelRatio-1)*h),S},w=()=>new TC([0,.5,1],[u.x,u.x/l*p,u.x+p-l]).interpolate(d),{offsetX:m,offsetY:x}=i,y=m===0||m,b=x===0||x;return{x:y?m:w(),y:b?x:g()}}class IK{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,r){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=r}}function AK(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){AK(e,i,r[i])})}return e}class PK{profile(){var t,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,r,n){this.sourceNodes.set(t,r),this.sourceNodeOptions.set(t,n);const i=o=>this.handleDragStart(o,t),s=o=>this.handleSelectStart(o);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",s),r.setAttribute("draggable","false")}}connectDropTarget(t,r){const n=o=>this.handleDragEnter(o,t),i=o=>this.handleDragOver(o,t),s=o=>this.handleDrop(o,t);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",s),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",s)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(t);return OC({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(t);return OC({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(NC).some(r=>NC[r]===t)}beginDragNativeItem(t,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=kK(t,r),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,r){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(t,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(t,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(t,r){this.dropTargetIds.unshift(r)}constructor(t,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const s=this.sourceNodes.get(i);return s&&s2(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const o=nu(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:a}=i,u=_m(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const c=this.monitor.getSourceId(),d=this.sourceNodes.get(c),f=this.sourcePreviewNodes.get(c)||d;if(f){const{anchorX:p,anchorY:h,offsetX:g,offsetY:w}=this.getCurrentSourcePreviewNodeOptions(),y=RK(d,f,o,{anchorX:p,anchorY:h},{offsetX:g,offsetY:w});a.setDragImage(f,y.x,y.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:l}=this.getCurrentSourcePreviewNodeOptions();l?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(u)this.beginDragNativeItem(u);else{if(a&&!a.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:a}=i,u=_m(a);u&&this.beginDragNativeItem(u,a)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,s.length>0&&this.actions.hover(s,{clientOffset:nu(i)}),s.some(a=>this.monitor.canDropOnTarget(a))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=nu(i),this.scheduleHover(s),(s||[]).some(a=>this.monitor.canDropOnTarget(a))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;i.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}else _m(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:nu(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const s=i.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(i.preventDefault(),s.dragDrop()))},this.options=new IK(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new SK(this.isNodeInDocument)}}const DK=function(t,r,n){return new PK(t,r,n)};Sm.createRoot(document.getElementById("root")).render(v.jsx(we.StrictMode,{children:v.jsx(nG,{backend:DK,children:v.jsx(wK,{})})}));
